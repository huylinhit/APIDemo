2023-05-12 05:39:00.696 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-05-12 05:39:00.803 +07:00 [DBG] Hosting starting
2023-05-12 05:39:00.969 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 75D11A6361D7470A96C9C9E8EC2F301CE14CF8DD)
2023-05-12 05:39:01.015 +07:00 [INF] Now listening on: https://localhost:7269
2023-05-12 05:39:01.016 +07:00 [INF] Now listening on: http://localhost:5078
2023-05-12 05:39:01.017 +07:00 [DBG] Loaded hosting startup assembly APIDemo
2023-05-12 05:39:01.018 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-05-12 05:39:01.019 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-05-12 05:39:01.021 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-12 05:39:01.032 +07:00 [INF] Hosting environment: Development
2023-05-12 05:39:01.033 +07:00 [INF] Content root path: C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\
2023-05-12 05:39:01.034 +07:00 [DBG] Hosting started
2023-05-12 05:39:01.035 +07:00 [DBG] Connection id "0HMQIE222O3V7" received FIN.
2023-05-12 05:39:01.035 +07:00 [DBG] Connection id "0HMQIE222O3V8" received FIN.
2023-05-12 05:39:01.048 +07:00 [DBG] Connection id "0HMQIE222O3V8" accepted.
2023-05-12 05:39:01.048 +07:00 [DBG] Connection id "0HMQIE222O3V7" accepted.
2023-05-12 05:39:01.051 +07:00 [DBG] Connection id "0HMQIE222O3V7" started.
2023-05-12 05:39:01.051 +07:00 [DBG] Connection id "0HMQIE222O3V8" started.
2023-05-12 05:39:01.071 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-12 05:39:01.071 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-12 05:39:01.124 +07:00 [DBG] Connection id "0HMQIE222O3V7" stopped.
2023-05-12 05:39:01.124 +07:00 [DBG] Connection id "0HMQIE222O3V8" stopped.
2023-05-12 05:39:01.129 +07:00 [DBG] Connection id "0HMQIE222O3V7" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-12 05:39:01.129 +07:00 [DBG] Connection id "0HMQIE222O3V8" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-12 05:39:01.640 +07:00 [DBG] Connection id "0HMQIE222O3V9" accepted.
2023-05-12 05:39:01.642 +07:00 [DBG] Connection id "0HMQIE222O3V9" started.
2023-05-12 05:39:01.704 +07:00 [DBG] Connection 0HMQIE222O3V9 established using the following protocol: "Tls12"
2023-05-12 05:39:01.760 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/index.html - -
2023-05-12 05:39:01.796 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-05-12 05:39:01.822 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-05-12 05:39:01.824 +07:00 [DBG] Request did not match any endpoints
2023-05-12 05:39:01.944 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-05-12 05:39:02.148 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_vs/browserLink - -
2023-05-12 05:39:02.148 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - -
2023-05-12 05:39:02.156 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-05-12 05:39:02.167 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/index.html - - - 200 - text/html;charset=utf-8 411.5909ms
2023-05-12 05:39:02.167 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 17.6531ms
2023-05-12 05:39:02.222 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 74.3961ms
2023-05-12 05:39:02.290 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - -
2023-05-12 05:39:02.292 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-05-12 05:39:02.294 +07:00 [DBG] Request did not match any endpoints
2023-05-12 05:39:02.455 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 164.6717ms
2023-05-12 05:39:24.566 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-05-12 05:39:24.702 +07:00 [DBG] Hosting starting
2023-05-12 05:39:24.861 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 75D11A6361D7470A96C9C9E8EC2F301CE14CF8DD)
2023-05-12 05:39:24.893 +07:00 [INF] Now listening on: https://localhost:7269
2023-05-12 05:39:24.894 +07:00 [INF] Now listening on: http://localhost:5078
2023-05-12 05:39:24.895 +07:00 [DBG] Loaded hosting startup assembly APIDemo
2023-05-12 05:39:24.896 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-05-12 05:39:24.897 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-05-12 05:39:24.898 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-12 05:39:24.900 +07:00 [INF] Hosting environment: Development
2023-05-12 05:39:24.901 +07:00 [INF] Content root path: C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\
2023-05-12 05:39:24.902 +07:00 [DBG] Hosting started
2023-05-12 05:39:24.955 +07:00 [DBG] Connection id "0HMQIE296R31N" accepted.
2023-05-12 05:39:24.955 +07:00 [DBG] Connection id "0HMQIE296R31O" accepted.
2023-05-12 05:39:24.958 +07:00 [DBG] Connection id "0HMQIE296R31N" started.
2023-05-12 05:39:24.958 +07:00 [DBG] Connection id "0HMQIE296R31O" started.
2023-05-12 05:39:24.992 +07:00 [DBG] Connection id "0HMQIE296R31O" received FIN.
2023-05-12 05:39:24.992 +07:00 [DBG] Connection id "0HMQIE296R31N" received FIN.
2023-05-12 05:39:25.016 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-12 05:39:25.016 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-12 05:39:25.059 +07:00 [DBG] Connection id "0HMQIE296R31N" stopped.
2023-05-12 05:39:25.059 +07:00 [DBG] Connection id "0HMQIE296R31O" stopped.
2023-05-12 05:39:25.064 +07:00 [DBG] Connection id "0HMQIE296R31N" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-12 05:39:25.064 +07:00 [DBG] Connection id "0HMQIE296R31O" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-12 05:39:25.289 +07:00 [DBG] Connection id "0HMQIE296R31P" accepted.
2023-05-12 05:39:25.293 +07:00 [DBG] Connection id "0HMQIE296R31P" started.
2023-05-12 05:39:25.351 +07:00 [DBG] Connection 0HMQIE296R31P established using the following protocol: "Tls12"
2023-05-12 05:39:25.414 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/index.html - -
2023-05-12 05:39:25.456 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-05-12 05:39:25.490 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-05-12 05:39:25.491 +07:00 [DBG] Request did not match any endpoints
2023-05-12 05:39:25.659 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-05-12 05:39:25.824 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - -
2023-05-12 05:39:25.824 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_vs/browserLink - -
2023-05-12 05:39:25.831 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-05-12 05:39:25.848 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 22.7069ms
2023-05-12 05:39:25.848 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/index.html - - - 200 - text/html;charset=utf-8 437.7982ms
2023-05-12 05:39:25.877 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 52.5780ms
2023-05-12 05:39:25.999 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - -
2023-05-12 05:39:26.000 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-05-12 05:39:26.002 +07:00 [DBG] Request did not match any endpoints
2023-05-12 05:39:26.201 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 202.3492ms
2023-05-12 05:39:31.830 +07:00 [DBG] Connection id "0HMQIE296R31Q" accepted.
2023-05-12 05:39:31.831 +07:00 [DBG] Connection id "0HMQIE296R31Q" started.
2023-05-12 05:39:31.832 +07:00 [DBG] Connection id "0HMQIE296R31R" accepted.
2023-05-12 05:39:31.832 +07:00 [DBG] Connection id "0HMQIE296R31Q" received FIN.
2023-05-12 05:39:31.834 +07:00 [DBG] Connection id "0HMQIE296R31R" started.
2023-05-12 05:39:31.837 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-12 05:39:31.842 +07:00 [DBG] Connection id "0HMQIE296R31Q" stopped.
2023-05-12 05:39:31.843 +07:00 [DBG] Connection 0HMQIE296R31R established using the following protocol: "Tls12"
2023-05-12 05:39:31.844 +07:00 [DBG] Connection id "0HMQIE296R31Q" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-12 05:39:31.856 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7269/api/cities - -
2023-05-12 05:39:31.865 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-05-12 05:39:31.869 +07:00 [DBG] Endpoint 'APIDemo.Controllers.CitiesController.GetCities (APIDemo)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-05-12 05:39:31.872 +07:00 [DBG] Request matched endpoint 'APIDemo.Controllers.CitiesController.GetCities (APIDemo)'
2023-05-12 05:39:31.874 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-12 05:39:31.877 +07:00 [INF] Executing endpoint 'APIDemo.Controllers.CitiesController.GetCities (APIDemo)'
2023-05-12 05:39:31.896 +07:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[APIDemo.Model.CityDTO]]] GetCities() on controller APIDemo.Controllers.CitiesController (APIDemo).
2023-05-12 05:39:31.899 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-12 05:39:31.901 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-12 05:39:31.903 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-12 05:39:31.906 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-12 05:39:31.907 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-12 05:39:31.909 +07:00 [DBG] Executing controller factory for controller APIDemo.Controllers.CitiesController (APIDemo)
2023-05-12 05:39:32.094 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-05-12 05:39:32.306 +07:00 [DBG] Executed controller factory for controller APIDemo.Controllers.CitiesController (APIDemo)
2023-05-12 05:39:33.290 +07:00 [INF] Entity Framework Core 6.0.16 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.16' with options: None
2023-05-12 05:39:33.331 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()'
2023-05-12 05:39:33.575 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(50), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    APIDemo.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-05-12 05:39:33.635 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 05:39:33.888 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (249ms).
2023-05-12 05:39:33.902 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 05:39:33.934 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 05:39:33.948 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
2023-05-12 05:39:33.982 +07:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
2023-05-12 05:39:34.007 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 05:39:34.034 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 05:39:34.036 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 05:39:34.046 +07:00 [DBG] A data reader was disposed.
2023-05-12 05:39:34.057 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 05:39:34.064 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 05:39:34.085 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-05-12 05:39:34.091 +07:00 [DBG] No information found on request to perform content negotiation.
2023-05-12 05:39:34.092 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-05-12 05:39:34.093 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-05-12 05:39:34.095 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-05-12 05:39:34.096 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[APIDemo.Model.CityWithoutPointOfInterestDTO, APIDemo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-05-12 05:39:34.263 +07:00 [INF] Executed action APIDemo.Controllers.CitiesController.GetCities (APIDemo) in 2348.84ms
2023-05-12 05:39:34.267 +07:00 [INF] Executed endpoint 'APIDemo.Controllers.CitiesController.GetCities (APIDemo)'
2023-05-12 05:39:34.270 +07:00 [DBG] Connection id "0HMQIE296R31R" completed keep alive response.
2023-05-12 05:39:34.276 +07:00 [DBG] 'CityInfoContext' disposed.
2023-05-12 05:39:34.283 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7269/api/cities - - - 200 153 application/json;+charset=utf-8 2427.2640ms
2023-05-12 05:39:39.295 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7269/api/cities/1?includePointOfInterest=true - -
2023-05-12 05:39:39.297 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2023-05-12 05:39:39.298 +07:00 [DBG] Endpoint 'APIDemo.Controllers.CitiesController.GetCityById (APIDemo)' with route pattern 'api/cities/{cityId}' is valid for the request path '/api/cities/1'
2023-05-12 05:39:39.300 +07:00 [DBG] Request matched endpoint 'APIDemo.Controllers.CitiesController.GetCityById (APIDemo)'
2023-05-12 05:39:39.302 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-12 05:39:39.304 +07:00 [INF] Executing endpoint 'APIDemo.Controllers.CitiesController.GetCityById (APIDemo)'
2023-05-12 05:39:39.322 +07:00 [INF] Route matched with {action = "GetCityById", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCityById(Int32, Boolean) on controller APIDemo.Controllers.CitiesController (APIDemo).
2023-05-12 05:39:39.326 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-12 05:39:39.329 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-12 05:39:39.331 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-12 05:39:39.335 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-12 05:39:39.338 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-12 05:39:39.341 +07:00 [DBG] Executing controller factory for controller APIDemo.Controllers.CitiesController (APIDemo)
2023-05-12 05:39:39.344 +07:00 [DBG] Executed controller factory for controller APIDemo.Controllers.CitiesController (APIDemo)
2023-05-12 05:39:39.355 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-05-12 05:39:39.359 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-05-12 05:39:39.363 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 05:39:39.365 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 05:39:39.368 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-05-12 05:39:39.373 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-05-12 05:39:39.377 +07:00 [DBG] Attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean' ...
2023-05-12 05:39:39.380 +07:00 [DBG] Attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean' using the name 'includePointOfInterest' in request data ...
2023-05-12 05:39:39.384 +07:00 [DBG] Done attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean'.
2023-05-12 05:39:39.386 +07:00 [DBG] Done attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean'.
2023-05-12 05:39:39.388 +07:00 [DBG] Attempting to validate the bound parameter 'includePointOfInterest' of type 'System.Boolean' ...
2023-05-12 05:39:39.391 +07:00 [DBG] Done attempting to validate the bound parameter 'includePointOfInterest' of type 'System.Boolean'.
2023-05-12 05:39:39.398 +07:00 [INF] Entity Framework Core 6.0.16 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.16' with options: None
2023-05-12 05:39:39.429 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Include(item => item.PointOfInterests)
    .Where(item => item.Id == __cityId_0)
    .FirstOrDefault()'
2023-05-12 05:39:39.519 +07:00 [DBG] Including navigation: 'City.PointOfInterests'.
2023-05-12 05:39:39.781 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(50), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: PointOfInterest.CityId (int) Required FK Index, 4], [Property: PointOfInterest.Description (string), 5], [Property: PointOfInterest.Name (string) Required MaxLength(50), 6] }
                3 -> 3
            SELECT t.Id, t.Description, t.Name, p.Id, p.CityId, p.Description, p.Name
            FROM 
            (
                SELECT TOP(1) c.Id, c.Description, c.Name
                FROM Cities AS c
                WHERE c.Id == @__cityId_0
            ) AS t
            LEFT JOIN PointOfInterests AS p ON t.Id == p.CityId
            ORDER BY t.Id ASC), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        APIDemo.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-12 05:39:39.801 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 05:39:39.802 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-12 05:39:39.807 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 05:39:39.809 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 05:39:39.818 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointOfInterests" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2023-05-12 05:39:39.827 +07:00 [INF] Executed DbCommand (16ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointOfInterests" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2023-05-12 05:39:39.830 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 05:39:39.842 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 05:39:39.865 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 05:39:39.867 +07:00 [DBG] A data reader was disposed.
2023-05-12 05:39:39.868 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 05:39:39.870 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 05:39:39.877 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-05-12 05:39:39.880 +07:00 [DBG] No information found on request to perform content negotiation.
2023-05-12 05:39:39.881 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-05-12 05:39:39.882 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-05-12 05:39:39.883 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-05-12 05:39:39.885 +07:00 [INF] Executing OkObjectResult, writing value of type 'APIDemo.Model.CityDTO'.
2023-05-12 05:39:39.892 +07:00 [INF] Executed action APIDemo.Controllers.CitiesController.GetCityById (APIDemo) in 551.3487ms
2023-05-12 05:39:39.894 +07:00 [INF] Executed endpoint 'APIDemo.Controllers.CitiesController.GetCityById (APIDemo)'
2023-05-12 05:39:39.895 +07:00 [DBG] Connection id "0HMQIE296R31R" completed keep alive response.
2023-05-12 05:39:39.896 +07:00 [DBG] 'CityInfoContext' disposed.
2023-05-12 05:39:39.898 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7269/api/cities/1?includePointOfInterest=true - - - 200 208 application/json;+charset=utf-8 603.1512ms
2023-05-12 05:41:09.279 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-05-12 05:41:09.423 +07:00 [DBG] Hosting starting
2023-05-12 05:41:09.572 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 75D11A6361D7470A96C9C9E8EC2F301CE14CF8DD)
2023-05-12 05:41:09.608 +07:00 [INF] Now listening on: https://localhost:7269
2023-05-12 05:41:09.609 +07:00 [INF] Now listening on: http://localhost:5078
2023-05-12 05:41:09.611 +07:00 [DBG] Loaded hosting startup assembly APIDemo
2023-05-12 05:41:09.613 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-05-12 05:41:09.615 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-05-12 05:41:09.618 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-12 05:41:09.621 +07:00 [INF] Hosting environment: Development
2023-05-12 05:41:09.624 +07:00 [INF] Content root path: C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\
2023-05-12 05:41:09.628 +07:00 [DBG] Hosting started
2023-05-12 05:41:09.800 +07:00 [DBG] Connection id "0HMQIE38ENSD9" received FIN.
2023-05-12 05:41:09.826 +07:00 [DBG] Connection id "0HMQIE38ENSD9" accepted.
2023-05-12 05:41:09.831 +07:00 [DBG] Connection id "0HMQIE38ENSD9" started.
2023-05-12 05:41:09.854 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-12 05:41:09.890 +07:00 [DBG] Connection id "0HMQIE38ENSD9" stopped.
2023-05-12 05:41:09.897 +07:00 [DBG] Connection id "0HMQIE38ENSD9" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-12 05:41:10.048 +07:00 [DBG] Connection id "0HMQIE38ENSDA" accepted.
2023-05-12 05:41:10.049 +07:00 [DBG] Connection id "0HMQIE38ENSDA" started.
2023-05-12 05:41:10.106 +07:00 [DBG] Connection 0HMQIE38ENSDA established using the following protocol: "Tls12"
2023-05-12 05:41:10.164 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/index.html - -
2023-05-12 05:41:10.198 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-05-12 05:41:10.225 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-05-12 05:41:10.227 +07:00 [DBG] Request did not match any endpoints
2023-05-12 05:41:10.334 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-05-12 05:41:10.484 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - -
2023-05-12 05:41:10.484 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_vs/browserLink - -
2023-05-12 05:41:10.490 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-05-12 05:41:10.497 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 13.1397ms
2023-05-12 05:41:10.498 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/index.html - - - 200 - text/html;charset=utf-8 338.2534ms
2023-05-12 05:41:10.509 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 25.6449ms
2023-05-12 05:41:10.605 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - -
2023-05-12 05:41:10.606 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-05-12 05:41:10.607 +07:00 [DBG] Request did not match any endpoints
2023-05-12 05:41:10.772 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 166.5422ms
2023-05-12 05:41:14.365 +07:00 [DBG] Connection id "0HMQIE38ENSDB" accepted.
2023-05-12 05:41:14.365 +07:00 [DBG] Connection id "0HMQIE38ENSDB" received FIN.
2023-05-12 05:41:14.366 +07:00 [DBG] Connection id "0HMQIE38ENSDB" started.
2023-05-12 05:41:14.367 +07:00 [DBG] Connection id "0HMQIE38ENSDC" accepted.
2023-05-12 05:41:14.371 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-12 05:41:14.372 +07:00 [DBG] Connection id "0HMQIE38ENSDC" started.
2023-05-12 05:41:14.376 +07:00 [DBG] Connection id "0HMQIE38ENSDB" stopped.
2023-05-12 05:41:14.378 +07:00 [DBG] Connection id "0HMQIE38ENSDB" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-12 05:41:14.382 +07:00 [DBG] Connection 0HMQIE38ENSDC established using the following protocol: "Tls12"
2023-05-12 05:41:14.395 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7269/api/cities/1?includePointOfInterest=true - -
2023-05-12 05:41:14.403 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2023-05-12 05:41:14.410 +07:00 [DBG] Endpoint 'APIDemo.Controllers.CitiesController.GetCityById (APIDemo)' with route pattern 'api/cities/{cityId}' is valid for the request path '/api/cities/1'
2023-05-12 05:41:14.415 +07:00 [DBG] Request matched endpoint 'APIDemo.Controllers.CitiesController.GetCityById (APIDemo)'
2023-05-12 05:41:14.420 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-12 05:41:14.424 +07:00 [INF] Executing endpoint 'APIDemo.Controllers.CitiesController.GetCityById (APIDemo)'
2023-05-12 05:41:14.456 +07:00 [INF] Route matched with {action = "GetCityById", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCityById(Int32, Boolean) on controller APIDemo.Controllers.CitiesController (APIDemo).
2023-05-12 05:41:14.460 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-12 05:41:14.463 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-12 05:41:14.465 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-12 05:41:14.467 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-12 05:41:14.469 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-12 05:41:14.473 +07:00 [DBG] Executing controller factory for controller APIDemo.Controllers.CitiesController (APIDemo)
2023-05-12 05:41:14.634 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-05-12 05:41:14.839 +07:00 [DBG] Executed controller factory for controller APIDemo.Controllers.CitiesController (APIDemo)
2023-05-12 05:41:14.849 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-05-12 05:41:14.852 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-05-12 05:41:14.855 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 05:41:14.856 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 05:41:14.858 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-05-12 05:41:14.861 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-05-12 05:41:14.865 +07:00 [DBG] Attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean' ...
2023-05-12 05:41:14.868 +07:00 [DBG] Attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean' using the name 'includePointOfInterest' in request data ...
2023-05-12 05:41:14.872 +07:00 [DBG] Done attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean'.
2023-05-12 05:41:14.877 +07:00 [DBG] Done attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean'.
2023-05-12 05:41:14.882 +07:00 [DBG] Attempting to validate the bound parameter 'includePointOfInterest' of type 'System.Boolean' ...
2023-05-12 05:41:14.886 +07:00 [DBG] Done attempting to validate the bound parameter 'includePointOfInterest' of type 'System.Boolean'.
2023-05-12 05:41:15.827 +07:00 [INF] Entity Framework Core 6.0.16 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.16' with options: None
2023-05-12 05:41:15.924 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Include(item => item.PointOfInterests)
    .Where(item => item.Id == __cityId_0)
    .FirstOrDefault()'
2023-05-12 05:41:16.044 +07:00 [DBG] Including navigation: 'City.PointOfInterests'.
2023-05-12 05:41:16.438 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(50), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: PointOfInterest.CityId (int) Required FK Index, 4], [Property: PointOfInterest.Description (string), 5], [Property: PointOfInterest.Name (string) Required MaxLength(50), 6] }
                3 -> 3
            SELECT t.Id, t.Description, t.Name, p.Id, p.CityId, p.Description, p.Name
            FROM 
            (
                SELECT TOP(1) c.Id, c.Description, c.Name
                FROM Cities AS c
                WHERE c.Id == @__cityId_0
            ) AS t
            LEFT JOIN PointOfInterests AS p ON t.Id == p.CityId
            ORDER BY t.Id ASC), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        APIDemo.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-12 05:41:16.507 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 05:41:16.623 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (112ms).
2023-05-12 05:41:16.641 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 05:41:16.663 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 05:41:16.685 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointOfInterests" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2023-05-12 05:41:16.722 +07:00 [INF] Executed DbCommand (43ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointOfInterests" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2023-05-12 05:41:16.753 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 05:41:16.795 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 05:41:16.817 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 05:41:16.829 +07:00 [DBG] A data reader was disposed.
2023-05-12 05:41:16.840 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 05:41:16.849 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 05:41:16.869 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-05-12 05:41:16.878 +07:00 [DBG] No information found on request to perform content negotiation.
2023-05-12 05:41:16.880 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-05-12 05:41:16.884 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-05-12 05:41:16.887 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-05-12 05:41:16.892 +07:00 [INF] Executing OkObjectResult, writing value of type 'APIDemo.Models.CityDTO'.
2023-05-12 05:41:17.061 +07:00 [INF] Executed action APIDemo.Controllers.CitiesController.GetCityById (APIDemo) in 2582.3187ms
2023-05-12 05:41:17.064 +07:00 [INF] Executed endpoint 'APIDemo.Controllers.CitiesController.GetCityById (APIDemo)'
2023-05-12 05:41:17.066 +07:00 [DBG] Connection id "0HMQIE38ENSDC" completed keep alive response.
2023-05-12 05:41:17.072 +07:00 [DBG] 'CityInfoContext' disposed.
2023-05-12 05:41:17.078 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7269/api/cities/1?includePointOfInterest=true - - - 200 208 application/json;+charset=utf-8 2683.2291ms
2023-05-12 05:41:26.909 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-05-12 05:41:27.022 +07:00 [DBG] Hosting starting
2023-05-12 05:41:27.189 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 75D11A6361D7470A96C9C9E8EC2F301CE14CF8DD)
2023-05-12 05:41:27.237 +07:00 [INF] Now listening on: https://localhost:7269
2023-05-12 05:41:27.239 +07:00 [INF] Now listening on: http://localhost:5078
2023-05-12 05:41:27.240 +07:00 [DBG] Loaded hosting startup assembly APIDemo
2023-05-12 05:41:27.241 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-05-12 05:41:27.242 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-05-12 05:41:27.243 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-12 05:41:27.244 +07:00 [INF] Hosting environment: Development
2023-05-12 05:41:27.245 +07:00 [INF] Content root path: C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\
2023-05-12 05:41:27.246 +07:00 [DBG] Hosting started
2023-05-12 05:41:27.606 +07:00 [DBG] Connection id "0HMQIE3DOH0A6" accepted.
2023-05-12 05:41:27.609 +07:00 [DBG] Connection id "0HMQIE3DOH0A7" accepted.
2023-05-12 05:41:27.609 +07:00 [DBG] Connection id "0HMQIE3DOH0A6" started.
2023-05-12 05:41:27.610 +07:00 [DBG] Connection id "0HMQIE3DOH0A7" started.
2023-05-12 05:41:27.644 +07:00 [DBG] Connection id "0HMQIE3DOH0A7" received FIN.
2023-05-12 05:41:27.644 +07:00 [DBG] Connection id "0HMQIE3DOH0A6" received FIN.
2023-05-12 05:41:27.661 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-12 05:41:27.661 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-12 05:41:27.703 +07:00 [DBG] Connection id "0HMQIE3DOH0A7" stopped.
2023-05-12 05:41:27.705 +07:00 [DBG] Connection id "0HMQIE3DOH0A6" stopped.
2023-05-12 05:41:27.709 +07:00 [DBG] Connection id "0HMQIE3DOH0A6" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-12 05:41:27.709 +07:00 [DBG] Connection id "0HMQIE3DOH0A7" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-12 05:41:27.866 +07:00 [DBG] Connection id "0HMQIE3DOH0A8" accepted.
2023-05-12 05:41:27.873 +07:00 [DBG] Connection id "0HMQIE3DOH0A8" started.
2023-05-12 05:41:27.926 +07:00 [DBG] Connection 0HMQIE3DOH0A8 established using the following protocol: "Tls12"
2023-05-12 05:41:27.979 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/index.html - -
2023-05-12 05:41:28.016 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-05-12 05:41:28.042 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-05-12 05:41:28.043 +07:00 [DBG] Request did not match any endpoints
2023-05-12 05:41:28.150 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-05-12 05:41:28.298 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_vs/browserLink - -
2023-05-12 05:41:28.298 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - -
2023-05-12 05:41:28.309 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-05-12 05:41:28.316 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 16.3605ms
2023-05-12 05:41:28.316 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/index.html - - - 200 - text/html;charset=utf-8 340.9869ms
2023-05-12 05:41:28.328 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 29.1361ms
2023-05-12 05:41:28.422 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - -
2023-05-12 05:41:28.424 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-05-12 05:41:28.426 +07:00 [DBG] Request did not match any endpoints
2023-05-12 05:41:28.582 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 160.0927ms
2023-05-12 05:48:45.751 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-05-12 05:48:45.872 +07:00 [DBG] Hosting starting
2023-05-12 05:48:46.021 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 75D11A6361D7470A96C9C9E8EC2F301CE14CF8DD)
2023-05-12 05:48:46.069 +07:00 [INF] Now listening on: https://localhost:7269
2023-05-12 05:48:46.070 +07:00 [INF] Now listening on: http://localhost:5078
2023-05-12 05:48:46.071 +07:00 [DBG] Loaded hosting startup assembly APIDemo
2023-05-12 05:48:46.072 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-05-12 05:48:46.074 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-05-12 05:48:46.076 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-12 05:48:46.078 +07:00 [INF] Hosting environment: Development
2023-05-12 05:48:46.080 +07:00 [INF] Content root path: C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\
2023-05-12 05:48:46.082 +07:00 [DBG] Hosting started
2023-05-12 05:48:46.359 +07:00 [DBG] Connection id "0HMQIE7GGQQE3" received FIN.
2023-05-12 05:48:46.363 +07:00 [DBG] Connection id "0HMQIE7GGQQE4" received FIN.
2023-05-12 05:48:46.379 +07:00 [DBG] Connection id "0HMQIE7GGQQE3" accepted.
2023-05-12 05:48:46.379 +07:00 [DBG] Connection id "0HMQIE7GGQQE4" accepted.
2023-05-12 05:48:46.384 +07:00 [DBG] Connection id "0HMQIE7GGQQE3" started.
2023-05-12 05:48:46.384 +07:00 [DBG] Connection id "0HMQIE7GGQQE4" started.
2023-05-12 05:48:46.402 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-12 05:48:46.402 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-12 05:48:46.443 +07:00 [DBG] Connection id "0HMQIE7GGQQE3" stopped.
2023-05-12 05:48:46.443 +07:00 [DBG] Connection id "0HMQIE7GGQQE4" stopped.
2023-05-12 05:48:46.450 +07:00 [DBG] Connection id "0HMQIE7GGQQE4" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-12 05:48:46.450 +07:00 [DBG] Connection id "0HMQIE7GGQQE3" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-12 05:48:46.626 +07:00 [DBG] Connection id "0HMQIE7GGQQE5" accepted.
2023-05-12 05:48:46.628 +07:00 [DBG] Connection id "0HMQIE7GGQQE5" started.
2023-05-12 05:48:46.696 +07:00 [DBG] Connection 0HMQIE7GGQQE5 established using the following protocol: "Tls12"
2023-05-12 05:48:46.754 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/index.html - -
2023-05-12 05:48:46.787 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-05-12 05:48:46.811 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-05-12 05:48:46.816 +07:00 [DBG] Request did not match any endpoints
2023-05-12 05:48:46.925 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-05-12 05:48:47.069 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - -
2023-05-12 05:48:47.069 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_vs/browserLink - -
2023-05-12 05:48:47.078 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-05-12 05:48:47.085 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 13.3140ms
2023-05-12 05:48:47.087 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/index.html - - - 200 - text/html;charset=utf-8 337.0477ms
2023-05-12 05:48:47.099 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 29.5773ms
2023-05-12 05:48:47.194 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - -
2023-05-12 05:48:47.195 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-05-12 05:48:47.197 +07:00 [DBG] Request did not match any endpoints
2023-05-12 05:48:47.357 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 163.2668ms
2023-05-12 05:48:55.856 +07:00 [DBG] Connection id "0HMQIE7GGQQE6" accepted.
2023-05-12 05:48:55.856 +07:00 [DBG] Connection id "0HMQIE7GGQQE6" received FIN.
2023-05-12 05:48:55.857 +07:00 [DBG] Connection id "0HMQIE7GGQQE6" started.
2023-05-12 05:48:55.858 +07:00 [DBG] Connection id "0HMQIE7GGQQE7" accepted.
2023-05-12 05:48:55.861 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-12 05:48:55.863 +07:00 [DBG] Connection id "0HMQIE7GGQQE7" started.
2023-05-12 05:48:55.869 +07:00 [DBG] Connection id "0HMQIE7GGQQE6" stopped.
2023-05-12 05:48:55.872 +07:00 [DBG] Connection id "0HMQIE7GGQQE6" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-12 05:48:55.875 +07:00 [DBG] Connection 0HMQIE7GGQQE7 established using the following protocol: "Tls12"
2023-05-12 05:48:55.887 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7269/api/cities/1/pointsofinterest - -
2023-05-12 05:48:55.896 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2023-05-12 05:48:55.902 +07:00 [DBG] Endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2023-05-12 05:48:55.905 +07:00 [DBG] Request matched endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo)'
2023-05-12 05:48:55.908 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-12 05:48:55.912 +07:00 [INF] Executing endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo)'
2023-05-12 05:48:55.944 +07:00 [INF] Route matched with {action = "GetPointOfInterests", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[APIDemo.Models.PointOfInterestDTO]]] GetPointOfInterests(Int32) on controller APIDemo.Controllers.PointOfInterestController (APIDemo).
2023-05-12 05:48:55.951 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-12 05:48:55.956 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-12 05:48:55.963 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-12 05:48:55.971 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-12 05:48:55.978 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-12 05:48:55.983 +07:00 [DBG] Executing controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 05:48:56.154 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-05-12 05:48:56.369 +07:00 [DBG] Executed controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 05:48:56.375 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-05-12 05:48:56.378 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-05-12 05:48:56.380 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 05:48:56.381 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 05:48:56.383 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-05-12 05:48:56.385 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-05-12 05:48:57.404 +07:00 [INF] Entity Framework Core 6.0.16 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.16' with options: None
2023-05-12 05:48:57.505 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Include(item => item.PointOfInterests)
    .Where(item => item.Id == __cityId_0)
    .FirstOrDefault()'
2023-05-12 05:48:57.631 +07:00 [DBG] Including navigation: 'City.PointOfInterests'.
2023-05-12 05:48:58.105 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(50), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: PointOfInterest.CityId (int) Required FK Index, 4], [Property: PointOfInterest.Description (string), 5], [Property: PointOfInterest.Name (string) Required MaxLength(50), 6] }
                3 -> 3
            SELECT t.Id, t.Description, t.Name, p.Id, p.CityId, p.Description, p.Name
            FROM 
            (
                SELECT TOP(1) c.Id, c.Description, c.Name
                FROM Cities AS c
                WHERE c.Id == @__cityId_0
            ) AS t
            LEFT JOIN PointOfInterests AS p ON t.Id == p.CityId
            ORDER BY t.Id ASC), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        APIDemo.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-12 05:48:58.180 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 05:48:58.263 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (78ms).
2023-05-12 05:48:58.281 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 05:48:58.301 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 05:48:58.323 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointOfInterests" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2023-05-12 05:48:58.364 +07:00 [INF] Executed DbCommand (47ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointOfInterests" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2023-05-12 05:48:58.415 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 05:48:58.454 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 05:48:58.474 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 05:48:58.485 +07:00 [DBG] A data reader was disposed.
2023-05-12 05:48:58.495 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 05:48:58.503 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 05:48:58.526 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-05-12 05:48:58.533 +07:00 [DBG] No information found on request to perform content negotiation.
2023-05-12 05:48:58.533 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-05-12 05:48:58.535 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-05-12 05:48:58.537 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-05-12 05:48:58.540 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[APIDemo.Models.PointOfInterestDTO, APIDemo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-05-12 05:48:58.708 +07:00 [INF] Executed action APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo) in 2720.7757ms
2023-05-12 05:48:58.713 +07:00 [INF] Executed endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo)'
2023-05-12 05:48:58.715 +07:00 [DBG] Connection id "0HMQIE7GGQQE7" completed keep alive response.
2023-05-12 05:48:58.721 +07:00 [DBG] 'CityInfoContext' disposed.
2023-05-12 05:48:58.728 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7269/api/cities/1/pointsofinterest - - - 200 108 application/json;+charset=utf-8 2841.0322ms
2023-05-12 05:50:08.150 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-05-12 05:50:08.280 +07:00 [DBG] Hosting starting
2023-05-12 05:50:08.426 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 75D11A6361D7470A96C9C9E8EC2F301CE14CF8DD)
2023-05-12 05:50:08.477 +07:00 [INF] Now listening on: https://localhost:7269
2023-05-12 05:50:08.478 +07:00 [INF] Now listening on: http://localhost:5078
2023-05-12 05:50:08.479 +07:00 [DBG] Loaded hosting startup assembly APIDemo
2023-05-12 05:50:08.480 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-05-12 05:50:08.481 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-05-12 05:50:08.483 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-12 05:50:08.484 +07:00 [INF] Hosting environment: Development
2023-05-12 05:50:08.486 +07:00 [INF] Content root path: C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\
2023-05-12 05:50:08.487 +07:00 [DBG] Hosting started
2023-05-12 05:50:08.869 +07:00 [DBG] Connection id "0HMQIE893MPHN" received FIN.
2023-05-12 05:50:08.880 +07:00 [DBG] Connection id "0HMQIE893MPHN" accepted.
2023-05-12 05:50:08.883 +07:00 [DBG] Connection id "0HMQIE893MPHN" started.
2023-05-12 05:50:08.902 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-12 05:50:08.939 +07:00 [DBG] Connection id "0HMQIE893MPHN" stopped.
2023-05-12 05:50:08.947 +07:00 [DBG] Connection id "0HMQIE893MPHN" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-12 05:50:09.100 +07:00 [DBG] Connection id "0HMQIE893MPHO" accepted.
2023-05-12 05:50:09.102 +07:00 [DBG] Connection id "0HMQIE893MPHO" started.
2023-05-12 05:50:09.151 +07:00 [DBG] Connection 0HMQIE893MPHO established using the following protocol: "Tls12"
2023-05-12 05:50:09.206 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/index.html - -
2023-05-12 05:50:09.241 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-05-12 05:50:09.264 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-05-12 05:50:09.265 +07:00 [DBG] Request did not match any endpoints
2023-05-12 05:50:09.370 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-05-12 05:50:09.520 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - -
2023-05-12 05:50:09.520 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_vs/browserLink - -
2023-05-12 05:50:09.528 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-05-12 05:50:09.544 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 22.2594ms
2023-05-12 05:50:09.544 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/index.html - - - 200 - text/html;charset=utf-8 343.0574ms
2023-05-12 05:50:09.554 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 33.8628ms
2023-05-12 05:50:09.650 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - -
2023-05-12 05:50:09.651 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-05-12 05:50:09.654 +07:00 [DBG] Request did not match any endpoints
2023-05-12 05:50:09.810 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 160.3641ms
2023-05-12 05:50:12.457 +07:00 [DBG] Connection id "0HMQIE893MPHP" accepted.
2023-05-12 05:50:12.458 +07:00 [DBG] Connection id "0HMQIE893MPHP" received FIN.
2023-05-12 05:50:12.459 +07:00 [DBG] Connection id "0HMQIE893MPHP" started.
2023-05-12 05:50:12.460 +07:00 [DBG] Connection id "0HMQIE893MPHQ" accepted.
2023-05-12 05:50:12.463 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-12 05:50:12.465 +07:00 [DBG] Connection id "0HMQIE893MPHQ" started.
2023-05-12 05:50:12.470 +07:00 [DBG] Connection id "0HMQIE893MPHP" stopped.
2023-05-12 05:50:12.473 +07:00 [DBG] Connection id "0HMQIE893MPHP" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-12 05:50:12.481 +07:00 [DBG] Connection 0HMQIE893MPHQ established using the following protocol: "Tls12"
2023-05-12 05:50:12.494 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7269/api/cities/1/pointsofinterest - -
2023-05-12 05:50:12.502 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2023-05-12 05:50:12.509 +07:00 [DBG] Endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2023-05-12 05:50:12.513 +07:00 [DBG] Request matched endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo)'
2023-05-12 05:50:12.516 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-12 05:50:12.519 +07:00 [INF] Executing endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo)'
2023-05-12 05:50:12.551 +07:00 [INF] Route matched with {action = "GetPointOfInterests", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[APIDemo.Models.PointOfInterestDTO]]] GetPointOfInterests(Int32) on controller APIDemo.Controllers.PointOfInterestController (APIDemo).
2023-05-12 05:50:12.556 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-12 05:50:12.559 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-12 05:50:12.561 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-12 05:50:12.565 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-12 05:50:12.568 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-12 05:50:12.574 +07:00 [DBG] Executing controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 05:50:12.745 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-05-12 05:50:12.952 +07:00 [DBG] Executed controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 05:50:12.958 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-05-12 05:50:12.961 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-05-12 05:50:12.964 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 05:50:12.965 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 05:50:12.969 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-05-12 05:50:12.973 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-05-12 05:50:13.933 +07:00 [INF] Entity Framework Core 6.0.16 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.16' with options: None
2023-05-12 05:50:14.023 +07:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(item => item.CityId == __cityId_0)'
2023-05-12 05:50:14.436 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PointOfInterest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
        SELECT p.Id, p.CityId, p.Description, p.Name
        FROM PointOfInterests AS p
        WHERE p.CityId == @__cityId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
    APIDemo.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-05-12 05:50:14.506 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 05:50:14.591 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (81ms).
2023-05-12 05:50:14.610 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 05:50:14.632 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 05:50:14.652 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE "p"."CityId" = @__cityId_0
2023-05-12 05:50:14.692 +07:00 [INF] Executed DbCommand (46ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE "p"."CityId" = @__cityId_0
2023-05-12 05:50:14.718 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 05:50:14.753 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 05:50:14.765 +07:00 [DBG] A data reader was disposed.
2023-05-12 05:50:14.776 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 05:50:14.785 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 05:50:14.808 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-05-12 05:50:14.822 +07:00 [DBG] No information found on request to perform content negotiation.
2023-05-12 05:50:14.824 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-05-12 05:50:14.828 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-05-12 05:50:14.833 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-05-12 05:50:14.840 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[APIDemo.Models.PointOfInterestDTO, APIDemo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-05-12 05:50:15.008 +07:00 [INF] Executed action APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo) in 2428.8154ms
2023-05-12 05:50:15.012 +07:00 [INF] Executed endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo)'
2023-05-12 05:50:15.015 +07:00 [DBG] Connection id "0HMQIE893MPHQ" completed keep alive response.
2023-05-12 05:50:15.024 +07:00 [DBG] 'CityInfoContext' disposed.
2023-05-12 05:50:15.031 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7269/api/cities/1/pointsofinterest - - - 200 108 application/json;+charset=utf-8 2537.6292ms
2023-05-12 05:50:57.664 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-05-12 05:50:57.777 +07:00 [DBG] Hosting starting
2023-05-12 05:50:57.923 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 75D11A6361D7470A96C9C9E8EC2F301CE14CF8DD)
2023-05-12 05:50:57.964 +07:00 [INF] Now listening on: https://localhost:7269
2023-05-12 05:50:57.965 +07:00 [INF] Now listening on: http://localhost:5078
2023-05-12 05:50:57.967 +07:00 [DBG] Loaded hosting startup assembly APIDemo
2023-05-12 05:50:57.968 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-05-12 05:50:57.969 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-05-12 05:50:57.970 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-12 05:50:57.971 +07:00 [INF] Hosting environment: Development
2023-05-12 05:50:57.972 +07:00 [INF] Content root path: C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\
2023-05-12 05:50:57.973 +07:00 [DBG] Hosting started
2023-05-12 05:50:58.217 +07:00 [DBG] Connection id "0HMQIE8NQAIPL" received FIN.
2023-05-12 05:50:58.252 +07:00 [DBG] Connection id "0HMQIE8NQAIPL" accepted.
2023-05-12 05:50:58.257 +07:00 [DBG] Connection id "0HMQIE8NQAIPL" started.
2023-05-12 05:50:58.278 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-12 05:50:58.317 +07:00 [DBG] Connection id "0HMQIE8NQAIPL" stopped.
2023-05-12 05:50:58.323 +07:00 [DBG] Connection id "0HMQIE8NQAIPL" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-12 05:50:58.475 +07:00 [DBG] Connection id "0HMQIE8NQAIPM" accepted.
2023-05-12 05:50:58.477 +07:00 [DBG] Connection id "0HMQIE8NQAIPM" started.
2023-05-12 05:50:58.552 +07:00 [DBG] Connection 0HMQIE8NQAIPM established using the following protocol: "Tls12"
2023-05-12 05:50:58.608 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/index.html - -
2023-05-12 05:50:58.643 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-05-12 05:50:58.668 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-05-12 05:50:58.670 +07:00 [DBG] Request did not match any endpoints
2023-05-12 05:50:58.782 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-05-12 05:50:58.931 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_vs/browserLink - -
2023-05-12 05:50:58.931 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - -
2023-05-12 05:50:58.948 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-05-12 05:50:58.962 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 30.4603ms
2023-05-12 05:50:58.963 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/index.html - - - 200 - text/html;charset=utf-8 359.0113ms
2023-05-12 05:50:58.976 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 45.3658ms
2023-05-12 05:50:59.065 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - -
2023-05-12 05:50:59.067 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-05-12 05:50:59.068 +07:00 [DBG] Request did not match any endpoints
2023-05-12 05:50:59.216 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 150.1141ms
2023-05-12 05:51:02.270 +07:00 [DBG] Connection id "0HMQIE8NQAIPN" accepted.
2023-05-12 05:51:02.270 +07:00 [DBG] Connection id "0HMQIE8NQAIPN" received FIN.
2023-05-12 05:51:02.271 +07:00 [DBG] Connection id "0HMQIE8NQAIPN" started.
2023-05-12 05:51:02.272 +07:00 [DBG] Connection id "0HMQIE8NQAIPO" accepted.
2023-05-12 05:51:02.275 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-12 05:51:02.276 +07:00 [DBG] Connection id "0HMQIE8NQAIPO" started.
2023-05-12 05:51:02.282 +07:00 [DBG] Connection id "0HMQIE8NQAIPN" stopped.
2023-05-12 05:51:02.284 +07:00 [DBG] Connection id "0HMQIE8NQAIPN" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-12 05:51:02.288 +07:00 [DBG] Connection 0HMQIE8NQAIPO established using the following protocol: "Tls12"
2023-05-12 05:51:02.300 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7269/api/cities/1/pointsofinterest - -
2023-05-12 05:51:02.309 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2023-05-12 05:51:02.316 +07:00 [DBG] Endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2023-05-12 05:51:02.318 +07:00 [DBG] Request matched endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo)'
2023-05-12 05:51:02.321 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-12 05:51:02.326 +07:00 [INF] Executing endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo)'
2023-05-12 05:51:02.358 +07:00 [INF] Route matched with {action = "GetPointOfInterests", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[APIDemo.Models.PointOfInterestDTO]]] GetPointOfInterests(Int32) on controller APIDemo.Controllers.PointOfInterestController (APIDemo).
2023-05-12 05:51:02.367 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-12 05:51:02.372 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-12 05:51:02.377 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-12 05:51:02.382 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-12 05:51:02.387 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-12 05:51:02.392 +07:00 [DBG] Executing controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 05:51:02.557 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-05-12 05:51:02.757 +07:00 [DBG] Executed controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 05:51:02.765 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-05-12 05:51:02.770 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-05-12 05:51:02.772 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 05:51:02.774 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 05:51:02.775 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-05-12 05:51:02.778 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-05-12 05:51:03.761 +07:00 [INF] Entity Framework Core 6.0.16 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.16' with options: None
2023-05-12 05:51:03.832 +07:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(item => item.CityId == __cityId_0)'
2023-05-12 05:51:04.244 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PointOfInterest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
        SELECT p.Id, p.CityId, p.Description, p.Name
        FROM PointOfInterests AS p
        WHERE p.CityId == @__cityId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
    APIDemo.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-05-12 05:51:04.316 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 05:51:04.395 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (75ms).
2023-05-12 05:51:04.415 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 05:51:04.437 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 05:51:04.455 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE "p"."CityId" = @__cityId_0
2023-05-12 05:51:04.499 +07:00 [INF] Executed DbCommand (49ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE "p"."CityId" = @__cityId_0
2023-05-12 05:51:04.530 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 05:51:04.562 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 05:51:04.576 +07:00 [DBG] A data reader was disposed.
2023-05-12 05:51:04.587 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 05:51:04.599 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 05:51:04.605 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-05-12 05:51:04.615 +07:00 [DBG] No information found on request to perform content negotiation.
2023-05-12 05:51:04.617 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-05-12 05:51:04.623 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-05-12 05:51:04.627 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-05-12 05:51:04.631 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[APIDemo.Entities.PointOfInterest, APIDemo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-05-12 05:51:04.823 +07:00 [INF] Executed action APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo) in 2425.8028ms
2023-05-12 05:51:04.825 +07:00 [INF] Executed endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo)'
2023-05-12 05:51:04.827 +07:00 [DBG] Connection id "0HMQIE8NQAIPO" completed keep alive response.
2023-05-12 05:51:04.834 +07:00 [DBG] 'CityInfoContext' disposed.
2023-05-12 05:51:04.839 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7269/api/cities/1/pointsofinterest - - - 200 154 application/json;+charset=utf-8 2538.4616ms
2023-05-12 05:52:24.626 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-05-12 05:52:24.744 +07:00 [DBG] Hosting starting
2023-05-12 05:52:24.885 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 75D11A6361D7470A96C9C9E8EC2F301CE14CF8DD)
2023-05-12 05:52:24.934 +07:00 [INF] Now listening on: https://localhost:7269
2023-05-12 05:52:24.936 +07:00 [INF] Now listening on: http://localhost:5078
2023-05-12 05:52:24.937 +07:00 [DBG] Loaded hosting startup assembly APIDemo
2023-05-12 05:52:24.938 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-05-12 05:52:24.939 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-05-12 05:52:24.941 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-12 05:52:24.943 +07:00 [INF] Hosting environment: Development
2023-05-12 05:52:24.944 +07:00 [INF] Content root path: C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\
2023-05-12 05:52:24.946 +07:00 [DBG] Hosting started
2023-05-12 05:52:25.256 +07:00 [DBG] Connection id "0HMQIE9HOCURF" received FIN.
2023-05-12 05:52:25.271 +07:00 [DBG] Connection id "0HMQIE9HOCURF" accepted.
2023-05-12 05:52:25.274 +07:00 [DBG] Connection id "0HMQIE9HOCURF" started.
2023-05-12 05:52:25.293 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-12 05:52:25.334 +07:00 [DBG] Connection id "0HMQIE9HOCURF" stopped.
2023-05-12 05:52:25.338 +07:00 [DBG] Connection id "0HMQIE9HOCURF" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-12 05:52:25.488 +07:00 [DBG] Connection id "0HMQIE9HOCURG" accepted.
2023-05-12 05:52:25.489 +07:00 [DBG] Connection id "0HMQIE9HOCURG" started.
2023-05-12 05:52:25.540 +07:00 [DBG] Connection 0HMQIE9HOCURG established using the following protocol: "Tls12"
2023-05-12 05:52:25.601 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/index.html - -
2023-05-12 05:52:25.639 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-05-12 05:52:25.666 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-05-12 05:52:25.668 +07:00 [DBG] Request did not match any endpoints
2023-05-12 05:52:25.778 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-05-12 05:52:25.939 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - -
2023-05-12 05:52:25.946 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-05-12 05:52:25.949 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_vs/browserLink - -
2023-05-12 05:52:25.950 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 10.3589ms
2023-05-12 05:52:25.951 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/index.html - - - 200 - text/html;charset=utf-8 355.6139ms
2023-05-12 05:52:25.975 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 26.7790ms
2023-05-12 05:52:26.071 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - -
2023-05-12 05:52:26.072 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-05-12 05:52:26.074 +07:00 [DBG] Request did not match any endpoints
2023-05-12 05:52:26.213 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 141.2563ms
2023-05-12 05:52:26.918 +07:00 [DBG] Connection id "0HMQIE9HOCURH" accepted.
2023-05-12 05:52:26.919 +07:00 [DBG] Connection id "0HMQIE9HOCURH" received FIN.
2023-05-12 05:52:26.920 +07:00 [DBG] Connection id "0HMQIE9HOCURH" started.
2023-05-12 05:52:26.920 +07:00 [DBG] Connection id "0HMQIE9HOCURI" accepted.
2023-05-12 05:52:26.923 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-12 05:52:26.924 +07:00 [DBG] Connection id "0HMQIE9HOCURI" started.
2023-05-12 05:52:26.928 +07:00 [DBG] Connection id "0HMQIE9HOCURH" stopped.
2023-05-12 05:52:26.930 +07:00 [DBG] Connection id "0HMQIE9HOCURH" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-12 05:52:26.938 +07:00 [DBG] Connection 0HMQIE9HOCURI established using the following protocol: "Tls12"
2023-05-12 05:52:26.950 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7269/api/cities/3/pointsofinterest - -
2023-05-12 05:52:26.961 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest'
2023-05-12 05:52:26.968 +07:00 [DBG] Endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/3/pointsofinterest'
2023-05-12 05:52:26.972 +07:00 [DBG] Request matched endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo)'
2023-05-12 05:52:26.975 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-12 05:52:26.978 +07:00 [INF] Executing endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo)'
2023-05-12 05:52:27.008 +07:00 [INF] Route matched with {action = "GetPointOfInterests", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[APIDemo.Models.PointOfInterestDTO]]] GetPointOfInterests(Int32) on controller APIDemo.Controllers.PointOfInterestController (APIDemo).
2023-05-12 05:52:27.012 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-12 05:52:27.014 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-12 05:52:27.017 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-12 05:52:27.019 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-12 05:52:27.021 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-12 05:52:27.023 +07:00 [DBG] Executing controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 05:52:27.211 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-05-12 05:52:27.417 +07:00 [DBG] Executed controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 05:52:27.423 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-05-12 05:52:27.427 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-05-12 05:52:27.430 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 05:52:27.432 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 05:52:27.434 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-05-12 05:52:27.437 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-05-12 05:52:28.428 +07:00 [INF] Entity Framework Core 6.0.16 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.16' with options: None
2023-05-12 05:52:28.497 +07:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(item => item.CityId == __cityId_0)'
2023-05-12 05:52:28.897 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PointOfInterest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
        SELECT p.Id, p.CityId, p.Description, p.Name
        FROM PointOfInterests AS p
        WHERE p.CityId == @__cityId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
    APIDemo.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-05-12 05:52:28.968 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 05:52:29.062 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (88ms).
2023-05-12 05:52:29.081 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 05:52:29.101 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 05:52:29.121 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE "p"."CityId" = @__cityId_0
2023-05-12 05:52:29.161 +07:00 [INF] Executed DbCommand (46ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE "p"."CityId" = @__cityId_0
2023-05-12 05:52:29.185 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 05:52:29.217 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 05:52:29.228 +07:00 [DBG] A data reader was disposed.
2023-05-12 05:52:29.238 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 05:52:29.247 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 05:52:29.269 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-05-12 05:52:29.275 +07:00 [DBG] No information found on request to perform content negotiation.
2023-05-12 05:52:29.276 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-05-12 05:52:29.279 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-05-12 05:52:29.282 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-05-12 05:52:29.287 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[APIDemo.Models.PointOfInterestDTO, APIDemo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-05-12 05:52:29.454 +07:00 [INF] Executed action APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo) in 2426.4856ms
2023-05-12 05:52:29.458 +07:00 [INF] Executed endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo)'
2023-05-12 05:52:29.459 +07:00 [DBG] Connection id "0HMQIE9HOCURI" completed keep alive response.
2023-05-12 05:52:29.466 +07:00 [DBG] 'CityInfoContext' disposed.
2023-05-12 05:52:29.472 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7269/api/cities/3/pointsofinterest - - - 200 102 application/json;+charset=utf-8 2521.1634ms
2023-05-12 05:52:32.887 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7269/api/cities/4/pointsofinterest - -
2023-05-12 05:52:32.889 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/4/pointsofinterest'
2023-05-12 05:52:32.890 +07:00 [DBG] Endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/4/pointsofinterest'
2023-05-12 05:52:32.892 +07:00 [DBG] Request matched endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo)'
2023-05-12 05:52:32.894 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-12 05:52:32.895 +07:00 [INF] Executing endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo)'
2023-05-12 05:52:32.897 +07:00 [INF] Route matched with {action = "GetPointOfInterests", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[APIDemo.Models.PointOfInterestDTO]]] GetPointOfInterests(Int32) on controller APIDemo.Controllers.PointOfInterestController (APIDemo).
2023-05-12 05:52:32.902 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-12 05:52:32.905 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-12 05:52:32.907 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-12 05:52:32.910 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-12 05:52:32.912 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-12 05:52:32.915 +07:00 [DBG] Executing controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 05:52:32.918 +07:00 [DBG] Executed controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 05:52:32.920 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-05-12 05:52:32.922 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-05-12 05:52:32.923 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 05:52:32.925 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 05:52:32.927 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-05-12 05:52:32.928 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-05-12 05:52:32.932 +07:00 [INF] Entity Framework Core 6.0.16 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.16' with options: None
2023-05-12 05:52:32.943 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 05:52:32.944 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-12 05:52:32.947 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 05:52:32.949 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 05:52:32.951 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE "p"."CityId" = @__cityId_0
2023-05-12 05:52:32.954 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE "p"."CityId" = @__cityId_0
2023-05-12 05:52:32.956 +07:00 [DBG] A data reader was disposed.
2023-05-12 05:52:32.957 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 05:52:32.960 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 05:52:32.962 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-05-12 05:52:32.966 +07:00 [DBG] No information found on request to perform content negotiation.
2023-05-12 05:52:32.967 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-05-12 05:52:32.969 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-05-12 05:52:32.970 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-05-12 05:52:32.972 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[APIDemo.Models.PointOfInterestDTO, APIDemo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-05-12 05:52:32.974 +07:00 [INF] Executed action APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo) in 59.3176ms
2023-05-12 05:52:32.976 +07:00 [INF] Executed endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo)'
2023-05-12 05:52:32.977 +07:00 [DBG] Connection id "0HMQIE9HOCURI" completed keep alive response.
2023-05-12 05:52:32.980 +07:00 [DBG] 'CityInfoContext' disposed.
2023-05-12 05:52:32.982 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7269/api/cities/4/pointsofinterest - - - 200 2 application/json;+charset=utf-8 94.9636ms
2023-05-12 05:52:39.883 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7269/api/cities/3/pointsofinterest - -
2023-05-12 05:52:39.884 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest'
2023-05-12 05:52:39.886 +07:00 [DBG] Endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/3/pointsofinterest'
2023-05-12 05:52:39.888 +07:00 [DBG] Request matched endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo)'
2023-05-12 05:52:39.889 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-12 05:52:39.890 +07:00 [INF] Executing endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo)'
2023-05-12 05:52:39.892 +07:00 [INF] Route matched with {action = "GetPointOfInterests", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[APIDemo.Models.PointOfInterestDTO]]] GetPointOfInterests(Int32) on controller APIDemo.Controllers.PointOfInterestController (APIDemo).
2023-05-12 05:52:39.895 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-12 05:52:39.899 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-12 05:52:39.901 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-12 05:52:39.903 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-12 05:52:39.905 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-12 05:52:39.908 +07:00 [DBG] Executing controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 05:52:39.912 +07:00 [DBG] Executed controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 05:52:39.916 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-05-12 05:52:39.920 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-05-12 05:52:39.927 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 05:52:39.933 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 05:52:39.937 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-05-12 05:52:39.942 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-05-12 05:52:39.998 +07:00 [INF] Entity Framework Core 6.0.16 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.16' with options: None
2023-05-12 05:52:40.001 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 05:52:40.002 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-12 05:52:40.004 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 05:52:40.005 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 05:52:40.009 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE "p"."CityId" = @__cityId_0
2023-05-12 05:52:40.013 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE "p"."CityId" = @__cityId_0
2023-05-12 05:52:40.016 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 05:52:40.017 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 05:52:40.019 +07:00 [DBG] A data reader was disposed.
2023-05-12 05:52:40.020 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 05:52:40.022 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 05:52:40.023 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-05-12 05:52:40.029 +07:00 [DBG] No information found on request to perform content negotiation.
2023-05-12 05:52:40.031 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-05-12 05:52:40.033 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-05-12 05:52:40.036 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-05-12 05:52:40.044 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[APIDemo.Models.PointOfInterestDTO, APIDemo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-05-12 05:52:40.047 +07:00 [INF] Executed action APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo) in 139.3637ms
2023-05-12 05:52:40.049 +07:00 [INF] Executed endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo)'
2023-05-12 05:52:40.051 +07:00 [DBG] Connection id "0HMQIE9HOCURI" completed keep alive response.
2023-05-12 05:52:40.053 +07:00 [DBG] 'CityInfoContext' disposed.
2023-05-12 05:52:40.055 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7269/api/cities/3/pointsofinterest - - - 200 102 application/json;+charset=utf-8 172.9121ms
2023-05-12 05:55:59.026 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-05-12 05:55:59.135 +07:00 [DBG] Hosting starting
2023-05-12 05:55:59.282 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 75D11A6361D7470A96C9C9E8EC2F301CE14CF8DD)
2023-05-12 05:55:59.332 +07:00 [INF] Now listening on: https://localhost:7269
2023-05-12 05:55:59.334 +07:00 [INF] Now listening on: http://localhost:5078
2023-05-12 05:55:59.336 +07:00 [DBG] Loaded hosting startup assembly APIDemo
2023-05-12 05:55:59.337 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-05-12 05:55:59.339 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-05-12 05:55:59.341 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-12 05:55:59.342 +07:00 [INF] Hosting environment: Development
2023-05-12 05:55:59.344 +07:00 [INF] Content root path: C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\
2023-05-12 05:55:59.346 +07:00 [DBG] Hosting started
2023-05-12 05:55:59.655 +07:00 [DBG] Connection id "0HMQIEBHL24EU" received FIN.
2023-05-12 05:55:59.688 +07:00 [DBG] Connection id "0HMQIEBHL24EU" accepted.
2023-05-12 05:55:59.694 +07:00 [DBG] Connection id "0HMQIEBHL24EU" started.
2023-05-12 05:55:59.732 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-12 05:55:59.774 +07:00 [DBG] Connection id "0HMQIEBHL24EU" stopped.
2023-05-12 05:55:59.783 +07:00 [DBG] Connection id "0HMQIEBHL24EU" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-12 05:56:00.068 +07:00 [DBG] Connection id "0HMQIEBHL24EV" accepted.
2023-05-12 05:56:00.073 +07:00 [DBG] Connection id "0HMQIEBHL24EV" started.
2023-05-12 05:56:00.127 +07:00 [DBG] Connection 0HMQIEBHL24EV established using the following protocol: "Tls12"
2023-05-12 05:56:00.181 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/index.html - -
2023-05-12 05:56:00.217 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-05-12 05:56:00.242 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-05-12 05:56:00.244 +07:00 [DBG] Request did not match any endpoints
2023-05-12 05:56:00.360 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-05-12 05:56:00.526 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_vs/browserLink - -
2023-05-12 05:56:00.526 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - -
2023-05-12 05:56:00.533 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-05-12 05:56:00.542 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 15.1581ms
2023-05-12 05:56:00.542 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/index.html - - - 200 - text/html;charset=utf-8 366.5342ms
2023-05-12 05:56:00.554 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 28.5501ms
2023-05-12 05:56:00.650 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - -
2023-05-12 05:56:00.652 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-05-12 05:56:00.655 +07:00 [DBG] Request did not match any endpoints
2023-05-12 05:56:00.806 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 156.2974ms
2023-05-12 05:56:07.280 +07:00 [DBG] Connection id "0HMQIEBHL24F0" accepted.
2023-05-12 05:56:07.281 +07:00 [DBG] Connection id "0HMQIEBHL24F0" received FIN.
2023-05-12 05:56:07.282 +07:00 [DBG] Connection id "0HMQIEBHL24F0" started.
2023-05-12 05:56:07.282 +07:00 [DBG] Connection id "0HMQIEBHL24F1" accepted.
2023-05-12 05:56:07.285 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-12 05:56:07.286 +07:00 [DBG] Connection id "0HMQIEBHL24F1" started.
2023-05-12 05:56:07.289 +07:00 [DBG] Connection id "0HMQIEBHL24F0" stopped.
2023-05-12 05:56:07.291 +07:00 [DBG] Connection id "0HMQIEBHL24F0" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-12 05:56:07.299 +07:00 [DBG] Connection 0HMQIEBHL24F1 established using the following protocol: "Tls12"
2023-05-12 05:56:07.316 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7269/api/cities/3/pointsofinterest - -
2023-05-12 05:56:07.326 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest'
2023-05-12 05:56:07.332 +07:00 [DBG] Endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/3/pointsofinterest'
2023-05-12 05:56:07.338 +07:00 [DBG] Request matched endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo)'
2023-05-12 05:56:07.343 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-12 05:56:07.347 +07:00 [INF] Executing endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo)'
2023-05-12 05:56:07.384 +07:00 [INF] Route matched with {action = "GetPointOfInterests", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[APIDemo.Models.PointOfInterestDTO]]] GetPointOfInterests(Int32) on controller APIDemo.Controllers.PointOfInterestController (APIDemo).
2023-05-12 05:56:07.392 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-12 05:56:07.396 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-12 05:56:07.404 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-12 05:56:07.412 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-12 05:56:07.417 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-12 05:56:07.423 +07:00 [DBG] Executing controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 05:56:07.592 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-05-12 05:56:07.796 +07:00 [DBG] Executed controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 05:56:07.804 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-05-12 05:56:07.809 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-05-12 05:56:07.813 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 05:56:07.815 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 05:56:07.818 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-05-12 05:56:07.823 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-05-12 05:56:08.773 +07:00 [INF] Entity Framework Core 6.0.16 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.16' with options: None
2023-05-12 05:56:08.841 +07:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(item => item.CityId == __cityId_0)'
2023-05-12 05:56:09.253 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PointOfInterest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
        SELECT p.Id, p.CityId, p.Description, p.Name
        FROM PointOfInterests AS p
        WHERE p.CityId == @__cityId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
    APIDemo.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-05-12 05:56:09.321 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 05:56:09.396 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (70ms).
2023-05-12 05:56:09.414 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 05:56:09.435 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 05:56:09.456 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE "p"."CityId" = @__cityId_0
2023-05-12 05:56:09.496 +07:00 [INF] Executed DbCommand (46ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE "p"."CityId" = @__cityId_0
2023-05-12 05:56:09.522 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 05:56:09.556 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 05:56:09.566 +07:00 [DBG] A data reader was disposed.
2023-05-12 05:56:09.576 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 05:56:09.586 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 05:56:09.590 +07:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(item => item.CityId == __cityId_0)
    .FirstOrDefault()'
2023-05-12 05:56:09.600 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<PointOfInterest>(
    asyncEnumerable: new SingleQueryingEnumerable<PointOfInterest>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
            SELECT TOP(1) p.Id, p.CityId, p.Description, p.Name
            FROM PointOfInterests AS p
            WHERE p.CityId == @__cityId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
        APIDemo.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-12 05:56:09.610 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 05:56:09.613 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-05-12 05:56:09.617 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 05:56:09.621 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 05:56:09.629 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE "p"."CityId" = @__cityId_0
LIMIT 1
2023-05-12 05:56:09.636 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE "p"."CityId" = @__cityId_0
LIMIT 1
2023-05-12 05:56:09.647 +07:00 [DBG] A data reader was disposed.
2023-05-12 05:56:09.648 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 05:56:09.652 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 05:56:09.680 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-05-12 05:56:09.696 +07:00 [DBG] No information found on request to perform content negotiation.
2023-05-12 05:56:09.697 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-05-12 05:56:09.700 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-05-12 05:56:09.704 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-05-12 05:56:09.710 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[APIDemo.Models.PointOfInterestDTO, APIDemo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-05-12 05:56:09.877 +07:00 [INF] Executed action APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo) in 2449.4943ms
2023-05-12 05:56:09.882 +07:00 [INF] Executed endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo)'
2023-05-12 05:56:09.883 +07:00 [DBG] Connection id "0HMQIEBHL24F1" completed keep alive response.
2023-05-12 05:56:09.889 +07:00 [DBG] 'CityInfoContext' disposed.
2023-05-12 05:56:09.894 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7269/api/cities/3/pointsofinterest - - - 200 102 application/json;+charset=utf-8 2578.0723ms
2023-05-12 05:56:18.283 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7269/api/cities/4/pointsofinterest - -
2023-05-12 05:56:18.285 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/4/pointsofinterest'
2023-05-12 05:56:18.287 +07:00 [DBG] Endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/4/pointsofinterest'
2023-05-12 05:56:18.290 +07:00 [DBG] Request matched endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo)'
2023-05-12 05:56:18.293 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-12 05:56:18.294 +07:00 [INF] Executing endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo)'
2023-05-12 05:56:18.296 +07:00 [INF] Route matched with {action = "GetPointOfInterests", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[APIDemo.Models.PointOfInterestDTO]]] GetPointOfInterests(Int32) on controller APIDemo.Controllers.PointOfInterestController (APIDemo).
2023-05-12 05:56:18.301 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-12 05:56:18.303 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-12 05:56:18.305 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-12 05:56:18.311 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-12 05:56:18.313 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-12 05:56:18.315 +07:00 [DBG] Executing controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 05:56:18.318 +07:00 [DBG] Executed controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 05:56:18.320 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-05-12 05:56:18.321 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-05-12 05:56:18.326 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 05:56:18.327 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 05:56:18.330 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-05-12 05:56:18.331 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-05-12 05:56:18.335 +07:00 [INF] Entity Framework Core 6.0.16 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.16' with options: None
2023-05-12 05:56:18.345 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 05:56:18.348 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-05-12 05:56:18.351 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 05:56:18.357 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 05:56:18.365 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE "p"."CityId" = @__cityId_0
2023-05-12 05:56:18.373 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE "p"."CityId" = @__cityId_0
2023-05-12 05:56:18.380 +07:00 [DBG] A data reader was disposed.
2023-05-12 05:56:18.382 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 05:56:18.388 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 05:56:18.391 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 05:56:18.393 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-12 05:56:18.396 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 05:56:18.398 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 05:56:18.403 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE "p"."CityId" = @__cityId_0
LIMIT 1
2023-05-12 05:56:18.414 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE "p"."CityId" = @__cityId_0
LIMIT 1
2023-05-12 05:56:18.423 +07:00 [DBG] A data reader was disposed.
2023-05-12 05:56:18.424 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 05:56:18.429 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 05:56:18.433 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-05-12 05:56:18.443 +07:00 [DBG] No information found on request to perform content negotiation.
2023-05-12 05:56:18.447 +07:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2023-05-12 05:56:18.456 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2023-05-12 05:56:18.458 +07:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2023-05-12 05:56:18.483 +07:00 [INF] Executed action APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo) in 168.3947ms
2023-05-12 05:56:18.486 +07:00 [INF] Executed endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo)'
2023-05-12 05:56:18.489 +07:00 [DBG] Connection id "0HMQIEBHL24F1" completed keep alive response.
2023-05-12 05:56:18.493 +07:00 [DBG] 'CityInfoContext' disposed.
2023-05-12 05:56:18.498 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7269/api/cities/4/pointsofinterest - - - 404 161 application/problem+json;+charset=utf-8 215.7141ms
2023-05-12 06:22:12.457 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-05-12 06:22:12.569 +07:00 [DBG] Hosting starting
2023-05-12 06:22:12.715 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 75D11A6361D7470A96C9C9E8EC2F301CE14CF8DD)
2023-05-12 06:22:12.756 +07:00 [INF] Now listening on: https://localhost:7269
2023-05-12 06:22:12.757 +07:00 [INF] Now listening on: http://localhost:5078
2023-05-12 06:22:12.759 +07:00 [DBG] Loaded hosting startup assembly APIDemo
2023-05-12 06:22:12.760 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-05-12 06:22:12.761 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-05-12 06:22:12.762 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-12 06:22:12.764 +07:00 [INF] Hosting environment: Development
2023-05-12 06:22:12.765 +07:00 [INF] Content root path: C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\
2023-05-12 06:22:12.767 +07:00 [DBG] Hosting started
2023-05-12 06:22:12.963 +07:00 [DBG] Connection id "0HMQIEQ6H9QD8" received FIN.
2023-05-12 06:22:12.990 +07:00 [DBG] Connection id "0HMQIEQ6H9QD8" accepted.
2023-05-12 06:22:12.995 +07:00 [DBG] Connection id "0HMQIEQ6H9QD8" started.
2023-05-12 06:22:13.013 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-12 06:22:13.049 +07:00 [DBG] Connection id "0HMQIEQ6H9QD8" stopped.
2023-05-12 06:22:13.055 +07:00 [DBG] Connection id "0HMQIEQ6H9QD8" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-12 06:22:13.203 +07:00 [DBG] Connection id "0HMQIEQ6H9QD9" accepted.
2023-05-12 06:22:13.205 +07:00 [DBG] Connection id "0HMQIEQ6H9QD9" started.
2023-05-12 06:22:13.256 +07:00 [DBG] Connection 0HMQIEQ6H9QD9 established using the following protocol: "Tls12"
2023-05-12 06:22:13.305 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/index.html - -
2023-05-12 06:22:13.341 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-05-12 06:22:13.370 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-05-12 06:22:13.372 +07:00 [DBG] Request did not match any endpoints
2023-05-12 06:22:13.483 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-05-12 06:22:13.633 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_vs/browserLink - -
2023-05-12 06:22:13.633 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - -
2023-05-12 06:22:13.637 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-05-12 06:22:13.648 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 13.9682ms
2023-05-12 06:22:13.648 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/index.html - - - 200 - text/html;charset=utf-8 346.2781ms
2023-05-12 06:22:13.657 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 24.4360ms
2023-05-12 06:22:13.750 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - -
2023-05-12 06:22:13.751 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-05-12 06:22:13.753 +07:00 [DBG] Request did not match any endpoints
2023-05-12 06:22:13.904 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 154.4881ms
2023-05-12 06:22:18.480 +07:00 [DBG] Connection id "0HMQIEQ6H9QDA" accepted.
2023-05-12 06:22:18.480 +07:00 [DBG] Connection id "0HMQIEQ6H9QDA" received FIN.
2023-05-12 06:22:18.482 +07:00 [DBG] Connection id "0HMQIEQ6H9QDA" started.
2023-05-12 06:22:18.483 +07:00 [DBG] Connection id "0HMQIEQ6H9QDB" accepted.
2023-05-12 06:22:18.491 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-12 06:22:18.493 +07:00 [DBG] Connection id "0HMQIEQ6H9QDB" started.
2023-05-12 06:22:18.500 +07:00 [DBG] Connection id "0HMQIEQ6H9QDA" stopped.
2023-05-12 06:22:18.507 +07:00 [DBG] Connection id "0HMQIEQ6H9QDA" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-12 06:22:18.508 +07:00 [DBG] Connection 0HMQIEQ6H9QDB established using the following protocol: "Tls12"
2023-05-12 06:22:18.524 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7269/api/cities/3/pointsofinterest - -
2023-05-12 06:22:18.532 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest'
2023-05-12 06:22:18.539 +07:00 [DBG] Endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/3/pointsofinterest'
2023-05-12 06:22:18.542 +07:00 [DBG] Request matched endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo)'
2023-05-12 06:22:18.545 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-12 06:22:18.549 +07:00 [INF] Executing endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo)'
2023-05-12 06:22:18.585 +07:00 [INF] Route matched with {action = "GetPointOfInterests", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[APIDemo.Models.PointOfInterestDTO]]] GetPointOfInterests(Int32) on controller APIDemo.Controllers.PointOfInterestController (APIDemo).
2023-05-12 06:22:18.593 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-12 06:22:18.596 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-12 06:22:18.603 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-12 06:22:18.609 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-12 06:22:18.613 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-12 06:22:18.621 +07:00 [DBG] Executing controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 06:22:18.787 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-05-12 06:22:18.995 +07:00 [DBG] Executed controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 06:22:19.008 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-05-12 06:22:19.018 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-05-12 06:22:19.026 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 06:22:19.031 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 06:22:19.036 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-05-12 06:22:19.046 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-05-12 06:22:20.006 +07:00 [INF] Entity Framework Core 6.0.16 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.16' with options: None
2023-05-12 06:22:20.073 +07:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(item => item.CityId == __cityId_0)'
2023-05-12 06:22:20.474 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PointOfInterest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
        SELECT p.Id, p.CityId, p.Description, p.Name
        FROM PointOfInterests AS p
        WHERE p.CityId == @__cityId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
    APIDemo.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-05-12 06:22:20.553 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 06:22:20.624 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (69ms).
2023-05-12 06:22:20.642 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 06:22:20.663 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 06:22:20.683 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE "p"."CityId" = @__cityId_0
2023-05-12 06:22:20.722 +07:00 [INF] Executed DbCommand (45ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE "p"."CityId" = @__cityId_0
2023-05-12 06:22:20.750 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 06:22:20.781 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 06:22:20.795 +07:00 [DBG] A data reader was disposed.
2023-05-12 06:22:20.806 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 06:22:20.818 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 06:22:20.827 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(item => item.Id == __cityId_0)'
2023-05-12 06:22:20.845 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        APIDemo.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-12 06:22:20.861 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 06:22:20.864 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-05-12 06:22:20.869 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 06:22:20.874 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 06:22:20.880 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 06:22:20.888 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 06:22:20.899 +07:00 [DBG] A data reader was disposed.
2023-05-12 06:22:20.903 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 06:22:20.910 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 06:22:20.935 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-05-12 06:22:20.942 +07:00 [DBG] No information found on request to perform content negotiation.
2023-05-12 06:22:20.943 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-05-12 06:22:20.945 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-05-12 06:22:20.947 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-05-12 06:22:20.949 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[APIDemo.Models.PointOfInterestDTO, APIDemo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-05-12 06:22:21.122 +07:00 [INF] Executed action APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo) in 2495.4439ms
2023-05-12 06:22:21.125 +07:00 [INF] Executed endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo)'
2023-05-12 06:22:21.127 +07:00 [DBG] Connection id "0HMQIEQ6H9QDB" completed keep alive response.
2023-05-12 06:22:21.137 +07:00 [DBG] 'CityInfoContext' disposed.
2023-05-12 06:22:21.145 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7269/api/cities/3/pointsofinterest - - - 200 102 application/json;+charset=utf-8 2621.7628ms
2023-05-12 06:22:23.851 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7269/api/cities/4/pointsofinterest - -
2023-05-12 06:22:23.853 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/4/pointsofinterest'
2023-05-12 06:22:23.855 +07:00 [DBG] Endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/4/pointsofinterest'
2023-05-12 06:22:23.857 +07:00 [DBG] Request matched endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo)'
2023-05-12 06:22:23.859 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-12 06:22:23.860 +07:00 [INF] Executing endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo)'
2023-05-12 06:22:23.864 +07:00 [INF] Route matched with {action = "GetPointOfInterests", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[APIDemo.Models.PointOfInterestDTO]]] GetPointOfInterests(Int32) on controller APIDemo.Controllers.PointOfInterestController (APIDemo).
2023-05-12 06:22:23.867 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-12 06:22:23.869 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-12 06:22:23.871 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-12 06:22:23.874 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-12 06:22:23.876 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-12 06:22:23.882 +07:00 [DBG] Executing controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 06:22:23.885 +07:00 [DBG] Executed controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 06:22:23.887 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-05-12 06:22:23.889 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-05-12 06:22:23.891 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 06:22:23.894 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 06:22:23.896 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-05-12 06:22:23.897 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-05-12 06:22:23.905 +07:00 [INF] Entity Framework Core 6.0.16 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.16' with options: None
2023-05-12 06:22:23.914 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 06:22:23.915 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-12 06:22:23.916 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 06:22:23.917 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 06:22:23.919 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE "p"."CityId" = @__cityId_0
2023-05-12 06:22:23.922 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE "p"."CityId" = @__cityId_0
2023-05-12 06:22:23.927 +07:00 [DBG] A data reader was disposed.
2023-05-12 06:22:23.929 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 06:22:23.931 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 06:22:23.932 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 06:22:23.933 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-05-12 06:22:23.934 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 06:22:23.936 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 06:22:23.940 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 06:22:23.942 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 06:22:23.946 +07:00 [DBG] A data reader was disposed.
2023-05-12 06:22:23.947 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 06:22:23.948 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 06:22:23.950 +07:00 [FTL] The city with id 4 wasn't found when accessing points of interest
2023-05-12 06:22:23.952 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-05-12 06:22:23.958 +07:00 [DBG] No information found on request to perform content negotiation.
2023-05-12 06:22:23.960 +07:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2023-05-12 06:22:23.964 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2023-05-12 06:22:23.966 +07:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2023-05-12 06:22:23.985 +07:00 [INF] Executed action APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo) in 102.8076ms
2023-05-12 06:22:23.988 +07:00 [INF] Executed endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo)'
2023-05-12 06:22:23.990 +07:00 [DBG] Connection id "0HMQIEQ6H9QDB" completed keep alive response.
2023-05-12 06:22:23.992 +07:00 [DBG] 'CityInfoContext' disposed.
2023-05-12 06:22:23.994 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7269/api/cities/4/pointsofinterest - - - 404 161 application/problem+json;+charset=utf-8 142.5383ms
2023-05-12 06:22:28.857 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7269/api/cities/4/pointsofinterest/1 - -
2023-05-12 06:22:28.859 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/4/pointsofinterest/1'
2023-05-12 06:22:28.860 +07:00 [DBG] Endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterestsById (APIDemo)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointofinterestId}' is valid for the request path '/api/cities/4/pointsofinterest/1'
2023-05-12 06:22:28.864 +07:00 [DBG] Request matched endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterestsById (APIDemo)'
2023-05-12 06:22:28.866 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-12 06:22:28.869 +07:00 [INF] Executing endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterestsById (APIDemo)'
2023-05-12 06:22:28.874 +07:00 [INF] Route matched with {action = "GetPointOfInterestsById", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[APIDemo.Models.PointOfInterestDTO]] GetPointOfInterestsById(Int32, Int32) on controller APIDemo.Controllers.PointOfInterestController (APIDemo).
2023-05-12 06:22:28.879 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-12 06:22:28.882 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-12 06:22:28.886 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-12 06:22:28.891 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-12 06:22:28.893 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-12 06:22:28.895 +07:00 [DBG] Executing controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 06:22:28.899 +07:00 [DBG] Executed controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 06:22:28.902 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-05-12 06:22:28.904 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-05-12 06:22:28.905 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 06:22:28.907 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 06:22:28.908 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-05-12 06:22:28.910 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-05-12 06:22:28.912 +07:00 [DBG] Attempting to bind parameter 'pointofinterestId' of type 'System.Int32' ...
2023-05-12 06:22:28.913 +07:00 [DBG] Attempting to bind parameter 'pointofinterestId' of type 'System.Int32' using the name 'pointofinterestId' in request data ...
2023-05-12 06:22:28.917 +07:00 [DBG] Done attempting to bind parameter 'pointofinterestId' of type 'System.Int32'.
2023-05-12 06:22:28.918 +07:00 [DBG] Done attempting to bind parameter 'pointofinterestId' of type 'System.Int32'.
2023-05-12 06:22:28.920 +07:00 [DBG] Attempting to validate the bound parameter 'pointofinterestId' of type 'System.Int32' ...
2023-05-12 06:22:28.921 +07:00 [DBG] Done attempting to validate the bound parameter 'pointofinterestId' of type 'System.Int32'.
2023-05-12 06:22:28.976 +07:00 [INF] Entity Framework Core 6.0.16 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.16' with options: None
2023-05-12 06:22:28.983 +07:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(item => item.CityId == __cityId_0 && item.Id == __pointofinterestId_1)
    .FirstOrDefault()'
2023-05-12 06:22:28.992 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<PointOfInterest>(
    asyncEnumerable: new SingleQueryingEnumerable<PointOfInterest>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
            SELECT TOP(1) p.Id, p.CityId, p.Description, p.Name
            FROM PointOfInterests AS p
            WHERE (p.CityId == @__cityId_0) && (p.Id == @__pointofinterestId_1)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
        APIDemo.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-12 06:22:29.006 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 06:22:29.008 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-05-12 06:22:29.014 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 06:22:29.018 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 06:22:29.023 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointofinterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointofinterestId_1)
LIMIT 1
2023-05-12 06:22:29.033 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointofinterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointofinterestId_1)
LIMIT 1
2023-05-12 06:22:29.043 +07:00 [DBG] A data reader was disposed.
2023-05-12 06:22:29.046 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 06:22:29.050 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 06:22:29.055 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 06:22:29.061 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2023-05-12 06:22:29.064 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 06:22:29.070 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 06:22:29.077 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 06:22:29.084 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 06:22:29.094 +07:00 [DBG] A data reader was disposed.
2023-05-12 06:22:29.096 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 06:22:29.099 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 06:22:29.107 +07:00 [FTL] The city with id 4 wasn't found when accessing points of interest
2023-05-12 06:22:29.111 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-05-12 06:22:29.122 +07:00 [DBG] No information found on request to perform content negotiation.
2023-05-12 06:22:29.126 +07:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2023-05-12 06:22:29.135 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2023-05-12 06:22:29.141 +07:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2023-05-12 06:22:29.145 +07:00 [INF] Executed action APIDemo.Controllers.PointOfInterestController.GetPointOfInterestsById (APIDemo) in 250.0999ms
2023-05-12 06:22:29.147 +07:00 [INF] Executed endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterestsById (APIDemo)'
2023-05-12 06:22:29.150 +07:00 [DBG] Connection id "0HMQIEQ6H9QDB" completed keep alive response.
2023-05-12 06:22:29.155 +07:00 [DBG] 'CityInfoContext' disposed.
2023-05-12 06:22:29.158 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7269/api/cities/4/pointsofinterest/1 - - - 404 161 application/problem+json;+charset=utf-8 300.1978ms
2023-05-12 06:22:39.562 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7269/api/cities/1/pointsofinterest/10 - -
2023-05-12 06:22:39.563 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/10'
2023-05-12 06:22:39.565 +07:00 [DBG] Endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterestsById (APIDemo)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointofinterestId}' is valid for the request path '/api/cities/1/pointsofinterest/10'
2023-05-12 06:22:39.569 +07:00 [DBG] Request matched endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterestsById (APIDemo)'
2023-05-12 06:22:39.571 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-12 06:22:39.572 +07:00 [INF] Executing endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterestsById (APIDemo)'
2023-05-12 06:22:39.574 +07:00 [INF] Route matched with {action = "GetPointOfInterestsById", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[APIDemo.Models.PointOfInterestDTO]] GetPointOfInterestsById(Int32, Int32) on controller APIDemo.Controllers.PointOfInterestController (APIDemo).
2023-05-12 06:22:39.578 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-12 06:22:39.580 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-12 06:22:39.585 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-12 06:22:39.588 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-12 06:22:39.590 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-12 06:22:39.592 +07:00 [DBG] Executing controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 06:22:39.595 +07:00 [DBG] Executed controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 06:22:39.599 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-05-12 06:22:39.601 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-05-12 06:22:39.603 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 06:22:39.606 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 06:22:39.608 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-05-12 06:22:39.610 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-05-12 06:22:39.614 +07:00 [DBG] Attempting to bind parameter 'pointofinterestId' of type 'System.Int32' ...
2023-05-12 06:22:39.616 +07:00 [DBG] Attempting to bind parameter 'pointofinterestId' of type 'System.Int32' using the name 'pointofinterestId' in request data ...
2023-05-12 06:22:39.619 +07:00 [DBG] Done attempting to bind parameter 'pointofinterestId' of type 'System.Int32'.
2023-05-12 06:22:39.622 +07:00 [DBG] Done attempting to bind parameter 'pointofinterestId' of type 'System.Int32'.
2023-05-12 06:22:39.624 +07:00 [DBG] Attempting to validate the bound parameter 'pointofinterestId' of type 'System.Int32' ...
2023-05-12 06:22:39.626 +07:00 [DBG] Done attempting to validate the bound parameter 'pointofinterestId' of type 'System.Int32'.
2023-05-12 06:22:39.630 +07:00 [INF] Entity Framework Core 6.0.16 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.16' with options: None
2023-05-12 06:22:39.633 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 06:22:39.634 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-05-12 06:22:39.636 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 06:22:39.638 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 06:22:39.640 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointofinterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointofinterestId_1)
LIMIT 1
2023-05-12 06:22:39.647 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointofinterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointofinterestId_1)
LIMIT 1
2023-05-12 06:22:39.652 +07:00 [DBG] A data reader was disposed.
2023-05-12 06:22:39.654 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 06:22:39.657 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 06:22:39.665 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 06:22:39.667 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-05-12 06:22:39.670 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 06:22:39.676 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 06:22:39.679 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 06:22:39.684 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 06:22:39.697 +07:00 [DBG] A data reader was disposed.
2023-05-12 06:22:39.699 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 06:22:39.706 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 06:22:39.819 +07:00 [INF] Executed action APIDemo.Controllers.PointOfInterestController.GetPointOfInterestsById (APIDemo) in 226.472ms
2023-05-12 06:22:39.824 +07:00 [INF] Executed endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterestsById (APIDemo)'
2023-05-12 06:22:39.827 +07:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
Task`1 -> PointOfInterestDTO
System.Threading.Tasks.Task`1[[APIDemo.Entities.PointOfInterest, APIDemo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] -> APIDemo.Models.PointOfInterestDTO
   at lambda_method88(Closure , Object , PointOfInterestDTO , ResolutionContext )
   at APIDemo.Controllers.PointOfInterestController.GetPointOfInterestsById(Int32 cityId, Int32 pointofinterestId) in C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\Controllers\PointOfInterestController.cs:line 84
   at lambda_method81(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-05-12 06:22:39.881 +07:00 [DBG] Connection id "0HMQIEQ6H9QDB" completed keep alive response.
2023-05-12 06:22:39.882 +07:00 [DBG] 'CityInfoContext' disposed.
2023-05-12 06:22:39.884 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7269/api/cities/1/pointsofinterest/10 - - - 500 - text/plain;+charset=utf-8 322.3753ms
2023-05-12 06:27:07.631 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-05-12 06:27:07.780 +07:00 [DBG] Hosting starting
2023-05-12 06:27:07.919 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 75D11A6361D7470A96C9C9E8EC2F301CE14CF8DD)
2023-05-12 06:27:07.970 +07:00 [INF] Now listening on: https://localhost:7269
2023-05-12 06:27:07.971 +07:00 [INF] Now listening on: http://localhost:5078
2023-05-12 06:27:07.972 +07:00 [DBG] Loaded hosting startup assembly APIDemo
2023-05-12 06:27:07.974 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-05-12 06:27:07.975 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-05-12 06:27:07.976 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-12 06:27:07.978 +07:00 [INF] Hosting environment: Development
2023-05-12 06:27:07.980 +07:00 [INF] Content root path: C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\
2023-05-12 06:27:07.983 +07:00 [DBG] Hosting started
2023-05-12 06:27:08.069 +07:00 [DBG] Connection id "0HMQIESUFKS8N" received FIN.
2023-05-12 06:27:08.095 +07:00 [DBG] Connection id "0HMQIESUFKS8N" accepted.
2023-05-12 06:27:08.102 +07:00 [DBG] Connection id "0HMQIESUFKS8N" started.
2023-05-12 06:27:08.121 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-12 06:27:08.161 +07:00 [DBG] Connection id "0HMQIESUFKS8N" stopped.
2023-05-12 06:27:08.167 +07:00 [DBG] Connection id "0HMQIESUFKS8N" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-12 06:27:08.312 +07:00 [DBG] Connection id "0HMQIESUFKS8O" accepted.
2023-05-12 06:27:08.314 +07:00 [DBG] Connection id "0HMQIESUFKS8O" started.
2023-05-12 06:27:08.365 +07:00 [DBG] Connection 0HMQIESUFKS8O established using the following protocol: "Tls12"
2023-05-12 06:27:08.422 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/index.html - -
2023-05-12 06:27:08.458 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-05-12 06:27:08.483 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-05-12 06:27:08.485 +07:00 [DBG] Request did not match any endpoints
2023-05-12 06:27:08.593 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-05-12 06:27:08.734 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - -
2023-05-12 06:27:08.737 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-05-12 06:27:08.741 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_vs/browserLink - -
2023-05-12 06:27:08.742 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/index.html - - - 200 - text/html;charset=utf-8 323.9331ms
2023-05-12 06:27:08.742 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 8.5196ms
2023-05-12 06:27:08.767 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 26.1306ms
2023-05-12 06:27:08.852 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - -
2023-05-12 06:27:08.854 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-05-12 06:27:08.856 +07:00 [DBG] Request did not match any endpoints
2023-05-12 06:27:08.998 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 146.3079ms
2023-05-12 06:27:09.388 +07:00 [DBG] Connection id "0HMQIESUFKS8P" accepted.
2023-05-12 06:27:09.388 +07:00 [DBG] Connection id "0HMQIESUFKS8P" received FIN.
2023-05-12 06:27:09.389 +07:00 [DBG] Connection id "0HMQIESUFKS8P" started.
2023-05-12 06:27:09.389 +07:00 [DBG] Connection id "0HMQIESUFKS8Q" accepted.
2023-05-12 06:27:09.394 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-12 06:27:09.394 +07:00 [DBG] Connection id "0HMQIESUFKS8Q" started.
2023-05-12 06:27:09.399 +07:00 [DBG] Connection id "0HMQIESUFKS8P" stopped.
2023-05-12 06:27:09.402 +07:00 [DBG] Connection id "0HMQIESUFKS8P" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-12 06:27:09.408 +07:00 [DBG] Connection 0HMQIESUFKS8Q established using the following protocol: "Tls12"
2023-05-12 06:27:09.421 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7269/api/cities/1/pointsofinterest/10 - -
2023-05-12 06:27:09.429 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/10'
2023-05-12 06:27:09.435 +07:00 [DBG] Endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterestsById (APIDemo)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointofinterestId}' is valid for the request path '/api/cities/1/pointsofinterest/10'
2023-05-12 06:27:09.440 +07:00 [DBG] Request matched endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterestsById (APIDemo)'
2023-05-12 06:27:09.443 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-12 06:27:09.446 +07:00 [INF] Executing endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterestsById (APIDemo)'
2023-05-12 06:27:09.478 +07:00 [INF] Route matched with {action = "GetPointOfInterestsById", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[APIDemo.Models.PointOfInterestDTO]] GetPointOfInterestsById(Int32, Int32) on controller APIDemo.Controllers.PointOfInterestController (APIDemo).
2023-05-12 06:27:09.484 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-12 06:27:09.487 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-12 06:27:09.491 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-12 06:27:09.495 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-12 06:27:09.498 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-12 06:27:09.501 +07:00 [DBG] Executing controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 06:27:09.669 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-05-12 06:27:09.881 +07:00 [DBG] Executed controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 06:27:09.887 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-05-12 06:27:09.890 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-05-12 06:27:09.893 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 06:27:09.895 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 06:27:09.896 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-05-12 06:27:09.899 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-05-12 06:27:09.902 +07:00 [DBG] Attempting to bind parameter 'pointofinterestId' of type 'System.Int32' ...
2023-05-12 06:27:09.904 +07:00 [DBG] Attempting to bind parameter 'pointofinterestId' of type 'System.Int32' using the name 'pointofinterestId' in request data ...
2023-05-12 06:27:09.906 +07:00 [DBG] Done attempting to bind parameter 'pointofinterestId' of type 'System.Int32'.
2023-05-12 06:27:09.907 +07:00 [DBG] Done attempting to bind parameter 'pointofinterestId' of type 'System.Int32'.
2023-05-12 06:27:09.909 +07:00 [DBG] Attempting to validate the bound parameter 'pointofinterestId' of type 'System.Int32' ...
2023-05-12 06:27:09.911 +07:00 [DBG] Done attempting to validate the bound parameter 'pointofinterestId' of type 'System.Int32'.
2023-05-12 06:27:10.917 +07:00 [INF] Entity Framework Core 6.0.16 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.16' with options: None
2023-05-12 06:27:10.985 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(item => item.Id == __cityId_0)'
2023-05-12 06:27:11.328 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        APIDemo.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-12 06:27:11.401 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 06:27:11.483 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (77ms).
2023-05-12 06:27:11.501 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 06:27:11.524 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 06:27:11.543 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 06:27:11.575 +07:00 [INF] Executed DbCommand (38ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 06:27:11.591 +07:00 [DBG] A data reader was disposed.
2023-05-12 06:27:11.603 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 06:27:11.614 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 06:27:11.623 +07:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(item => item.CityId == __cityId_0 && item.Id == __pointofinterestId_1)
    .FirstOrDefault()'
2023-05-12 06:27:11.677 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<PointOfInterest>(
    asyncEnumerable: new SingleQueryingEnumerable<PointOfInterest>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
            SELECT TOP(1) p.Id, p.CityId, p.Description, p.Name
            FROM PointOfInterests AS p
            WHERE (p.CityId == @__cityId_0) && (p.Id == @__pointofinterestId_1)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
        APIDemo.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-12 06:27:11.696 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 06:27:11.697 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-12 06:27:11.698 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 06:27:11.700 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 06:27:11.701 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointofinterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointofinterestId_1)
LIMIT 1
2023-05-12 06:27:11.704 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointofinterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointofinterestId_1)
LIMIT 1
2023-05-12 06:27:11.707 +07:00 [DBG] A data reader was disposed.
2023-05-12 06:27:11.708 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 06:27:11.710 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 06:27:11.712 +07:00 [FTL] The Point Of Interest Id = 10 isn't exist in this context
2023-05-12 06:27:11.716 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-05-12 06:27:11.721 +07:00 [DBG] No information found on request to perform content negotiation.
2023-05-12 06:27:11.722 +07:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2023-05-12 06:27:11.728 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2023-05-12 06:27:11.731 +07:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2023-05-12 06:27:11.906 +07:00 [INF] Executed action APIDemo.Controllers.PointOfInterestController.GetPointOfInterestsById (APIDemo) in 2401.1555ms
2023-05-12 06:27:11.909 +07:00 [INF] Executed endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterestsById (APIDemo)'
2023-05-12 06:27:11.912 +07:00 [DBG] Connection id "0HMQIESUFKS8Q" completed keep alive response.
2023-05-12 06:27:11.920 +07:00 [DBG] 'CityInfoContext' disposed.
2023-05-12 06:27:11.926 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7269/api/cities/1/pointsofinterest/10 - - - 404 161 application/problem+json;+charset=utf-8 2505.5013ms
2023-05-12 06:27:17.788 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7269/api/cities/4/pointsofinterest/1 - -
2023-05-12 06:27:17.792 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/4/pointsofinterest/1'
2023-05-12 06:27:17.795 +07:00 [DBG] Endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterestsById (APIDemo)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointofinterestId}' is valid for the request path '/api/cities/4/pointsofinterest/1'
2023-05-12 06:27:17.798 +07:00 [DBG] Request matched endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterestsById (APIDemo)'
2023-05-12 06:27:17.802 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-12 06:27:17.805 +07:00 [INF] Executing endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterestsById (APIDemo)'
2023-05-12 06:27:17.809 +07:00 [INF] Route matched with {action = "GetPointOfInterestsById", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[APIDemo.Models.PointOfInterestDTO]] GetPointOfInterestsById(Int32, Int32) on controller APIDemo.Controllers.PointOfInterestController (APIDemo).
2023-05-12 06:27:17.815 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-12 06:27:17.822 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-12 06:27:17.826 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-12 06:27:17.834 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-12 06:27:17.839 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-12 06:27:17.844 +07:00 [DBG] Executing controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 06:27:17.847 +07:00 [DBG] Executed controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 06:27:17.853 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-05-12 06:27:17.857 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-05-12 06:27:17.860 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 06:27:17.865 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 06:27:17.868 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-05-12 06:27:17.870 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-05-12 06:27:17.873 +07:00 [DBG] Attempting to bind parameter 'pointofinterestId' of type 'System.Int32' ...
2023-05-12 06:27:17.875 +07:00 [DBG] Attempting to bind parameter 'pointofinterestId' of type 'System.Int32' using the name 'pointofinterestId' in request data ...
2023-05-12 06:27:17.877 +07:00 [DBG] Done attempting to bind parameter 'pointofinterestId' of type 'System.Int32'.
2023-05-12 06:27:17.880 +07:00 [DBG] Done attempting to bind parameter 'pointofinterestId' of type 'System.Int32'.
2023-05-12 06:27:17.883 +07:00 [DBG] Attempting to validate the bound parameter 'pointofinterestId' of type 'System.Int32' ...
2023-05-12 06:27:17.888 +07:00 [DBG] Done attempting to validate the bound parameter 'pointofinterestId' of type 'System.Int32'.
2023-05-12 06:27:17.894 +07:00 [INF] Entity Framework Core 6.0.16 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.16' with options: None
2023-05-12 06:27:17.902 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 06:27:17.906 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-05-12 06:27:17.909 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 06:27:17.913 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 06:27:17.918 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 06:27:17.926 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 06:27:17.932 +07:00 [DBG] A data reader was disposed.
2023-05-12 06:27:17.935 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 06:27:17.941 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 06:27:17.944 +07:00 [FTL] The city with id 4 wasn't found when accessing points of interest
2023-05-12 06:27:17.947 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-05-12 06:27:17.957 +07:00 [DBG] No information found on request to perform content negotiation.
2023-05-12 06:27:17.960 +07:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2023-05-12 06:27:17.969 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2023-05-12 06:27:17.972 +07:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2023-05-12 06:27:17.976 +07:00 [INF] Executed action APIDemo.Controllers.PointOfInterestController.GetPointOfInterestsById (APIDemo) in 132.1755ms
2023-05-12 06:27:17.978 +07:00 [INF] Executed endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterestsById (APIDemo)'
2023-05-12 06:27:17.980 +07:00 [DBG] Connection id "0HMQIESUFKS8Q" completed keep alive response.
2023-05-12 06:27:17.982 +07:00 [DBG] 'CityInfoContext' disposed.
2023-05-12 06:27:17.984 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7269/api/cities/4/pointsofinterest/1 - - - 404 161 application/problem+json;+charset=utf-8 196.0588ms
2023-05-12 06:27:20.001 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7269/api/cities/1/pointsofinterest/10 - -
2023-05-12 06:27:20.002 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/10'
2023-05-12 06:27:20.004 +07:00 [DBG] Endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterestsById (APIDemo)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointofinterestId}' is valid for the request path '/api/cities/1/pointsofinterest/10'
2023-05-12 06:27:20.006 +07:00 [DBG] Request matched endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterestsById (APIDemo)'
2023-05-12 06:27:20.009 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-12 06:27:20.011 +07:00 [INF] Executing endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterestsById (APIDemo)'
2023-05-12 06:27:20.012 +07:00 [INF] Route matched with {action = "GetPointOfInterestsById", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[APIDemo.Models.PointOfInterestDTO]] GetPointOfInterestsById(Int32, Int32) on controller APIDemo.Controllers.PointOfInterestController (APIDemo).
2023-05-12 06:27:20.015 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-12 06:27:20.017 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-12 06:27:20.020 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-12 06:27:20.023 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-12 06:27:20.024 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-12 06:27:20.028 +07:00 [DBG] Executing controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 06:27:20.033 +07:00 [DBG] Executed controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 06:27:20.035 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-05-12 06:27:20.036 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-05-12 06:27:20.038 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 06:27:20.041 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 06:27:20.043 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-05-12 06:27:20.045 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-05-12 06:27:20.047 +07:00 [DBG] Attempting to bind parameter 'pointofinterestId' of type 'System.Int32' ...
2023-05-12 06:27:20.049 +07:00 [DBG] Attempting to bind parameter 'pointofinterestId' of type 'System.Int32' using the name 'pointofinterestId' in request data ...
2023-05-12 06:27:20.051 +07:00 [DBG] Done attempting to bind parameter 'pointofinterestId' of type 'System.Int32'.
2023-05-12 06:27:20.053 +07:00 [DBG] Done attempting to bind parameter 'pointofinterestId' of type 'System.Int32'.
2023-05-12 06:27:20.055 +07:00 [DBG] Attempting to validate the bound parameter 'pointofinterestId' of type 'System.Int32' ...
2023-05-12 06:27:20.056 +07:00 [DBG] Done attempting to validate the bound parameter 'pointofinterestId' of type 'System.Int32'.
2023-05-12 06:27:20.115 +07:00 [INF] Entity Framework Core 6.0.16 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.16' with options: None
2023-05-12 06:27:20.119 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 06:27:20.120 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-12 06:27:20.121 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 06:27:20.123 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 06:27:20.125 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 06:27:20.129 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 06:27:20.132 +07:00 [DBG] A data reader was disposed.
2023-05-12 06:27:20.133 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 06:27:20.136 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 06:27:20.138 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 06:27:20.139 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-12 06:27:20.141 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 06:27:20.143 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 06:27:20.146 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointofinterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointofinterestId_1)
LIMIT 1
2023-05-12 06:27:20.149 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointofinterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointofinterestId_1)
LIMIT 1
2023-05-12 06:27:20.155 +07:00 [DBG] A data reader was disposed.
2023-05-12 06:27:20.157 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 06:27:20.160 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 06:27:20.161 +07:00 [FTL] The Point Of Interest Id = 10 isn't exist in this context
2023-05-12 06:27:20.163 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-05-12 06:27:20.166 +07:00 [DBG] No information found on request to perform content negotiation.
2023-05-12 06:27:20.167 +07:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2023-05-12 06:27:20.170 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2023-05-12 06:27:20.172 +07:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2023-05-12 06:27:20.174 +07:00 [INF] Executed action APIDemo.Controllers.PointOfInterestController.GetPointOfInterestsById (APIDemo) in 145.7868ms
2023-05-12 06:27:20.177 +07:00 [INF] Executed endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterestsById (APIDemo)'
2023-05-12 06:27:20.178 +07:00 [DBG] Connection id "0HMQIESUFKS8Q" completed keep alive response.
2023-05-12 06:27:20.179 +07:00 [DBG] 'CityInfoContext' disposed.
2023-05-12 06:27:20.180 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7269/api/cities/1/pointsofinterest/10 - - - 404 161 application/problem+json;+charset=utf-8 179.0288ms
2023-05-12 06:27:26.262 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7269/api/cities/1/pointsofinterest/10 - -
2023-05-12 06:27:26.263 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/10'
2023-05-12 06:27:26.267 +07:00 [DBG] Endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterestsById (APIDemo)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointofinterestId}' is valid for the request path '/api/cities/1/pointsofinterest/10'
2023-05-12 06:27:26.273 +07:00 [DBG] Request matched endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterestsById (APIDemo)'
2023-05-12 06:27:26.277 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-12 06:27:26.279 +07:00 [INF] Executing endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterestsById (APIDemo)'
2023-05-12 06:27:26.283 +07:00 [INF] Route matched with {action = "GetPointOfInterestsById", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[APIDemo.Models.PointOfInterestDTO]] GetPointOfInterestsById(Int32, Int32) on controller APIDemo.Controllers.PointOfInterestController (APIDemo).
2023-05-12 06:27:26.290 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-12 06:27:26.294 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-12 06:27:26.299 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-12 06:27:26.305 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-12 06:27:26.310 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-12 06:27:26.315 +07:00 [DBG] Executing controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 06:27:26.319 +07:00 [DBG] Executed controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 06:27:26.324 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-05-12 06:27:26.327 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-05-12 06:27:26.333 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 06:27:26.335 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 06:27:26.337 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-05-12 06:27:26.340 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-05-12 06:27:26.342 +07:00 [DBG] Attempting to bind parameter 'pointofinterestId' of type 'System.Int32' ...
2023-05-12 06:27:26.345 +07:00 [DBG] Attempting to bind parameter 'pointofinterestId' of type 'System.Int32' using the name 'pointofinterestId' in request data ...
2023-05-12 06:27:26.351 +07:00 [DBG] Done attempting to bind parameter 'pointofinterestId' of type 'System.Int32'.
2023-05-12 06:27:26.356 +07:00 [DBG] Done attempting to bind parameter 'pointofinterestId' of type 'System.Int32'.
2023-05-12 06:27:26.360 +07:00 [DBG] Attempting to validate the bound parameter 'pointofinterestId' of type 'System.Int32' ...
2023-05-12 06:27:26.365 +07:00 [DBG] Done attempting to validate the bound parameter 'pointofinterestId' of type 'System.Int32'.
2023-05-12 06:27:26.370 +07:00 [INF] Entity Framework Core 6.0.16 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.16' with options: None
2023-05-12 06:27:26.377 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 06:27:26.380 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-05-12 06:27:26.386 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 06:27:26.391 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 06:27:26.394 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 06:27:26.399 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 06:27:26.406 +07:00 [DBG] A data reader was disposed.
2023-05-12 06:27:26.409 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 06:27:26.412 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 06:27:26.419 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 06:27:26.423 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-05-12 06:27:26.427 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 06:27:26.432 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 06:27:26.437 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointofinterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointofinterestId_1)
LIMIT 1
2023-05-12 06:27:26.444 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointofinterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointofinterestId_1)
LIMIT 1
2023-05-12 06:27:26.452 +07:00 [DBG] A data reader was disposed.
2023-05-12 06:27:26.455 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 06:27:26.460 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 06:27:26.472 +07:00 [FTL] The Point Of Interest Id = 10 isn't exist in this context
2023-05-12 06:27:26.473 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-05-12 06:27:26.480 +07:00 [DBG] No information found on request to perform content negotiation.
2023-05-12 06:27:26.484 +07:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2023-05-12 06:27:26.493 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2023-05-12 06:27:26.498 +07:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2023-05-12 06:27:26.503 +07:00 [INF] Executed action APIDemo.Controllers.PointOfInterestController.GetPointOfInterestsById (APIDemo) in 187.7799ms
2023-05-12 06:27:26.506 +07:00 [INF] Executed endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterestsById (APIDemo)'
2023-05-12 06:27:26.510 +07:00 [DBG] Connection id "0HMQIESUFKS8Q" completed keep alive response.
2023-05-12 06:27:26.512 +07:00 [DBG] 'CityInfoContext' disposed.
2023-05-12 06:27:26.514 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7269/api/cities/1/pointsofinterest/10 - - - 404 161 application/problem+json;+charset=utf-8 252.2106ms
2023-05-12 06:27:27.565 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7269/api/cities/1/pointsofinterest/10 - -
2023-05-12 06:27:27.566 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/10'
2023-05-12 06:27:27.568 +07:00 [DBG] Endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterestsById (APIDemo)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointofinterestId}' is valid for the request path '/api/cities/1/pointsofinterest/10'
2023-05-12 06:27:27.571 +07:00 [DBG] Request matched endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterestsById (APIDemo)'
2023-05-12 06:27:27.573 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-12 06:27:27.574 +07:00 [INF] Executing endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterestsById (APIDemo)'
2023-05-12 06:27:27.578 +07:00 [INF] Route matched with {action = "GetPointOfInterestsById", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[APIDemo.Models.PointOfInterestDTO]] GetPointOfInterestsById(Int32, Int32) on controller APIDemo.Controllers.PointOfInterestController (APIDemo).
2023-05-12 06:27:27.581 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-12 06:27:27.583 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-12 06:27:27.584 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-12 06:27:27.587 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-12 06:27:27.589 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-12 06:27:27.591 +07:00 [DBG] Executing controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 06:27:27.594 +07:00 [DBG] Executed controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 06:27:27.596 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-05-12 06:27:27.598 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-05-12 06:27:27.601 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 06:27:27.602 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 06:27:27.604 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-05-12 06:27:27.606 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-05-12 06:27:27.607 +07:00 [DBG] Attempting to bind parameter 'pointofinterestId' of type 'System.Int32' ...
2023-05-12 06:27:27.609 +07:00 [DBG] Attempting to bind parameter 'pointofinterestId' of type 'System.Int32' using the name 'pointofinterestId' in request data ...
2023-05-12 06:27:27.611 +07:00 [DBG] Done attempting to bind parameter 'pointofinterestId' of type 'System.Int32'.
2023-05-12 06:27:27.613 +07:00 [DBG] Done attempting to bind parameter 'pointofinterestId' of type 'System.Int32'.
2023-05-12 06:27:27.614 +07:00 [DBG] Attempting to validate the bound parameter 'pointofinterestId' of type 'System.Int32' ...
2023-05-12 06:27:27.616 +07:00 [DBG] Done attempting to validate the bound parameter 'pointofinterestId' of type 'System.Int32'.
2023-05-12 06:27:27.617 +07:00 [INF] Entity Framework Core 6.0.16 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.16' with options: None
2023-05-12 06:27:27.619 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 06:27:27.621 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-12 06:27:27.623 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 06:27:27.624 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 06:27:27.626 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 06:27:27.629 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 06:27:27.631 +07:00 [DBG] A data reader was disposed.
2023-05-12 06:27:27.632 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 06:27:27.634 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 06:27:27.636 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 06:27:27.638 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-12 06:27:27.640 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 06:27:27.641 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 06:27:27.643 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointofinterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointofinterestId_1)
LIMIT 1
2023-05-12 06:27:27.646 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointofinterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointofinterestId_1)
LIMIT 1
2023-05-12 06:27:27.648 +07:00 [DBG] A data reader was disposed.
2023-05-12 06:27:27.649 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 06:27:27.651 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 06:27:27.653 +07:00 [FTL] The Point Of Interest Id = 10 isn't exist in this context
2023-05-12 06:27:27.654 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-05-12 06:27:27.658 +07:00 [DBG] No information found on request to perform content negotiation.
2023-05-12 06:27:27.659 +07:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2023-05-12 06:27:27.662 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2023-05-12 06:27:27.664 +07:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2023-05-12 06:27:27.665 +07:00 [INF] Executed action APIDemo.Controllers.PointOfInterestController.GetPointOfInterestsById (APIDemo) in 73.3716ms
2023-05-12 06:27:27.666 +07:00 [INF] Executed endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterestsById (APIDemo)'
2023-05-12 06:27:27.667 +07:00 [DBG] Connection id "0HMQIESUFKS8Q" completed keep alive response.
2023-05-12 06:27:27.669 +07:00 [DBG] 'CityInfoContext' disposed.
2023-05-12 06:27:27.671 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7269/api/cities/1/pointsofinterest/10 - - - 404 161 application/problem+json;+charset=utf-8 105.6544ms
2023-05-12 06:27:35.596 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-05-12 06:27:35.711 +07:00 [DBG] Hosting starting
2023-05-12 06:27:35.853 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 75D11A6361D7470A96C9C9E8EC2F301CE14CF8DD)
2023-05-12 06:27:35.894 +07:00 [INF] Now listening on: https://localhost:7269
2023-05-12 06:27:35.896 +07:00 [INF] Now listening on: http://localhost:5078
2023-05-12 06:27:35.897 +07:00 [DBG] Loaded hosting startup assembly APIDemo
2023-05-12 06:27:35.898 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-05-12 06:27:35.899 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-05-12 06:27:35.901 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-12 06:27:35.902 +07:00 [INF] Hosting environment: Development
2023-05-12 06:27:35.903 +07:00 [INF] Content root path: C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\
2023-05-12 06:27:35.904 +07:00 [DBG] Hosting started
2023-05-12 06:27:36.076 +07:00 [DBG] Connection id "0HMQIET6QO02N" received FIN.
2023-05-12 06:27:36.088 +07:00 [DBG] Connection id "0HMQIET6QO02N" accepted.
2023-05-12 06:27:36.090 +07:00 [DBG] Connection id "0HMQIET6QO02N" started.
2023-05-12 06:27:36.110 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-12 06:27:36.151 +07:00 [DBG] Connection id "0HMQIET6QO02N" stopped.
2023-05-12 06:27:36.156 +07:00 [DBG] Connection id "0HMQIET6QO02N" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-12 06:27:36.265 +07:00 [DBG] Connection id "0HMQIET6QO02O" accepted.
2023-05-12 06:27:36.266 +07:00 [DBG] Connection id "0HMQIET6QO02O" received FIN.
2023-05-12 06:27:36.277 +07:00 [DBG] Connection id "0HMQIET6QO02O" started.
2023-05-12 06:27:36.285 +07:00 [DBG] Connection id "0HMQIET6QO02P" accepted.
2023-05-12 06:27:36.304 +07:00 [DBG] Connection id "0HMQIET6QO02P" started.
2023-05-12 06:27:36.294 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-12 06:27:36.331 +07:00 [DBG] Connection id "0HMQIET6QO02Q" accepted.
2023-05-12 06:27:36.338 +07:00 [DBG] Connection id "0HMQIET6QO02O" stopped.
2023-05-12 06:27:36.339 +07:00 [DBG] Connection id "0HMQIET6QO02Q" started.
2023-05-12 06:27:36.340 +07:00 [DBG] Connection id "0HMQIET6QO02O" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-12 06:27:36.396 +07:00 [DBG] Connection 0HMQIET6QO02Q established using the following protocol: "Tls12"
2023-05-12 06:27:36.396 +07:00 [DBG] Connection 0HMQIET6QO02P established using the following protocol: "Tls12"
2023-05-12 06:27:36.459 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/index.html - -
2023-05-12 06:27:36.459 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7269/api/cities/1/pointsofinterest/10 - -
2023-05-12 06:27:36.475 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-05-12 06:27:36.503 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-05-12 06:27:36.504 +07:00 [DBG] Request did not match any endpoints
2023-05-12 06:27:36.510 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/10'
2023-05-12 06:27:36.518 +07:00 [DBG] Endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterestsById (APIDemo)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointofinterestId}' is valid for the request path '/api/cities/1/pointsofinterest/10'
2023-05-12 06:27:36.520 +07:00 [DBG] Request matched endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterestsById (APIDemo)'
2023-05-12 06:27:36.550 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-12 06:27:36.554 +07:00 [INF] Executing endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterestsById (APIDemo)'
2023-05-12 06:27:36.586 +07:00 [INF] Route matched with {action = "GetPointOfInterestsById", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[APIDemo.Models.PointOfInterestDTO]] GetPointOfInterestsById(Int32, Int32) on controller APIDemo.Controllers.PointOfInterestController (APIDemo).
2023-05-12 06:27:36.590 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-12 06:27:36.592 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-12 06:27:36.594 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-12 06:27:36.597 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-12 06:27:36.599 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-12 06:27:36.601 +07:00 [DBG] Executing controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 06:27:36.619 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-05-12 06:27:36.802 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-05-12 06:27:36.810 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_vs/browserLink - -
2023-05-12 06:27:36.810 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - -
2023-05-12 06:27:36.819 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-05-12 06:27:36.827 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 12.7642ms
2023-05-12 06:27:36.828 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/index.html - - - 200 - text/html;charset=utf-8 374.0215ms
2023-05-12 06:27:36.860 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 50.2943ms
2023-05-12 06:27:36.955 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - -
2023-05-12 06:27:36.956 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-05-12 06:27:36.958 +07:00 [DBG] Request did not match any endpoints
2023-05-12 06:27:37.110 +07:00 [DBG] Executed controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 06:27:37.117 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-05-12 06:27:37.119 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-05-12 06:27:37.121 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 06:27:37.122 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 06:27:37.123 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-05-12 06:27:37.126 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-05-12 06:27:37.130 +07:00 [DBG] Attempting to bind parameter 'pointofinterestId' of type 'System.Int32' ...
2023-05-12 06:27:37.131 +07:00 [DBG] Attempting to bind parameter 'pointofinterestId' of type 'System.Int32' using the name 'pointofinterestId' in request data ...
2023-05-12 06:27:37.133 +07:00 [DBG] Done attempting to bind parameter 'pointofinterestId' of type 'System.Int32'.
2023-05-12 06:27:37.134 +07:00 [DBG] Done attempting to bind parameter 'pointofinterestId' of type 'System.Int32'.
2023-05-12 06:27:37.135 +07:00 [DBG] Attempting to validate the bound parameter 'pointofinterestId' of type 'System.Int32' ...
2023-05-12 06:27:37.136 +07:00 [DBG] Done attempting to validate the bound parameter 'pointofinterestId' of type 'System.Int32'.
2023-05-12 06:27:37.161 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 205.5884ms
2023-05-12 06:27:38.176 +07:00 [INF] Entity Framework Core 6.0.16 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.16' with options: None
2023-05-12 06:27:38.240 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(item => item.Id == __cityId_0)'
2023-05-12 06:27:38.580 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        APIDemo.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-12 06:27:38.652 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 06:27:38.730 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (73ms).
2023-05-12 06:27:38.748 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 06:27:38.773 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 06:27:38.797 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 06:27:38.838 +07:00 [INF] Executed DbCommand (48ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 06:27:38.858 +07:00 [DBG] A data reader was disposed.
2023-05-12 06:27:38.870 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 06:27:38.882 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 06:27:38.892 +07:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(item => item.CityId == __cityId_0 && item.Id == __pointofinterestId_1)
    .FirstOrDefault()'
2023-05-12 06:27:38.942 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<PointOfInterest>(
    asyncEnumerable: new SingleQueryingEnumerable<PointOfInterest>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
            SELECT TOP(1) p.Id, p.CityId, p.Description, p.Name
            FROM PointOfInterests AS p
            WHERE (p.CityId == @__cityId_0) && (p.Id == @__pointofinterestId_1)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
        APIDemo.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-12 06:27:38.959 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 06:27:38.961 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-05-12 06:27:38.964 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 06:27:38.967 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 06:27:38.970 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointofinterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointofinterestId_1)
LIMIT 1
2023-05-12 06:27:38.976 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointofinterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointofinterestId_1)
LIMIT 1
2023-05-12 06:27:38.981 +07:00 [DBG] A data reader was disposed.
2023-05-12 06:27:38.982 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 06:27:38.986 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 06:27:39.100 +07:00 [INF] Executed action APIDemo.Controllers.PointOfInterestController.GetPointOfInterestsById (APIDemo) in 2493.8699ms
2023-05-12 06:27:39.107 +07:00 [INF] Executed endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterestsById (APIDemo)'
2023-05-12 06:27:39.112 +07:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
Task`1 -> PointOfInterestDTO
System.Threading.Tasks.Task`1[[APIDemo.Entities.PointOfInterest, APIDemo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] -> APIDemo.Models.PointOfInterestDTO
   at lambda_method35(Closure , Object , PointOfInterestDTO , ResolutionContext )
   at APIDemo.Controllers.PointOfInterestController.GetPointOfInterestsById(Int32 cityId, Int32 pointofinterestId) in C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\Controllers\PointOfInterestController.cs:line 85
   at lambda_method5(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-05-12 06:27:39.158 +07:00 [DBG] Connection id "0HMQIET6QO02P" completed keep alive response.
2023-05-12 06:27:39.165 +07:00 [DBG] 'CityInfoContext' disposed.
2023-05-12 06:27:39.173 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7269/api/cities/1/pointsofinterest/10 - - - 500 - text/plain;+charset=utf-8 2719.1966ms
2023-05-12 06:27:40.542 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7269/api/cities/1/pointsofinterest/10 - -
2023-05-12 06:27:40.544 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/10'
2023-05-12 06:27:40.548 +07:00 [DBG] Endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterestsById (APIDemo)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointofinterestId}' is valid for the request path '/api/cities/1/pointsofinterest/10'
2023-05-12 06:27:40.551 +07:00 [DBG] Request matched endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterestsById (APIDemo)'
2023-05-12 06:27:40.552 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-12 06:27:40.553 +07:00 [INF] Executing endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterestsById (APIDemo)'
2023-05-12 06:27:40.555 +07:00 [INF] Route matched with {action = "GetPointOfInterestsById", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[APIDemo.Models.PointOfInterestDTO]] GetPointOfInterestsById(Int32, Int32) on controller APIDemo.Controllers.PointOfInterestController (APIDemo).
2023-05-12 06:27:40.558 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-12 06:27:40.559 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-12 06:27:40.562 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-12 06:27:40.565 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-12 06:27:40.569 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-12 06:27:40.572 +07:00 [DBG] Executing controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 06:27:40.574 +07:00 [DBG] Executed controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 06:27:40.576 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-05-12 06:27:40.578 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-05-12 06:27:40.580 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 06:27:40.581 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 06:27:40.582 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-05-12 06:27:40.584 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-05-12 06:27:40.585 +07:00 [DBG] Attempting to bind parameter 'pointofinterestId' of type 'System.Int32' ...
2023-05-12 06:27:40.586 +07:00 [DBG] Attempting to bind parameter 'pointofinterestId' of type 'System.Int32' using the name 'pointofinterestId' in request data ...
2023-05-12 06:27:40.588 +07:00 [DBG] Done attempting to bind parameter 'pointofinterestId' of type 'System.Int32'.
2023-05-12 06:27:40.589 +07:00 [DBG] Done attempting to bind parameter 'pointofinterestId' of type 'System.Int32'.
2023-05-12 06:27:40.591 +07:00 [DBG] Attempting to validate the bound parameter 'pointofinterestId' of type 'System.Int32' ...
2023-05-12 06:27:40.593 +07:00 [DBG] Done attempting to validate the bound parameter 'pointofinterestId' of type 'System.Int32'.
2023-05-12 06:27:40.597 +07:00 [INF] Entity Framework Core 6.0.16 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.16' with options: None
2023-05-12 06:27:40.602 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 06:27:40.603 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-05-12 06:27:40.604 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 06:27:40.606 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 06:27:40.608 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 06:27:40.610 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 06:27:40.613 +07:00 [DBG] A data reader was disposed.
2023-05-12 06:27:40.613 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 06:27:40.615 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 06:27:40.617 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 06:27:40.618 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-12 06:27:40.620 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 06:27:40.621 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 06:27:40.623 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointofinterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointofinterestId_1)
LIMIT 1
2023-05-12 06:27:40.626 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointofinterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointofinterestId_1)
LIMIT 1
2023-05-12 06:27:40.629 +07:00 [DBG] A data reader was disposed.
2023-05-12 06:27:40.630 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 06:27:40.632 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 06:27:40.685 +07:00 [INF] Executed action APIDemo.Controllers.PointOfInterestController.GetPointOfInterestsById (APIDemo) in 113.3ms
2023-05-12 06:27:40.690 +07:00 [INF] Executed endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterestsById (APIDemo)'
2023-05-12 06:27:40.695 +07:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
Task`1 -> PointOfInterestDTO
System.Threading.Tasks.Task`1[[APIDemo.Entities.PointOfInterest, APIDemo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] -> APIDemo.Models.PointOfInterestDTO
   at lambda_method35(Closure , Object , PointOfInterestDTO , ResolutionContext )
   at APIDemo.Controllers.PointOfInterestController.GetPointOfInterestsById(Int32 cityId, Int32 pointofinterestId) in C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\Controllers\PointOfInterestController.cs:line 85
   at lambda_method5(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-05-12 06:27:40.718 +07:00 [DBG] Connection id "0HMQIET6QO02P" completed keep alive response.
2023-05-12 06:27:40.720 +07:00 [DBG] 'CityInfoContext' disposed.
2023-05-12 06:27:40.722 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7269/api/cities/1/pointsofinterest/10 - - - 500 - text/plain;+charset=utf-8 180.3466ms
2023-05-12 07:17:55.757 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-05-12 07:17:55.861 +07:00 [DBG] Hosting starting
2023-05-12 07:17:56.000 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 75D11A6361D7470A96C9C9E8EC2F301CE14CF8DD)
2023-05-12 07:17:56.040 +07:00 [INF] Now listening on: https://localhost:7269
2023-05-12 07:17:56.042 +07:00 [INF] Now listening on: http://localhost:5078
2023-05-12 07:17:56.043 +07:00 [DBG] Loaded hosting startup assembly APIDemo
2023-05-12 07:17:56.044 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-05-12 07:17:56.046 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-05-12 07:17:56.047 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-12 07:17:56.048 +07:00 [INF] Hosting environment: Development
2023-05-12 07:17:56.049 +07:00 [INF] Content root path: C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\
2023-05-12 07:17:56.050 +07:00 [DBG] Hosting started
2023-05-12 07:17:56.120 +07:00 [DBG] Connection id "0HMQIFPAS4A25" received FIN.
2023-05-12 07:17:56.146 +07:00 [DBG] Connection id "0HMQIFPAS4A25" accepted.
2023-05-12 07:17:56.150 +07:00 [DBG] Connection id "0HMQIFPAS4A25" started.
2023-05-12 07:17:56.175 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-12 07:17:56.212 +07:00 [DBG] Connection id "0HMQIFPAS4A25" stopped.
2023-05-12 07:17:56.217 +07:00 [DBG] Connection id "0HMQIFPAS4A25" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-12 07:17:56.379 +07:00 [DBG] Connection id "0HMQIFPAS4A26" accepted.
2023-05-12 07:17:56.382 +07:00 [DBG] Connection id "0HMQIFPAS4A26" started.
2023-05-12 07:17:56.453 +07:00 [DBG] Connection 0HMQIFPAS4A26 established using the following protocol: "Tls12"
2023-05-12 07:17:56.501 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/index.html - -
2023-05-12 07:17:56.536 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-05-12 07:17:56.561 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-05-12 07:17:56.563 +07:00 [DBG] Request did not match any endpoints
2023-05-12 07:17:56.671 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-05-12 07:17:56.820 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - -
2023-05-12 07:17:56.820 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_vs/browserLink - -
2023-05-12 07:17:56.827 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-05-12 07:17:56.837 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 16.8045ms
2023-05-12 07:17:56.837 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/index.html - - - 200 - text/html;charset=utf-8 339.6755ms
2023-05-12 07:17:56.900 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 80.4409ms
2023-05-12 07:17:56.971 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - -
2023-05-12 07:17:56.973 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-05-12 07:17:56.975 +07:00 [DBG] Request did not match any endpoints
2023-05-12 07:17:57.137 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 165.5589ms
2023-05-12 07:18:21.715 +07:00 [DBG] Connection id "0HMQIFPAS4A27" accepted.
2023-05-12 07:18:21.722 +07:00 [DBG] Connection id "0HMQIFPAS4A27" received FIN.
2023-05-12 07:18:21.724 +07:00 [DBG] Connection id "0HMQIFPAS4A27" started.
2023-05-12 07:18:21.725 +07:00 [DBG] Connection id "0HMQIFPAS4A28" accepted.
2023-05-12 07:18:21.744 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-12 07:18:21.747 +07:00 [DBG] Connection id "0HMQIFPAS4A28" started.
2023-05-12 07:18:21.758 +07:00 [DBG] Connection id "0HMQIFPAS4A27" stopped.
2023-05-12 07:18:21.766 +07:00 [DBG] Connection id "0HMQIFPAS4A27" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-12 07:18:21.790 +07:00 [DBG] Connection 0HMQIFPAS4A28 established using the following protocol: "Tls12"
2023-05-12 07:18:21.805 +07:00 [INF] Request starting HTTP/1.1 POST https://localhost:7269/api/cities/3/pointsofinterest application/json 117
2023-05-12 07:18:21.817 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest'
2023-05-12 07:18:21.822 +07:00 [DBG] Endpoint 'APIDemo.Controllers.PointOfInterestController.CreatePointOfInterest (APIDemo)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/3/pointsofinterest'
2023-05-12 07:18:21.824 +07:00 [DBG] Request matched endpoint 'APIDemo.Controllers.PointOfInterestController.CreatePointOfInterest (APIDemo)'
2023-05-12 07:18:21.827 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-12 07:18:21.830 +07:00 [INF] Executing endpoint 'APIDemo.Controllers.PointOfInterestController.CreatePointOfInterest (APIDemo)'
2023-05-12 07:18:21.862 +07:00 [INF] Route matched with {action = "CreatePointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[APIDemo.Models.PointOfInterestDTO]] CreatePointOfInterest(Int32, APIDemo.Models.PointOfInterestCreationDTO) on controller APIDemo.Controllers.PointOfInterestController (APIDemo).
2023-05-12 07:18:21.865 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-12 07:18:21.867 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-12 07:18:21.868 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-12 07:18:21.870 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-12 07:18:21.872 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-12 07:18:21.874 +07:00 [DBG] Executing controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 07:18:22.046 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-05-12 07:18:22.260 +07:00 [DBG] Executed controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 07:18:22.268 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-05-12 07:18:22.274 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-05-12 07:18:22.279 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 07:18:22.284 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 07:18:22.289 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-05-12 07:18:22.295 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-05-12 07:18:22.302 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO' ...
2023-05-12 07:18:22.309 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO' using the name '' in request data ...
2023-05-12 07:18:22.314 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-05-12 07:18:22.320 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-05-12 07:18:22.337 +07:00 [DBG] Connection id "0HMQIFPAS4A28", Request id "0HMQIFPAS4A28:00000002": started reading request body.
2023-05-12 07:18:22.342 +07:00 [DBG] Connection id "0HMQIFPAS4A28", Request id "0HMQIFPAS4A28:00000002": done reading request body.
2023-05-12 07:18:22.494 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO'.
2023-05-12 07:18:22.495 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO'.
2023-05-12 07:18:22.497 +07:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO' ...
2023-05-12 07:18:22.504 +07:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO'.
2023-05-12 07:18:23.496 +07:00 [INF] Entity Framework Core 6.0.16 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.16' with options: None
2023-05-12 07:18:23.563 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(item => item.Id == __cityId_0)'
2023-05-12 07:18:23.892 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        APIDemo.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-12 07:18:23.964 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 07:18:24.046 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (78ms).
2023-05-12 07:18:24.065 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 07:18:24.086 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 07:18:24.105 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 07:18:24.144 +07:00 [INF] Executed DbCommand (43ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 07:18:24.161 +07:00 [DBG] A data reader was disposed.
2023-05-12 07:18:24.173 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 07:18:24.184 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 07:18:24.185 +07:00 [FTL] The city with id 3 is existed when accessing points of interest
2023-05-12 07:18:24.188 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-05-12 07:18:24.194 +07:00 [DBG] No information found on request to perform content negotiation.
2023-05-12 07:18:24.195 +07:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2023-05-12 07:18:24.199 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2023-05-12 07:18:24.201 +07:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2023-05-12 07:18:24.273 +07:00 [INF] Executed action APIDemo.Controllers.PointOfInterestController.CreatePointOfInterest (APIDemo) in 2393.9568ms
2023-05-12 07:18:24.275 +07:00 [INF] Executed endpoint 'APIDemo.Controllers.PointOfInterestController.CreatePointOfInterest (APIDemo)'
2023-05-12 07:18:24.277 +07:00 [DBG] Connection id "0HMQIFPAS4A28" completed keep alive response.
2023-05-12 07:18:24.283 +07:00 [DBG] 'CityInfoContext' disposed.
2023-05-12 07:18:24.288 +07:00 [INF] Request finished HTTP/1.1 POST https://localhost:7269/api/cities/3/pointsofinterest application/json 117 - 404 161 application/problem+json;+charset=utf-8 2483.6499ms
2023-05-12 07:18:39.532 +07:00 [INF] Request starting HTTP/1.1 POST https://localhost:7269/api/cities/1/pointsofinterest application/json 117
2023-05-12 07:18:39.534 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2023-05-12 07:18:39.535 +07:00 [DBG] Endpoint 'APIDemo.Controllers.PointOfInterestController.CreatePointOfInterest (APIDemo)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2023-05-12 07:18:39.538 +07:00 [DBG] Request matched endpoint 'APIDemo.Controllers.PointOfInterestController.CreatePointOfInterest (APIDemo)'
2023-05-12 07:18:39.539 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-12 07:18:39.540 +07:00 [INF] Executing endpoint 'APIDemo.Controllers.PointOfInterestController.CreatePointOfInterest (APIDemo)'
2023-05-12 07:18:39.542 +07:00 [INF] Route matched with {action = "CreatePointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[APIDemo.Models.PointOfInterestDTO]] CreatePointOfInterest(Int32, APIDemo.Models.PointOfInterestCreationDTO) on controller APIDemo.Controllers.PointOfInterestController (APIDemo).
2023-05-12 07:18:39.544 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-12 07:18:39.547 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-12 07:18:39.549 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-12 07:18:39.551 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-12 07:18:39.553 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-12 07:18:39.556 +07:00 [DBG] Executing controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 07:18:39.558 +07:00 [DBG] Executed controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 07:18:39.560 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-05-12 07:18:39.561 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-05-12 07:18:39.563 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 07:18:39.564 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 07:18:39.566 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-05-12 07:18:39.567 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-05-12 07:18:39.569 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO' ...
2023-05-12 07:18:39.571 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO' using the name '' in request data ...
2023-05-12 07:18:39.573 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-05-12 07:18:39.575 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-05-12 07:18:39.577 +07:00 [DBG] Connection id "0HMQIFPAS4A28", Request id "0HMQIFPAS4A28:00000003": started reading request body.
2023-05-12 07:18:39.578 +07:00 [DBG] Connection id "0HMQIFPAS4A28", Request id "0HMQIFPAS4A28:00000003": done reading request body.
2023-05-12 07:18:39.580 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO'.
2023-05-12 07:18:39.582 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO'.
2023-05-12 07:18:39.583 +07:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO' ...
2023-05-12 07:18:39.585 +07:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO'.
2023-05-12 07:18:39.588 +07:00 [INF] Entity Framework Core 6.0.16 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.16' with options: None
2023-05-12 07:18:39.594 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 07:18:39.596 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-12 07:18:39.597 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 07:18:39.599 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 07:18:39.601 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 07:18:39.603 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 07:18:39.606 +07:00 [DBG] A data reader was disposed.
2023-05-12 07:18:39.607 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 07:18:39.608 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 07:18:39.610 +07:00 [FTL] The city with id 1 is existed when accessing points of interest
2023-05-12 07:18:39.611 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-05-12 07:18:39.615 +07:00 [DBG] No information found on request to perform content negotiation.
2023-05-12 07:18:39.616 +07:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2023-05-12 07:18:39.619 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2023-05-12 07:18:39.620 +07:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2023-05-12 07:18:39.622 +07:00 [INF] Executed action APIDemo.Controllers.PointOfInterestController.CreatePointOfInterest (APIDemo) in 65.9858ms
2023-05-12 07:18:39.624 +07:00 [INF] Executed endpoint 'APIDemo.Controllers.PointOfInterestController.CreatePointOfInterest (APIDemo)'
2023-05-12 07:18:39.625 +07:00 [DBG] Connection id "0HMQIFPAS4A28" completed keep alive response.
2023-05-12 07:18:39.626 +07:00 [DBG] 'CityInfoContext' disposed.
2023-05-12 07:18:39.627 +07:00 [INF] Request finished HTTP/1.1 POST https://localhost:7269/api/cities/1/pointsofinterest application/json 117 - 404 161 application/problem+json;+charset=utf-8 95.6300ms
2023-05-12 07:19:01.987 +07:00 [INF] Request starting HTTP/1.1 POST https://localhost:7269/api/cities/1/pointsofinterest application/json 117
2023-05-12 07:19:01.992 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2023-05-12 07:19:01.997 +07:00 [DBG] Endpoint 'APIDemo.Controllers.PointOfInterestController.CreatePointOfInterest (APIDemo)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2023-05-12 07:19:02.002 +07:00 [DBG] Request matched endpoint 'APIDemo.Controllers.PointOfInterestController.CreatePointOfInterest (APIDemo)'
2023-05-12 07:19:02.005 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-12 07:19:02.008 +07:00 [INF] Executing endpoint 'APIDemo.Controllers.PointOfInterestController.CreatePointOfInterest (APIDemo)'
2023-05-12 07:19:02.014 +07:00 [INF] Route matched with {action = "CreatePointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[APIDemo.Models.PointOfInterestDTO]] CreatePointOfInterest(Int32, APIDemo.Models.PointOfInterestCreationDTO) on controller APIDemo.Controllers.PointOfInterestController (APIDemo).
2023-05-12 07:19:02.019 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-12 07:19:02.024 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-12 07:19:02.032 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-12 07:19:02.038 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-12 07:19:02.043 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-12 07:19:02.050 +07:00 [DBG] Executing controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 07:19:02.054 +07:00 [DBG] Executed controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 07:19:02.056 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-05-12 07:19:02.058 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-05-12 07:19:02.060 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 07:19:02.061 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 07:19:02.063 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-05-12 07:19:02.064 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-05-12 07:19:02.067 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO' ...
2023-05-12 07:19:02.069 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO' using the name '' in request data ...
2023-05-12 07:19:02.072 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-05-12 07:19:02.075 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-05-12 07:19:02.080 +07:00 [DBG] Connection id "0HMQIFPAS4A28", Request id "0HMQIFPAS4A28:00000004": started reading request body.
2023-05-12 07:19:02.085 +07:00 [DBG] Connection id "0HMQIFPAS4A28", Request id "0HMQIFPAS4A28:00000004": done reading request body.
2023-05-12 07:19:02.089 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO'.
2023-05-12 07:19:02.091 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO'.
2023-05-12 07:19:02.093 +07:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO' ...
2023-05-12 07:19:02.097 +07:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO'.
2023-05-12 07:19:02.153 +07:00 [INF] Entity Framework Core 6.0.16 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.16' with options: None
2023-05-12 07:19:02.159 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 07:19:02.161 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-12 07:19:02.164 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 07:19:02.167 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 07:19:02.169 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 07:19:02.174 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 07:19:02.180 +07:00 [DBG] A data reader was disposed.
2023-05-12 07:19:02.182 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 07:19:02.185 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 07:19:02.189 +07:00 [FTL] The city with id 1 is existed when accessing points of interest
2023-05-12 07:19:02.192 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-05-12 07:19:02.204 +07:00 [DBG] No information found on request to perform content negotiation.
2023-05-12 07:19:02.207 +07:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2023-05-12 07:19:02.215 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2023-05-12 07:19:02.220 +07:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2023-05-12 07:19:02.222 +07:00 [INF] Executed action APIDemo.Controllers.PointOfInterestController.CreatePointOfInterest (APIDemo) in 172.9003ms
2023-05-12 07:19:02.226 +07:00 [INF] Executed endpoint 'APIDemo.Controllers.PointOfInterestController.CreatePointOfInterest (APIDemo)'
2023-05-12 07:19:02.228 +07:00 [DBG] Connection id "0HMQIFPAS4A28" completed keep alive response.
2023-05-12 07:19:02.230 +07:00 [DBG] 'CityInfoContext' disposed.
2023-05-12 07:19:02.232 +07:00 [INF] Request finished HTTP/1.1 POST https://localhost:7269/api/cities/1/pointsofinterest application/json 117 - 404 161 application/problem+json;+charset=utf-8 245.4365ms
2023-05-12 07:21:02.263 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-05-12 07:21:02.368 +07:00 [DBG] Hosting starting
2023-05-12 07:21:02.497 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 75D11A6361D7470A96C9C9E8EC2F301CE14CF8DD)
2023-05-12 07:21:02.542 +07:00 [INF] Now listening on: https://localhost:7269
2023-05-12 07:21:02.544 +07:00 [INF] Now listening on: http://localhost:5078
2023-05-12 07:21:02.545 +07:00 [DBG] Loaded hosting startup assembly APIDemo
2023-05-12 07:21:02.547 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-05-12 07:21:02.549 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-05-12 07:21:02.550 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-12 07:21:02.551 +07:00 [INF] Hosting environment: Development
2023-05-12 07:21:02.552 +07:00 [INF] Content root path: C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\
2023-05-12 07:21:02.553 +07:00 [DBG] Hosting started
2023-05-12 07:21:02.637 +07:00 [DBG] Connection id "0HMQIFR2ES170" accepted.
2023-05-12 07:21:02.638 +07:00 [DBG] Connection id "0HMQIFR2ES16V" accepted.
2023-05-12 07:21:02.640 +07:00 [DBG] Connection id "0HMQIFR2ES170" started.
2023-05-12 07:21:02.640 +07:00 [DBG] Connection id "0HMQIFR2ES16V" started.
2023-05-12 07:21:03.091 +07:00 [DBG] Connection id "0HMQIFR2ES171" accepted.
2023-05-12 07:21:03.103 +07:00 [DBG] Connection id "0HMQIFR2ES171" started.
2023-05-12 07:21:03.199 +07:00 [DBG] Connection 0HMQIFR2ES171 established using the following protocol: "Tls12"
2023-05-12 07:21:03.395 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/index.html - -
2023-05-12 07:21:03.495 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-05-12 07:21:03.542 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-05-12 07:21:03.543 +07:00 [DBG] Request did not match any endpoints
2023-05-12 07:21:03.709 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-05-12 07:21:04.034 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_vs/browserLink - -
2023-05-12 07:21:04.034 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - -
2023-05-12 07:21:04.060 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-05-12 07:21:04.066 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 31.5887ms
2023-05-12 07:21:04.071 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/index.html - - - 200 - text/html;charset=utf-8 685.8129ms
2023-05-12 07:21:04.149 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 115.3850ms
2023-05-12 07:21:04.239 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - -
2023-05-12 07:21:04.240 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-05-12 07:21:04.242 +07:00 [DBG] Request did not match any endpoints
2023-05-12 07:21:04.569 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 329.9818ms
2023-05-12 07:21:06.498 +07:00 [DBG] Connection id "0HMQIFR2ES172" accepted.
2023-05-12 07:21:06.504 +07:00 [DBG] Connection id "0HMQIFR2ES172" received FIN.
2023-05-12 07:21:06.504 +07:00 [DBG] Connection id "0HMQIFR2ES172" started.
2023-05-12 07:21:06.505 +07:00 [DBG] Connection id "0HMQIFR2ES173" accepted.
2023-05-12 07:21:06.513 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-12 07:21:06.514 +07:00 [DBG] Connection id "0HMQIFR2ES173" started.
2023-05-12 07:21:06.556 +07:00 [DBG] Connection id "0HMQIFR2ES172" stopped.
2023-05-12 07:21:06.558 +07:00 [DBG] Connection 0HMQIFR2ES173 established using the following protocol: "Tls12"
2023-05-12 07:21:06.559 +07:00 [DBG] Connection id "0HMQIFR2ES172" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-12 07:21:06.569 +07:00 [INF] Request starting HTTP/1.1 POST https://localhost:7269/api/cities/1/pointsofinterest application/json 117
2023-05-12 07:21:06.578 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2023-05-12 07:21:06.584 +07:00 [DBG] Endpoint 'APIDemo.Controllers.PointOfInterestController.CreatePointOfInterest (APIDemo)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2023-05-12 07:21:06.588 +07:00 [DBG] Request matched endpoint 'APIDemo.Controllers.PointOfInterestController.CreatePointOfInterest (APIDemo)'
2023-05-12 07:21:06.592 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-12 07:21:06.596 +07:00 [INF] Executing endpoint 'APIDemo.Controllers.PointOfInterestController.CreatePointOfInterest (APIDemo)'
2023-05-12 07:21:06.631 +07:00 [INF] Route matched with {action = "CreatePointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[APIDemo.Models.PointOfInterestDTO]] CreatePointOfInterest(Int32, APIDemo.Models.PointOfInterestCreationDTO) on controller APIDemo.Controllers.PointOfInterestController (APIDemo).
2023-05-12 07:21:06.635 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-12 07:21:06.637 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-12 07:21:06.639 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-12 07:21:06.641 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-12 07:21:06.643 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-12 07:21:06.645 +07:00 [DBG] Executing controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 07:21:06.809 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-05-12 07:21:07.014 +07:00 [DBG] Executed controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 07:21:07.022 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-05-12 07:21:07.026 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-05-12 07:21:07.029 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 07:21:07.033 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 07:21:07.038 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-05-12 07:21:07.045 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-05-12 07:21:07.052 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO' ...
2023-05-12 07:21:07.056 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO' using the name '' in request data ...
2023-05-12 07:21:07.063 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-05-12 07:21:07.067 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-05-12 07:21:07.080 +07:00 [DBG] Connection id "0HMQIFR2ES173", Request id "0HMQIFR2ES173:00000002": started reading request body.
2023-05-12 07:21:07.086 +07:00 [DBG] Connection id "0HMQIFR2ES173", Request id "0HMQIFR2ES173:00000002": done reading request body.
2023-05-12 07:21:07.236 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO'.
2023-05-12 07:21:07.239 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO'.
2023-05-12 07:21:07.241 +07:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO' ...
2023-05-12 07:21:07.250 +07:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO'.
2023-05-12 07:21:08.239 +07:00 [INF] Entity Framework Core 6.0.16 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.16' with options: None
2023-05-12 07:21:08.306 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(item => item.Id == __cityId_0)'
2023-05-12 07:21:08.686 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        APIDemo.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-12 07:21:08.782 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 07:21:08.888 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (100ms).
2023-05-12 07:21:08.907 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 07:21:08.927 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 07:21:08.945 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 07:21:08.981 +07:00 [INF] Executed DbCommand (42ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 07:21:08.997 +07:00 [DBG] A data reader was disposed.
2023-05-12 07:21:09.009 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 07:21:09.021 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 07:21:09.041 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(item => item.Id == __cityId_0)
    .FirstOrDefault()'
2023-05-12 07:21:09.093 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(50), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        APIDemo.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-12 07:21:09.111 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 07:21:09.114 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-05-12 07:21:09.120 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 07:21:09.125 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 07:21:09.130 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-05-12 07:21:09.138 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-05-12 07:21:09.162 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 07:21:09.190 +07:00 [DBG] A data reader was disposed.
2023-05-12 07:21:09.191 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 07:21:09.193 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 07:21:09.229 +07:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'Id.PointOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 07:21:09.252 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 07:21:09.264 +07:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2023-05-12 07:21:09.272 +07:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2023-05-12 07:21:09.292 +07:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2023-05-12 07:21:09.320 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 07:21:09.325 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 07:21:09.332 +07:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-05-12 07:21:09.340 +07:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-05-12 07:21:09.405 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 07:21:09.406 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-12 07:21:09.408 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 62), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointOfInterests" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "PointOfInterests"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2023-05-12 07:21:09.420 +07:00 [ERR] Failed executing DbCommand (12ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 62), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointOfInterests" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "PointOfInterests"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2023-05-12 07:21:09.434 +07:00 [DBG] Disposing transaction.
2023-05-12 07:21:09.440 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 07:21:09.442 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 07:21:09.451 +07:00 [ERR] An exception occurred in the database while saving changes for context type 'APIDemo.DbContexts.CityInfoContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-05-12 07:21:09.632 +07:00 [INF] Executed action APIDemo.Controllers.PointOfInterestController.CreatePointOfInterest (APIDemo) in 2981.7505ms
2023-05-12 07:21:09.639 +07:00 [INF] Executed endpoint 'APIDemo.Controllers.PointOfInterestController.CreatePointOfInterest (APIDemo)'
2023-05-12 07:21:09.645 +07:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at APIDemo.Services.CityInfoRepository.SaveChangeAsync() in C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\Services\CityInfoRepository.cs:line 71
   at APIDemo.Controllers.PointOfInterestController.CreatePointOfInterest(Int32 cityId, PointOfInterestCreationDTO pointOfInterest) in C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\Controllers\PointOfInterestController.cs:line 103
   at lambda_method5(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-05-12 07:21:09.702 +07:00 [DBG] Connection id "0HMQIFR2ES173" completed keep alive response.
2023-05-12 07:21:09.708 +07:00 [DBG] 'CityInfoContext' disposed.
2023-05-12 07:21:09.715 +07:00 [INF] Request finished HTTP/1.1 POST https://localhost:7269/api/cities/1/pointsofinterest application/json 117 - 500 - text/plain;+charset=utf-8 3145.7314ms
2023-05-12 07:21:12.652 +07:00 [DBG] Authentication of the HTTPS connection timed out.
2023-05-12 07:21:12.652 +07:00 [DBG] Authentication of the HTTPS connection timed out.
2023-05-12 07:21:12.655 +07:00 [DBG] Connection id "0HMQIFR2ES16V" stopped.
2023-05-12 07:21:12.658 +07:00 [DBG] Connection id "0HMQIFR2ES170" stopped.
2023-05-12 07:21:12.662 +07:00 [DBG] Connection id "0HMQIFR2ES16V" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-12 07:21:12.667 +07:00 [DBG] Connection id "0HMQIFR2ES170" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-12 07:22:57.710 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-05-12 07:22:57.828 +07:00 [DBG] Hosting starting
2023-05-12 07:22:57.960 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 75D11A6361D7470A96C9C9E8EC2F301CE14CF8DD)
2023-05-12 07:22:58.009 +07:00 [INF] Now listening on: https://localhost:7269
2023-05-12 07:22:58.010 +07:00 [INF] Now listening on: http://localhost:5078
2023-05-12 07:22:58.012 +07:00 [DBG] Loaded hosting startup assembly APIDemo
2023-05-12 07:22:58.013 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-05-12 07:22:58.014 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-05-12 07:22:58.016 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-12 07:22:58.017 +07:00 [INF] Hosting environment: Development
2023-05-12 07:22:58.019 +07:00 [INF] Content root path: C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\
2023-05-12 07:22:58.021 +07:00 [DBG] Hosting started
2023-05-12 07:22:58.292 +07:00 [DBG] Connection id "0HMQIFS4TRTDG" received FIN.
2023-05-12 07:22:58.302 +07:00 [DBG] Connection id "0HMQIFS4TRTDG" accepted.
2023-05-12 07:22:58.304 +07:00 [DBG] Connection id "0HMQIFS4TRTDG" started.
2023-05-12 07:22:58.306 +07:00 [DBG] Connection id "0HMQIFS4TRTDH" accepted.
2023-05-12 07:22:58.307 +07:00 [DBG] Connection id "0HMQIFS4TRTDH" started.
2023-05-12 07:22:58.310 +07:00 [DBG] Connection id "0HMQIFS4TRTDI" accepted.
2023-05-12 07:22:58.314 +07:00 [DBG] Connection id "0HMQIFS4TRTDI" started.
2023-05-12 07:22:58.315 +07:00 [DBG] Connection id "0HMQIFS4TRTDI" received FIN.
2023-05-12 07:22:58.325 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-12 07:22:58.325 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-12 07:22:58.363 +07:00 [DBG] Connection id "0HMQIFS4TRTDI" stopped.
2023-05-12 07:22:58.363 +07:00 [DBG] Connection id "0HMQIFS4TRTDG" stopped.
2023-05-12 07:22:58.365 +07:00 [DBG] Connection id "0HMQIFS4TRTDI" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-12 07:22:58.366 +07:00 [DBG] Connection id "0HMQIFS4TRTDG" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-12 07:22:58.382 +07:00 [DBG] Connection 0HMQIFS4TRTDH established using the following protocol: "Tls12"
2023-05-12 07:22:58.430 +07:00 [INF] Request starting HTTP/1.1 POST https://localhost:7269/api/cities/1/pointsofinterest application/json 117
2023-05-12 07:22:58.445 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-05-12 07:22:58.483 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2023-05-12 07:22:58.488 +07:00 [DBG] Endpoint 'APIDemo.Controllers.PointOfInterestController.CreatePointOfInterest (APIDemo)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2023-05-12 07:22:58.491 +07:00 [DBG] Request matched endpoint 'APIDemo.Controllers.PointOfInterestController.CreatePointOfInterest (APIDemo)'
2023-05-12 07:22:58.516 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-12 07:22:58.524 +07:00 [INF] Executing endpoint 'APIDemo.Controllers.PointOfInterestController.CreatePointOfInterest (APIDemo)'
2023-05-12 07:22:58.606 +07:00 [DBG] Connection id "0HMQIFS4TRTDJ" accepted.
2023-05-12 07:22:58.609 +07:00 [DBG] Connection id "0HMQIFS4TRTDJ" started.
2023-05-12 07:22:58.611 +07:00 [INF] Route matched with {action = "CreatePointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[APIDemo.Models.PointOfInterestDTO]] CreatePointOfInterest(Int32, APIDemo.Models.PointOfInterestCreationDTO) on controller APIDemo.Controllers.PointOfInterestController (APIDemo).
2023-05-12 07:22:58.617 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-12 07:22:58.619 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-12 07:22:58.619 +07:00 [DBG] Connection 0HMQIFS4TRTDJ established using the following protocol: "Tls12"
2023-05-12 07:22:58.621 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-12 07:22:58.627 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-12 07:22:58.629 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-12 07:22:58.631 +07:00 [DBG] Executing controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 07:22:58.647 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/index.html - -
2023-05-12 07:22:58.673 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-05-12 07:22:58.674 +07:00 [DBG] Request did not match any endpoints
2023-05-12 07:22:58.797 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-05-12 07:22:58.822 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-05-12 07:22:58.964 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - -
2023-05-12 07:22:58.964 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_vs/browserLink - -
2023-05-12 07:22:58.970 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-05-12 07:22:58.981 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 13.6854ms
2023-05-12 07:22:58.981 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/index.html - - - 200 - text/html;charset=utf-8 333.3890ms
2023-05-12 07:22:58.996 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 32.5618ms
2023-05-12 07:22:59.090 +07:00 [DBG] Executed controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 07:22:59.095 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-05-12 07:22:59.098 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-05-12 07:22:59.101 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 07:22:59.102 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - -
2023-05-12 07:22:59.103 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 07:22:59.104 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-05-12 07:22:59.106 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-05-12 07:22:59.108 +07:00 [DBG] Request did not match any endpoints
2023-05-12 07:22:59.111 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-05-12 07:22:59.115 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO' ...
2023-05-12 07:22:59.118 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO' using the name '' in request data ...
2023-05-12 07:22:59.123 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-05-12 07:22:59.125 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-05-12 07:22:59.142 +07:00 [DBG] Connection id "0HMQIFS4TRTDH", Request id "0HMQIFS4TRTDH:00000002": started reading request body.
2023-05-12 07:22:59.144 +07:00 [DBG] Connection id "0HMQIFS4TRTDH", Request id "0HMQIFS4TRTDH:00000002": done reading request body.
2023-05-12 07:22:59.309 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 207.2107ms
2023-05-12 07:22:59.313 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO'.
2023-05-12 07:22:59.314 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO'.
2023-05-12 07:22:59.315 +07:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO' ...
2023-05-12 07:22:59.325 +07:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO'.
2023-05-12 07:23:00.407 +07:00 [INF] Entity Framework Core 6.0.16 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.16' with options: None
2023-05-12 07:23:00.510 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(item => item.Id == __cityId_0)'
2023-05-12 07:23:00.850 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        APIDemo.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-12 07:23:00.924 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 07:23:01.010 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (82ms).
2023-05-12 07:23:01.032 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 07:23:01.052 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 07:23:01.072 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 07:23:01.107 +07:00 [INF] Executed DbCommand (41ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 07:23:01.131 +07:00 [DBG] A data reader was disposed.
2023-05-12 07:23:01.144 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 07:23:01.155 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 07:23:01.174 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(item => item.Id == __cityId_0)
    .FirstOrDefault()'
2023-05-12 07:23:01.224 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(50), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        APIDemo.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-12 07:23:01.243 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 07:23:01.247 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-05-12 07:23:01.252 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 07:23:01.255 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 07:23:01.259 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-05-12 07:23:01.262 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-05-12 07:23:01.286 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 07:23:01.315 +07:00 [DBG] A data reader was disposed.
2023-05-12 07:23:01.318 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 07:23:01.321 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 07:23:01.360 +07:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'Id.PointOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 07:23:01.385 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 07:23:01.398 +07:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2023-05-12 07:23:01.405 +07:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2023-05-12 07:23:01.424 +07:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2023-05-12 07:23:01.451 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 07:23:01.454 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 07:23:01.459 +07:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-05-12 07:23:01.466 +07:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-05-12 07:23:01.527 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 07:23:01.529 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-12 07:23:01.531 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 62), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointOfInterests" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "PointOfInterests"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2023-05-12 07:23:01.550 +07:00 [ERR] Failed executing DbCommand (17ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 62), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointOfInterests" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "PointOfInterests"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2023-05-12 07:23:01.583 +07:00 [DBG] Disposing transaction.
2023-05-12 07:23:01.600 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 07:23:01.606 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 07:23:01.626 +07:00 [ERR] An exception occurred in the database while saving changes for context type 'APIDemo.DbContexts.CityInfoContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-05-12 07:23:01.868 +07:00 [INF] Executed action APIDemo.Controllers.PointOfInterestController.CreatePointOfInterest (APIDemo) in 3232.3172ms
2023-05-12 07:23:01.873 +07:00 [INF] Executed endpoint 'APIDemo.Controllers.PointOfInterestController.CreatePointOfInterest (APIDemo)'
2023-05-12 07:23:01.877 +07:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at APIDemo.Services.CityInfoRepository.SaveChangeAsync() in C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\Services\CityInfoRepository.cs:line 71
   at APIDemo.Controllers.PointOfInterestController.CreatePointOfInterest(Int32 cityId, PointOfInterestCreationDTO pointOfInterest) in C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\Controllers\PointOfInterestController.cs:line 103
   at lambda_method5(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-05-12 07:23:01.928 +07:00 [DBG] Connection id "0HMQIFS4TRTDH" completed keep alive response.
2023-05-12 07:23:01.935 +07:00 [DBG] 'CityInfoContext' disposed.
2023-05-12 07:23:01.942 +07:00 [INF] Request finished HTTP/1.1 POST https://localhost:7269/api/cities/1/pointsofinterest application/json 117 - 500 - text/plain;+charset=utf-8 3516.9283ms
2023-05-12 07:23:03.291 +07:00 [INF] Request starting HTTP/1.1 POST https://localhost:7269/api/cities/1/pointsofinterest application/json 117
2023-05-12 07:23:03.293 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2023-05-12 07:23:03.295 +07:00 [DBG] Endpoint 'APIDemo.Controllers.PointOfInterestController.CreatePointOfInterest (APIDemo)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2023-05-12 07:23:03.297 +07:00 [DBG] Request matched endpoint 'APIDemo.Controllers.PointOfInterestController.CreatePointOfInterest (APIDemo)'
2023-05-12 07:23:03.298 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-12 07:23:03.300 +07:00 [INF] Executing endpoint 'APIDemo.Controllers.PointOfInterestController.CreatePointOfInterest (APIDemo)'
2023-05-12 07:23:03.301 +07:00 [INF] Route matched with {action = "CreatePointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[APIDemo.Models.PointOfInterestDTO]] CreatePointOfInterest(Int32, APIDemo.Models.PointOfInterestCreationDTO) on controller APIDemo.Controllers.PointOfInterestController (APIDemo).
2023-05-12 07:23:03.305 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-12 07:23:03.307 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-12 07:23:03.308 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-12 07:23:03.311 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-12 07:23:03.313 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-12 07:23:03.315 +07:00 [DBG] Executing controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 07:23:03.317 +07:00 [DBG] Executed controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 07:23:03.319 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-05-12 07:23:03.320 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-05-12 07:23:03.323 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 07:23:03.324 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 07:23:03.326 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-05-12 07:23:03.328 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-05-12 07:23:03.329 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO' ...
2023-05-12 07:23:03.331 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO' using the name '' in request data ...
2023-05-12 07:23:03.333 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-05-12 07:23:03.335 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-05-12 07:23:03.337 +07:00 [DBG] Connection id "0HMQIFS4TRTDH", Request id "0HMQIFS4TRTDH:00000003": started reading request body.
2023-05-12 07:23:03.339 +07:00 [DBG] Connection id "0HMQIFS4TRTDH", Request id "0HMQIFS4TRTDH:00000003": done reading request body.
2023-05-12 07:23:03.340 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO'.
2023-05-12 07:23:03.342 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO'.
2023-05-12 07:23:03.344 +07:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO' ...
2023-05-12 07:23:03.346 +07:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO'.
2023-05-12 07:23:03.350 +07:00 [INF] Entity Framework Core 6.0.16 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.16' with options: None
2023-05-12 07:23:03.356 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 07:23:03.357 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-12 07:23:03.359 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 07:23:03.361 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 07:23:03.363 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 07:23:03.365 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 07:23:03.369 +07:00 [DBG] A data reader was disposed.
2023-05-12 07:23:03.370 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 07:23:03.372 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 07:23:03.374 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 07:23:03.375 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-12 07:23:03.377 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 07:23:03.379 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 07:23:03.380 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-05-12 07:23:03.383 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-05-12 07:23:03.387 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 07:23:03.390 +07:00 [DBG] A data reader was disposed.
2023-05-12 07:23:03.393 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 07:23:03.398 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 07:23:03.402 +07:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'Id.PointOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 07:23:03.405 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 07:23:03.409 +07:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2023-05-12 07:23:03.413 +07:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2023-05-12 07:23:03.417 +07:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2023-05-12 07:23:03.421 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 07:23:03.423 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 07:23:03.427 +07:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-05-12 07:23:03.431 +07:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-05-12 07:23:03.435 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 07:23:03.438 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-05-12 07:23:03.443 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 62), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointOfInterests" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "PointOfInterests"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2023-05-12 07:23:03.452 +07:00 [ERR] Failed executing DbCommand (16ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 62), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointOfInterests" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "PointOfInterests"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2023-05-12 07:23:03.460 +07:00 [DBG] Disposing transaction.
2023-05-12 07:23:03.463 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 07:23:03.468 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 07:23:03.474 +07:00 [ERR] An exception occurred in the database while saving changes for context type 'APIDemo.DbContexts.CityInfoContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-05-12 07:23:03.583 +07:00 [INF] Executed action APIDemo.Controllers.PointOfInterestController.CreatePointOfInterest (APIDemo) in 267.4283ms
2023-05-12 07:23:03.589 +07:00 [INF] Executed endpoint 'APIDemo.Controllers.PointOfInterestController.CreatePointOfInterest (APIDemo)'
2023-05-12 07:23:03.592 +07:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at APIDemo.Services.CityInfoRepository.SaveChangeAsync() in C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\Services\CityInfoRepository.cs:line 71
   at APIDemo.Controllers.PointOfInterestController.CreatePointOfInterest(Int32 cityId, PointOfInterestCreationDTO pointOfInterest) in C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\Controllers\PointOfInterestController.cs:line 103
   at lambda_method5(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-05-12 07:23:03.631 +07:00 [DBG] Connection id "0HMQIFS4TRTDH" completed keep alive response.
2023-05-12 07:23:03.633 +07:00 [DBG] 'CityInfoContext' disposed.
2023-05-12 07:23:03.635 +07:00 [INF] Request finished HTTP/1.1 POST https://localhost:7269/api/cities/1/pointsofinterest application/json 117 - 500 - text/plain;+charset=utf-8 344.0926ms
2023-05-12 07:24:45.534 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-05-12 07:24:45.660 +07:00 [DBG] Hosting starting
2023-05-12 07:24:45.798 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 75D11A6361D7470A96C9C9E8EC2F301CE14CF8DD)
2023-05-12 07:24:45.839 +07:00 [INF] Now listening on: https://localhost:7269
2023-05-12 07:24:45.840 +07:00 [INF] Now listening on: http://localhost:5078
2023-05-12 07:24:45.842 +07:00 [DBG] Loaded hosting startup assembly APIDemo
2023-05-12 07:24:45.844 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-05-12 07:24:45.846 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-05-12 07:24:45.849 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-12 07:24:45.852 +07:00 [INF] Hosting environment: Development
2023-05-12 07:24:45.855 +07:00 [INF] Content root path: C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\
2023-05-12 07:24:45.858 +07:00 [DBG] Hosting started
2023-05-12 07:24:45.961 +07:00 [DBG] Connection id "0HMQIFT50KP2N" accepted.
2023-05-12 07:24:45.966 +07:00 [DBG] Connection id "0HMQIFT50KP2O" received FIN.
2023-05-12 07:24:45.967 +07:00 [DBG] Connection id "0HMQIFT50KP2N" started.
2023-05-12 07:24:45.969 +07:00 [DBG] Connection id "0HMQIFT50KP2N" received FIN.
2023-05-12 07:24:45.968 +07:00 [DBG] Connection id "0HMQIFT50KP2O" accepted.
2023-05-12 07:24:45.972 +07:00 [DBG] Connection id "0HMQIFT50KP2O" started.
2023-05-12 07:24:45.987 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-12 07:24:45.987 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-12 07:24:46.028 +07:00 [DBG] Connection id "0HMQIFT50KP2N" stopped.
2023-05-12 07:24:46.028 +07:00 [DBG] Connection id "0HMQIFT50KP2O" stopped.
2023-05-12 07:24:46.031 +07:00 [DBG] Connection id "0HMQIFT50KP2N" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-12 07:24:46.031 +07:00 [DBG] Connection id "0HMQIFT50KP2O" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-12 07:24:46.213 +07:00 [DBG] Connection id "0HMQIFT50KP2P" accepted.
2023-05-12 07:24:46.229 +07:00 [DBG] Connection id "0HMQIFT50KP2P" started.
2023-05-12 07:24:46.286 +07:00 [DBG] Connection 0HMQIFT50KP2P established using the following protocol: "Tls12"
2023-05-12 07:24:46.337 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/index.html - -
2023-05-12 07:24:46.371 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-05-12 07:24:46.394 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-05-12 07:24:46.395 +07:00 [DBG] Request did not match any endpoints
2023-05-12 07:24:46.502 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-05-12 07:24:46.656 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_vs/browserLink - -
2023-05-12 07:24:46.656 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - -
2023-05-12 07:24:46.662 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-05-12 07:24:46.669 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 12.5541ms
2023-05-12 07:24:46.670 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/index.html - - - 200 - text/html;charset=utf-8 336.9046ms
2023-05-12 07:24:46.681 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 24.6746ms
2023-05-12 07:24:46.766 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - -
2023-05-12 07:24:46.768 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-05-12 07:24:46.769 +07:00 [DBG] Request did not match any endpoints
2023-05-12 07:24:46.931 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 164.6772ms
2023-05-12 07:24:49.875 +07:00 [DBG] Connection id "0HMQIFT50KP2Q" accepted.
2023-05-12 07:24:49.875 +07:00 [DBG] Connection id "0HMQIFT50KP2Q" received FIN.
2023-05-12 07:24:49.879 +07:00 [DBG] Connection id "0HMQIFT50KP2Q" started.
2023-05-12 07:24:49.879 +07:00 [DBG] Connection id "0HMQIFT50KP2R" accepted.
2023-05-12 07:24:49.886 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-12 07:24:49.888 +07:00 [DBG] Connection id "0HMQIFT50KP2R" started.
2023-05-12 07:24:49.893 +07:00 [DBG] Connection id "0HMQIFT50KP2Q" stopped.
2023-05-12 07:24:49.899 +07:00 [DBG] Connection id "0HMQIFT50KP2Q" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-12 07:24:49.901 +07:00 [DBG] Connection 0HMQIFT50KP2R established using the following protocol: "Tls12"
2023-05-12 07:24:49.913 +07:00 [INF] Request starting HTTP/1.1 POST https://localhost:7269/api/cities/1/pointsofinterest application/json 117
2023-05-12 07:24:49.923 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2023-05-12 07:24:49.930 +07:00 [DBG] Endpoint 'APIDemo.Controllers.PointOfInterestController.CreatePointOfInterest (APIDemo)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2023-05-12 07:24:49.934 +07:00 [DBG] Request matched endpoint 'APIDemo.Controllers.PointOfInterestController.CreatePointOfInterest (APIDemo)'
2023-05-12 07:24:49.938 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-12 07:24:49.942 +07:00 [INF] Executing endpoint 'APIDemo.Controllers.PointOfInterestController.CreatePointOfInterest (APIDemo)'
2023-05-12 07:24:49.976 +07:00 [INF] Route matched with {action = "CreatePointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[APIDemo.Models.PointOfInterestDTO]] CreatePointOfInterest(Int32, APIDemo.Models.PointOfInterestCreationDTO) on controller APIDemo.Controllers.PointOfInterestController (APIDemo).
2023-05-12 07:24:49.981 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-12 07:24:49.987 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-12 07:24:49.991 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-12 07:24:49.997 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-12 07:24:50.001 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-12 07:24:50.006 +07:00 [DBG] Executing controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 07:24:50.183 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-05-12 07:24:50.410 +07:00 [DBG] Executed controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 07:24:50.416 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-05-12 07:24:50.420 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-05-12 07:24:50.423 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 07:24:50.424 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 07:24:50.426 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-05-12 07:24:50.429 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-05-12 07:24:50.433 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO' ...
2023-05-12 07:24:50.436 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO' using the name '' in request data ...
2023-05-12 07:24:50.440 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-05-12 07:24:50.442 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-05-12 07:24:50.454 +07:00 [DBG] Connection id "0HMQIFT50KP2R", Request id "0HMQIFT50KP2R:00000002": started reading request body.
2023-05-12 07:24:50.456 +07:00 [DBG] Connection id "0HMQIFT50KP2R", Request id "0HMQIFT50KP2R:00000002": done reading request body.
2023-05-12 07:24:50.616 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO'.
2023-05-12 07:24:50.618 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO'.
2023-05-12 07:24:50.620 +07:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO' ...
2023-05-12 07:24:50.628 +07:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO'.
2023-05-12 07:24:51.754 +07:00 [INF] Entity Framework Core 6.0.16 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.16' with options: None
2023-05-12 07:24:51.836 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(item => item.Id == __cityId_0)'
2023-05-12 07:24:52.180 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        APIDemo.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-12 07:24:52.254 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 07:24:52.331 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (72ms).
2023-05-12 07:24:52.352 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 07:24:52.375 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 07:24:52.399 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 07:24:52.440 +07:00 [INF] Executed DbCommand (47ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 07:24:52.462 +07:00 [DBG] A data reader was disposed.
2023-05-12 07:24:52.472 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 07:24:52.480 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 07:26:24.509 +07:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2023-05-12 07:26:24.518 +07:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2023-05-12 07:26:31.586 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(item => item.Id == __cityId_0)
    .FirstOrDefault()'
2023-05-12 07:26:31.641 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(50), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        APIDemo.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-12 07:26:31.658 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 07:26:31.660 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-05-12 07:26:31.661 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 07:26:31.663 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 07:26:31.665 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-05-12 07:26:31.669 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-05-12 07:26:31.693 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 07:26:31.723 +07:00 [DBG] A data reader was disposed.
2023-05-12 07:26:31.725 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 07:26:31.727 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 07:26:31.767 +07:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'Id.PointOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 07:26:31.793 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 07:26:32.245 +07:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2023-05-12 07:26:32.250 +07:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2023-05-12 07:26:32.270 +07:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2023-05-12 07:26:32.299 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 07:26:32.301 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 07:26:32.306 +07:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-05-12 07:26:32.314 +07:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-05-12 07:26:32.381 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 07:26:32.385 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2023-05-12 07:26:32.390 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 62), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointOfInterests" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "PointOfInterests"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2023-05-12 07:26:32.405 +07:00 [ERR] Failed executing DbCommand (21ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 62), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointOfInterests" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "PointOfInterests"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2023-05-12 07:26:32.424 +07:00 [DBG] Disposing transaction.
2023-05-12 07:26:32.432 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 07:26:32.437 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 07:26:32.448 +07:00 [ERR] An exception occurred in the database while saving changes for context type 'APIDemo.DbContexts.CityInfoContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-05-12 07:26:32.569 +07:00 [INF] Executed action APIDemo.Controllers.PointOfInterestController.CreatePointOfInterest (APIDemo) in 102558.2856ms
2023-05-12 07:26:32.575 +07:00 [INF] Executed endpoint 'APIDemo.Controllers.PointOfInterestController.CreatePointOfInterest (APIDemo)'
2023-05-12 07:26:32.580 +07:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at APIDemo.Services.CityInfoRepository.SaveChangeAsync() in C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\Services\CityInfoRepository.cs:line 71
   at APIDemo.Controllers.PointOfInterestController.CreatePointOfInterest(Int32 cityId, PointOfInterestCreationDTO pointOfInterest) in C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\Controllers\PointOfInterestController.cs:line 104
   at lambda_method5(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-05-12 07:26:32.687 +07:00 [DBG] Connection id "0HMQIFT50KP2R" completed keep alive response.
2023-05-12 07:26:32.702 +07:00 [DBG] 'CityInfoContext' disposed.
2023-05-12 07:26:32.715 +07:00 [INF] Request finished HTTP/1.1 POST https://localhost:7269/api/cities/1/pointsofinterest application/json 117 - 500 - text/plain;+charset=utf-8 102802.2654ms
2023-05-12 07:26:46.230 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-05-12 07:26:46.336 +07:00 [DBG] Hosting starting
2023-05-12 07:26:46.468 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 75D11A6361D7470A96C9C9E8EC2F301CE14CF8DD)
2023-05-12 07:26:46.511 +07:00 [INF] Now listening on: https://localhost:7269
2023-05-12 07:26:46.513 +07:00 [INF] Now listening on: http://localhost:5078
2023-05-12 07:26:46.514 +07:00 [DBG] Loaded hosting startup assembly APIDemo
2023-05-12 07:26:46.515 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-05-12 07:26:46.516 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-05-12 07:26:46.518 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-12 07:26:46.519 +07:00 [INF] Hosting environment: Development
2023-05-12 07:26:46.520 +07:00 [INF] Content root path: C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\
2023-05-12 07:26:46.521 +07:00 [DBG] Hosting started
2023-05-12 07:26:46.551 +07:00 [DBG] Connection id "0HMQIFU8UN3B6" received FIN.
2023-05-12 07:26:46.551 +07:00 [DBG] Connection id "0HMQIFU8UN3B7" received FIN.
2023-05-12 07:26:46.565 +07:00 [DBG] Connection id "0HMQIFU8UN3B6" accepted.
2023-05-12 07:26:46.565 +07:00 [DBG] Connection id "0HMQIFU8UN3B7" accepted.
2023-05-12 07:26:46.570 +07:00 [DBG] Connection id "0HMQIFU8UN3B6" started.
2023-05-12 07:26:46.572 +07:00 [DBG] Connection id "0HMQIFU8UN3B7" started.
2023-05-12 07:26:46.593 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-12 07:26:46.593 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-12 07:26:46.631 +07:00 [DBG] Connection id "0HMQIFU8UN3B7" stopped.
2023-05-12 07:26:46.631 +07:00 [DBG] Connection id "0HMQIFU8UN3B6" stopped.
2023-05-12 07:26:46.637 +07:00 [DBG] Connection id "0HMQIFU8UN3B6" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-12 07:26:46.637 +07:00 [DBG] Connection id "0HMQIFU8UN3B7" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-12 07:26:46.858 +07:00 [DBG] Connection id "0HMQIFU8UN3B8" accepted.
2023-05-12 07:26:46.861 +07:00 [DBG] Connection id "0HMQIFU8UN3B8" started.
2023-05-12 07:26:46.924 +07:00 [DBG] Connection 0HMQIFU8UN3B8 established using the following protocol: "Tls12"
2023-05-12 07:26:46.974 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/index.html - -
2023-05-12 07:26:47.006 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-05-12 07:26:47.031 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-05-12 07:26:47.035 +07:00 [DBG] Request did not match any endpoints
2023-05-12 07:26:47.143 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-05-12 07:26:47.297 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - -
2023-05-12 07:26:47.297 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_vs/browserLink - -
2023-05-12 07:26:47.303 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-05-12 07:26:47.311 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 14.0872ms
2023-05-12 07:26:47.311 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/index.html - - - 200 - text/html;charset=utf-8 341.9645ms
2023-05-12 07:26:47.325 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 28.7429ms
2023-05-12 07:26:47.416 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - -
2023-05-12 07:26:47.417 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-05-12 07:26:47.418 +07:00 [DBG] Request did not match any endpoints
2023-05-12 07:26:47.584 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 168.1856ms
2023-05-12 07:27:00.090 +07:00 [DBG] Connection id "0HMQIFU8UN3B9" accepted.
2023-05-12 07:27:00.090 +07:00 [DBG] Connection id "0HMQIFU8UN3B9" received FIN.
2023-05-12 07:27:00.091 +07:00 [DBG] Connection id "0HMQIFU8UN3B9" started.
2023-05-12 07:27:00.092 +07:00 [DBG] Connection id "0HMQIFU8UN3BA" accepted.
2023-05-12 07:27:00.094 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-12 07:27:00.094 +07:00 [DBG] Connection id "0HMQIFU8UN3BA" started.
2023-05-12 07:27:00.098 +07:00 [DBG] Connection id "0HMQIFU8UN3B9" stopped.
2023-05-12 07:27:00.100 +07:00 [DBG] Connection id "0HMQIFU8UN3B9" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-12 07:27:00.104 +07:00 [DBG] Connection 0HMQIFU8UN3BA established using the following protocol: "Tls12"
2023-05-12 07:27:00.115 +07:00 [INF] Request starting HTTP/1.1 POST https://localhost:7269/api/cities/1/pointsofinterest application/json 117
2023-05-12 07:27:00.123 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2023-05-12 07:27:00.129 +07:00 [DBG] Endpoint 'APIDemo.Controllers.PointOfInterestController.CreatePointOfInterest (APIDemo)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2023-05-12 07:27:00.133 +07:00 [DBG] Request matched endpoint 'APIDemo.Controllers.PointOfInterestController.CreatePointOfInterest (APIDemo)'
2023-05-12 07:27:00.136 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-12 07:27:00.140 +07:00 [INF] Executing endpoint 'APIDemo.Controllers.PointOfInterestController.CreatePointOfInterest (APIDemo)'
2023-05-12 07:27:00.173 +07:00 [INF] Route matched with {action = "CreatePointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[APIDemo.Models.PointOfInterestDTO]] CreatePointOfInterest(Int32, APIDemo.Models.PointOfInterestCreationDTO) on controller APIDemo.Controllers.PointOfInterestController (APIDemo).
2023-05-12 07:27:00.180 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-12 07:27:00.186 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-12 07:27:00.191 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-12 07:27:00.195 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-12 07:27:00.198 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-12 07:27:00.203 +07:00 [DBG] Executing controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 07:27:00.382 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-05-12 07:27:00.613 +07:00 [DBG] Executed controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 07:27:00.620 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-05-12 07:27:00.624 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-05-12 07:27:00.627 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 07:27:00.629 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 07:27:00.631 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-05-12 07:27:00.635 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-05-12 07:27:00.639 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO' ...
2023-05-12 07:27:00.642 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO' using the name '' in request data ...
2023-05-12 07:27:00.646 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-05-12 07:27:00.648 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-05-12 07:27:00.661 +07:00 [DBG] Connection id "0HMQIFU8UN3BA", Request id "0HMQIFU8UN3BA:00000002": started reading request body.
2023-05-12 07:27:00.663 +07:00 [DBG] Connection id "0HMQIFU8UN3BA", Request id "0HMQIFU8UN3BA:00000002": done reading request body.
2023-05-12 07:27:00.815 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO'.
2023-05-12 07:27:00.819 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO'.
2023-05-12 07:27:00.822 +07:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO' ...
2023-05-12 07:27:00.832 +07:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO'.
2023-05-12 07:27:01.901 +07:00 [INF] Entity Framework Core 6.0.16 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.16' with options: None
2023-05-12 07:27:01.969 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(item => item.Id == __cityId_0)'
2023-05-12 07:27:02.336 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        APIDemo.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-12 07:27:02.412 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 07:27:02.501 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (86ms).
2023-05-12 07:27:02.520 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 07:27:02.541 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 07:27:02.560 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 07:27:02.601 +07:00 [INF] Executed DbCommand (46ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 07:27:02.622 +07:00 [DBG] A data reader was disposed.
2023-05-12 07:27:02.633 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 07:27:02.640 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 07:27:37.046 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(item => item.Id == __cityId_0)
    .FirstOrDefault()'
2023-05-12 07:27:37.095 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(50), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        APIDemo.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-12 07:27:37.111 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 07:27:37.113 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-12 07:27:37.114 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 07:27:37.116 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 07:27:37.119 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-05-12 07:27:37.122 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-05-12 07:27:37.151 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 07:27:37.195 +07:00 [DBG] A data reader was disposed.
2023-05-12 07:27:37.197 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 07:27:37.199 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 07:27:37.236 +07:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'Id.PointOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 07:27:37.260 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 07:27:52.595 +07:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2023-05-12 07:27:52.602 +07:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2023-05-12 07:27:52.620 +07:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2023-05-12 07:27:52.648 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 07:27:52.650 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 07:27:52.656 +07:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-05-12 07:27:52.665 +07:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-05-12 07:27:52.729 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 07:27:52.731 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-12 07:27:52.733 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 62), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointOfInterests" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "PointOfInterests"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2023-05-12 07:27:52.744 +07:00 [ERR] Failed executing DbCommand (12ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 62), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointOfInterests" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "PointOfInterests"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2023-05-12 07:27:52.759 +07:00 [DBG] Disposing transaction.
2023-05-12 07:27:52.767 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 07:27:52.769 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 07:27:52.780 +07:00 [ERR] An exception occurred in the database while saving changes for context type 'APIDemo.DbContexts.CityInfoContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-05-12 07:27:52.915 +07:00 [INF] Executed action APIDemo.Controllers.PointOfInterestController.CreatePointOfInterest (APIDemo) in 52707.2317ms
2023-05-12 07:27:52.921 +07:00 [INF] Executed endpoint 'APIDemo.Controllers.PointOfInterestController.CreatePointOfInterest (APIDemo)'
2023-05-12 07:27:52.924 +07:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at APIDemo.Services.CityInfoRepository.SaveChangeAsync() in C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\Services\CityInfoRepository.cs:line 71
   at APIDemo.Controllers.PointOfInterestController.CreatePointOfInterest(Int32 cityId, PointOfInterestCreationDTO pointOfInterest) in C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\Controllers\PointOfInterestController.cs:line 104
   at lambda_method5(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-05-12 07:27:52.978 +07:00 [DBG] Connection id "0HMQIFU8UN3BA" completed keep alive response.
2023-05-12 07:27:52.985 +07:00 [DBG] 'CityInfoContext' disposed.
2023-05-12 07:27:52.991 +07:00 [INF] Request finished HTTP/1.1 POST https://localhost:7269/api/cities/1/pointsofinterest application/json 117 - 500 - text/plain;+charset=utf-8 52876.4347ms
2023-05-12 07:30:19.502 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-05-12 07:30:19.631 +07:00 [DBG] Hosting starting
2023-05-12 07:30:19.768 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 75D11A6361D7470A96C9C9E8EC2F301CE14CF8DD)
2023-05-12 07:30:19.825 +07:00 [INF] Now listening on: https://localhost:7269
2023-05-12 07:30:19.827 +07:00 [INF] Now listening on: http://localhost:5078
2023-05-12 07:30:19.828 +07:00 [DBG] Loaded hosting startup assembly APIDemo
2023-05-12 07:30:19.829 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-05-12 07:30:19.831 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-05-12 07:30:19.832 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-12 07:30:19.833 +07:00 [INF] Hosting environment: Development
2023-05-12 07:30:19.834 +07:00 [INF] Content root path: C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\
2023-05-12 07:30:19.834 +07:00 [DBG] Hosting started
2023-05-12 07:30:19.959 +07:00 [DBG] Connection id "0HMQIG08HU106" received FIN.
2023-05-12 07:30:19.971 +07:00 [DBG] Connection id "0HMQIG08HU106" accepted.
2023-05-12 07:30:19.973 +07:00 [DBG] Connection id "0HMQIG08HU106" started.
2023-05-12 07:30:19.976 +07:00 [DBG] Connection id "0HMQIG08HU107" accepted.
2023-05-12 07:30:19.977 +07:00 [DBG] Connection id "0HMQIG08HU107" started.
2023-05-12 07:30:19.997 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-12 07:30:20.025 +07:00 [DBG] Connection id "0HMQIG08HU108" received FIN.
2023-05-12 07:30:20.040 +07:00 [DBG] Connection id "0HMQIG08HU108" accepted.
2023-05-12 07:30:20.041 +07:00 [DBG] Connection id "0HMQIG08HU108" started.
2023-05-12 07:30:20.043 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-12 07:30:20.048 +07:00 [DBG] Connection id "0HMQIG08HU106" stopped.
2023-05-12 07:30:20.048 +07:00 [DBG] Connection id "0HMQIG08HU108" stopped.
2023-05-12 07:30:20.050 +07:00 [DBG] Connection id "0HMQIG08HU106" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-12 07:30:20.051 +07:00 [DBG] Connection id "0HMQIG08HU108" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-12 07:30:20.067 +07:00 [DBG] Connection 0HMQIG08HU107 established using the following protocol: "Tls12"
2023-05-12 07:30:20.112 +07:00 [INF] Request starting HTTP/1.1 POST https://localhost:7269/api/cities/1/pointsofinterest application/json 117
2023-05-12 07:30:20.127 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-05-12 07:30:20.161 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2023-05-12 07:30:20.166 +07:00 [DBG] Endpoint 'APIDemo.Controllers.PointOfInterestController.CreatePointOfInterest (APIDemo)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2023-05-12 07:30:20.168 +07:00 [DBG] Request matched endpoint 'APIDemo.Controllers.PointOfInterestController.CreatePointOfInterest (APIDemo)'
2023-05-12 07:30:20.211 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-12 07:30:20.218 +07:00 [INF] Executing endpoint 'APIDemo.Controllers.PointOfInterestController.CreatePointOfInterest (APIDemo)'
2023-05-12 07:30:20.274 +07:00 [DBG] Connection id "0HMQIG08HU109" accepted.
2023-05-12 07:30:20.282 +07:00 [DBG] Connection id "0HMQIG08HU109" started.
2023-05-12 07:30:20.293 +07:00 [DBG] Connection 0HMQIG08HU109 established using the following protocol: "Tls12"
2023-05-12 07:30:20.305 +07:00 [INF] Route matched with {action = "CreatePointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[APIDemo.Models.PointOfInterestDTO]] CreatePointOfInterest(Int32, APIDemo.Models.PointOfInterestCreationDTO) on controller APIDemo.Controllers.PointOfInterestController (APIDemo).
2023-05-12 07:30:20.309 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-12 07:30:20.311 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-12 07:30:20.313 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-12 07:30:20.316 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-12 07:30:20.317 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/index.html - -
2023-05-12 07:30:20.318 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-12 07:30:20.321 +07:00 [DBG] Executing controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 07:30:20.340 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-05-12 07:30:20.342 +07:00 [DBG] Request did not match any endpoints
2023-05-12 07:30:20.479 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-05-12 07:30:20.544 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-05-12 07:30:20.651 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_vs/browserLink - -
2023-05-12 07:30:20.651 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - -
2023-05-12 07:30:20.659 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-05-12 07:30:20.669 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 16.5181ms
2023-05-12 07:30:20.669 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/index.html - - - 200 - text/html;charset=utf-8 352.3089ms
2023-05-12 07:30:20.685 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 34.0750ms
2023-05-12 07:30:20.784 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - -
2023-05-12 07:30:20.785 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-05-12 07:30:20.786 +07:00 [DBG] Request did not match any endpoints
2023-05-12 07:30:20.812 +07:00 [DBG] Executed controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 07:30:20.819 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-05-12 07:30:20.822 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-05-12 07:30:20.826 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 07:30:20.828 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 07:30:20.830 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-05-12 07:30:20.833 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-05-12 07:30:20.835 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO' ...
2023-05-12 07:30:20.838 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO' using the name '' in request data ...
2023-05-12 07:30:20.840 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-05-12 07:30:20.842 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-05-12 07:30:20.859 +07:00 [DBG] Connection id "0HMQIG08HU107", Request id "0HMQIG08HU107:00000002": started reading request body.
2023-05-12 07:30:20.862 +07:00 [DBG] Connection id "0HMQIG08HU107", Request id "0HMQIG08HU107:00000002": done reading request body.
2023-05-12 07:30:20.979 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 195.1773ms
2023-05-12 07:30:21.050 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO'.
2023-05-12 07:30:21.052 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO'.
2023-05-12 07:30:21.053 +07:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO' ...
2023-05-12 07:30:21.063 +07:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO'.
2023-05-12 07:30:22.171 +07:00 [INF] Entity Framework Core 6.0.16 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.16' with options: None
2023-05-12 07:30:22.249 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(item => item.Id == __cityId_0)'
2023-05-12 07:30:22.588 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        APIDemo.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-12 07:30:22.664 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 07:30:22.753 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (85ms).
2023-05-12 07:30:22.775 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 07:30:22.796 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 07:30:22.819 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 07:30:22.860 +07:00 [INF] Executed DbCommand (46ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 07:30:22.881 +07:00 [DBG] A data reader was disposed.
2023-05-12 07:30:22.894 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 07:30:22.905 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 07:30:22.923 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(item => item.Id == __cityId_0)
    .FirstOrDefault()'
2023-05-12 07:30:22.975 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(50), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        APIDemo.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-12 07:30:22.994 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 07:30:22.996 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-05-12 07:30:23.000 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 07:30:23.002 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 07:30:23.005 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-05-12 07:30:23.009 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-05-12 07:30:23.036 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 07:30:23.067 +07:00 [DBG] A data reader was disposed.
2023-05-12 07:30:23.069 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 07:30:23.072 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 07:30:23.110 +07:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'Id.PointOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 07:30:23.136 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 07:30:42.590 +07:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2023-05-12 07:30:42.595 +07:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2023-05-12 07:30:42.612 +07:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2023-05-12 07:30:42.638 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 07:30:42.639 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 07:30:42.644 +07:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-05-12 07:30:42.652 +07:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-05-12 07:30:42.714 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 07:30:42.715 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-12 07:30:42.718 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 62), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointOfInterests" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "PointOfInterests"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2023-05-12 07:30:42.727 +07:00 [ERR] Failed executing DbCommand (11ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 62), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointOfInterests" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "PointOfInterests"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2023-05-12 07:30:42.741 +07:00 [DBG] Disposing transaction.
2023-05-12 07:30:42.748 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 07:30:42.751 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 07:30:42.765 +07:00 [ERR] An exception occurred in the database while saving changes for context type 'APIDemo.DbContexts.CityInfoContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-05-12 07:30:42.887 +07:00 [INF] Executed action APIDemo.Controllers.PointOfInterestController.CreatePointOfInterest (APIDemo) in 22561.168ms
2023-05-12 07:30:42.894 +07:00 [INF] Executed endpoint 'APIDemo.Controllers.PointOfInterestController.CreatePointOfInterest (APIDemo)'
2023-05-12 07:30:42.898 +07:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at APIDemo.Services.CityInfoRepository.SaveChangeAsync() in C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\Services\CityInfoRepository.cs:line 71
   at APIDemo.Controllers.PointOfInterestController.CreatePointOfInterest(Int32 cityId, PointOfInterestCreationDTO pointOfInterest) in C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\Controllers\PointOfInterestController.cs:line 104
   at lambda_method5(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-05-12 07:30:42.999 +07:00 [DBG] Connection id "0HMQIG08HU107" completed keep alive response.
2023-05-12 07:30:43.018 +07:00 [DBG] 'CityInfoContext' disposed.
2023-05-12 07:30:43.026 +07:00 [INF] Request finished HTTP/1.1 POST https://localhost:7269/api/cities/1/pointsofinterest application/json 117 - 500 - text/plain;+charset=utf-8 22920.8359ms
2023-05-12 07:32:39.792 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-05-12 07:32:39.897 +07:00 [DBG] Hosting starting
2023-05-12 07:32:40.042 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 75D11A6361D7470A96C9C9E8EC2F301CE14CF8DD)
2023-05-12 07:32:40.094 +07:00 [INF] Now listening on: https://localhost:7269
2023-05-12 07:32:40.096 +07:00 [INF] Now listening on: http://localhost:5078
2023-05-12 07:32:40.097 +07:00 [DBG] Loaded hosting startup assembly APIDemo
2023-05-12 07:32:40.099 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-05-12 07:32:40.101 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-05-12 07:32:40.104 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-12 07:32:40.107 +07:00 [INF] Hosting environment: Development
2023-05-12 07:32:40.111 +07:00 [INF] Content root path: C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\
2023-05-12 07:32:40.115 +07:00 [DBG] Hosting started
2023-05-12 07:32:40.532 +07:00 [DBG] Connection id "0HMQIG1IEHDG5" received FIN.
2023-05-12 07:32:40.566 +07:00 [DBG] Connection id "0HMQIG1IEHDG5" accepted.
2023-05-12 07:32:40.572 +07:00 [DBG] Connection id "0HMQIG1IEHDG5" started.
2023-05-12 07:32:40.597 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-12 07:32:40.638 +07:00 [DBG] Connection id "0HMQIG1IEHDG5" stopped.
2023-05-12 07:32:40.644 +07:00 [DBG] Connection id "0HMQIG1IEHDG5" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-12 07:32:40.821 +07:00 [DBG] Connection id "0HMQIG1IEHDG6" accepted.
2023-05-12 07:32:40.825 +07:00 [DBG] Connection id "0HMQIG1IEHDG6" started.
2023-05-12 07:32:40.886 +07:00 [DBG] Connection 0HMQIG1IEHDG6 established using the following protocol: "Tls12"
2023-05-12 07:32:40.937 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/index.html - -
2023-05-12 07:32:40.970 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-05-12 07:32:40.997 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-05-12 07:32:41.001 +07:00 [DBG] Request did not match any endpoints
2023-05-12 07:32:41.108 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-05-12 07:32:41.269 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - -
2023-05-12 07:32:41.269 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_vs/browserLink - -
2023-05-12 07:32:41.277 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-05-12 07:32:41.283 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 9.6986ms
2023-05-12 07:32:41.286 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/index.html - - - 200 - text/html;charset=utf-8 353.0906ms
2023-05-12 07:32:41.299 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 29.8893ms
2023-05-12 07:32:41.391 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - -
2023-05-12 07:32:41.393 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-05-12 07:32:41.395 +07:00 [DBG] Request did not match any endpoints
2023-05-12 07:32:41.558 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 166.9463ms
2023-05-12 07:32:44.204 +07:00 [DBG] Connection id "0HMQIG1IEHDG7" accepted.
2023-05-12 07:32:44.205 +07:00 [DBG] Connection id "0HMQIG1IEHDG7" received FIN.
2023-05-12 07:32:44.208 +07:00 [DBG] Connection id "0HMQIG1IEHDG7" started.
2023-05-12 07:32:44.208 +07:00 [DBG] Connection id "0HMQIG1IEHDG8" accepted.
2023-05-12 07:32:44.218 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-12 07:32:44.222 +07:00 [DBG] Connection id "0HMQIG1IEHDG8" started.
2023-05-12 07:32:44.236 +07:00 [DBG] Connection id "0HMQIG1IEHDG7" stopped.
2023-05-12 07:32:44.242 +07:00 [DBG] Connection id "0HMQIG1IEHDG7" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-12 07:32:44.245 +07:00 [DBG] Connection 0HMQIG1IEHDG8 established using the following protocol: "Tls12"
2023-05-12 07:32:44.260 +07:00 [INF] Request starting HTTP/1.1 POST https://localhost:7269/api/cities/1/pointsofinterest application/json 117
2023-05-12 07:32:44.271 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2023-05-12 07:32:44.278 +07:00 [DBG] Endpoint 'APIDemo.Controllers.PointOfInterestController.CreatePointOfInterest (APIDemo)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2023-05-12 07:32:44.283 +07:00 [DBG] Request matched endpoint 'APIDemo.Controllers.PointOfInterestController.CreatePointOfInterest (APIDemo)'
2023-05-12 07:32:44.288 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-12 07:32:44.292 +07:00 [INF] Executing endpoint 'APIDemo.Controllers.PointOfInterestController.CreatePointOfInterest (APIDemo)'
2023-05-12 07:32:44.326 +07:00 [INF] Route matched with {action = "CreatePointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[APIDemo.Models.PointOfInterestDTO]] CreatePointOfInterest(Int32, APIDemo.Models.PointOfInterestCreationDTO) on controller APIDemo.Controllers.PointOfInterestController (APIDemo).
2023-05-12 07:32:44.335 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-12 07:32:44.341 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-12 07:32:44.345 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-12 07:32:44.350 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-12 07:32:44.358 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-12 07:32:44.365 +07:00 [DBG] Executing controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 07:32:44.535 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-05-12 07:32:44.750 +07:00 [DBG] Executed controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 07:32:44.760 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-05-12 07:32:44.766 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-05-12 07:32:44.770 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 07:32:44.772 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 07:32:44.774 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-05-12 07:32:44.779 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-05-12 07:32:44.783 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO' ...
2023-05-12 07:32:44.787 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO' using the name '' in request data ...
2023-05-12 07:32:44.792 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-05-12 07:32:44.799 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-05-12 07:32:44.811 +07:00 [DBG] Connection id "0HMQIG1IEHDG8", Request id "0HMQIG1IEHDG8:00000002": started reading request body.
2023-05-12 07:32:44.814 +07:00 [DBG] Connection id "0HMQIG1IEHDG8", Request id "0HMQIG1IEHDG8:00000002": done reading request body.
2023-05-12 07:32:44.961 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO'.
2023-05-12 07:32:44.963 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO'.
2023-05-12 07:32:44.965 +07:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO' ...
2023-05-12 07:32:44.974 +07:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO'.
2023-05-12 07:32:45.997 +07:00 [INF] Entity Framework Core 6.0.16 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.16' with options: None
2023-05-12 07:32:46.062 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(item => item.Id == __cityId_0)'
2023-05-12 07:32:46.396 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        APIDemo.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-12 07:32:46.472 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 07:32:46.549 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (72ms).
2023-05-12 07:32:46.570 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 07:32:46.592 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 07:32:46.614 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 07:32:46.650 +07:00 [INF] Executed DbCommand (43ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 07:32:46.667 +07:00 [DBG] A data reader was disposed.
2023-05-12 07:32:46.679 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 07:32:46.688 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 07:32:46.705 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(item => item.Id == __cityId_0)
    .FirstOrDefault()'
2023-05-12 07:32:46.755 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(50), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        APIDemo.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-12 07:32:46.774 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 07:32:46.775 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-12 07:32:46.777 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 07:32:46.779 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 07:32:46.781 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-05-12 07:32:46.787 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-05-12 07:32:46.812 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 07:32:46.847 +07:00 [DBG] A data reader was disposed.
2023-05-12 07:32:46.848 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 07:32:46.851 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 07:32:46.896 +07:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'Id.PointOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 07:32:46.922 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 07:32:50.398 +07:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2023-05-12 07:32:50.402 +07:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2023-05-12 07:32:50.420 +07:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2023-05-12 07:32:50.447 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 07:32:50.449 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 07:32:50.457 +07:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-05-12 07:32:50.465 +07:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-05-12 07:32:50.531 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 07:32:50.533 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-05-12 07:32:50.539 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 62), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointOfInterests" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "PointOfInterests"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2023-05-12 07:32:50.556 +07:00 [ERR] Failed executing DbCommand (23ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 62), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointOfInterests" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "PointOfInterests"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2023-05-12 07:32:50.573 +07:00 [DBG] Disposing transaction.
2023-05-12 07:32:50.583 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 07:32:50.587 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 07:32:50.607 +07:00 [ERR] An exception occurred in the database while saving changes for context type 'APIDemo.DbContexts.CityInfoContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-05-12 07:32:50.788 +07:00 [INF] Executed action APIDemo.Controllers.PointOfInterestController.CreatePointOfInterest (APIDemo) in 6418.964ms
2023-05-12 07:32:50.794 +07:00 [INF] Executed endpoint 'APIDemo.Controllers.PointOfInterestController.CreatePointOfInterest (APIDemo)'
2023-05-12 07:32:50.796 +07:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at APIDemo.Services.CityInfoRepository.SaveChangeAsync() in C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\Services\CityInfoRepository.cs:line 71
   at APIDemo.Controllers.PointOfInterestController.CreatePointOfInterest(Int32 cityId, PointOfInterestCreationDTO pointOfInterest) in C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\Controllers\PointOfInterestController.cs:line 104
   at lambda_method5(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-05-12 07:32:50.858 +07:00 [DBG] Connection id "0HMQIG1IEHDG8" completed keep alive response.
2023-05-12 07:32:50.866 +07:00 [DBG] 'CityInfoContext' disposed.
2023-05-12 07:32:50.872 +07:00 [INF] Request finished HTTP/1.1 POST https://localhost:7269/api/cities/1/pointsofinterest application/json 117 - 500 - text/plain;+charset=utf-8 6611.3321ms
2023-05-12 07:39:55.672 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-05-12 07:39:56.367 +07:00 [INF] Entity Framework Core 6.0.16 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.16' with options: None
2023-05-12 07:39:56.412 +07:00 [DBG] 'CityInfoContext' disposed.
2023-05-12 07:40:13.258 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-05-12 07:40:13.957 +07:00 [INF] Entity Framework Core 6.0.16 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.16' with options: None
2023-05-12 07:40:14.088 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 07:40:14.088 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 07:40:14.088 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 07:40:14.108 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 07:40:14.109 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 07:40:14.109 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 07:40:14.109 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 07:40:14.109 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 07:40:14.109 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 07:40:14.131 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 07:40:14.131 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 07:40:14.131 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 07:40:14.145 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 07:40:14.145 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 07:40:14.145 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 07:40:14.145 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 07:40:14.145 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 07:40:14.145 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 07:40:14.168 +07:00 [DBG] An entity of type 'City' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 07:40:14.174 +07:00 [DBG] An entity of type 'City' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 07:40:14.175 +07:00 [DBG] An entity of type 'City' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 07:40:14.175 +07:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 07:40:14.177 +07:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 07:40:14.177 +07:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 07:40:14.177 +07:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 07:40:14.177 +07:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 07:40:14.177 +07:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 07:40:14.187 +07:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2023-05-12 07:40:14.196 +07:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2023-05-12 07:40:14.197 +07:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2023-05-12 07:40:14.197 +07:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2023-05-12 07:40:14.270 +07:00 [DBG] 'CityInfoContext' disposed.
2023-05-12 07:40:53.495 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-05-12 07:40:54.157 +07:00 [INF] Entity Framework Core 6.0.16 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.16' with options: None
2023-05-12 07:40:54.296 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 07:40:54.297 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 07:40:54.297 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 07:40:54.318 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 07:40:54.319 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 07:40:54.319 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 07:40:54.319 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 07:40:54.319 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 07:40:54.319 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 07:40:54.339 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 07:40:54.339 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 07:40:54.339 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 07:40:54.353 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 07:40:54.353 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 07:40:54.353 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 07:40:54.353 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 07:40:54.353 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 07:40:54.353 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 07:40:54.388 +07:00 [DBG] An entity of type 'City' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 07:40:54.399 +07:00 [DBG] An entity of type 'City' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 07:40:54.399 +07:00 [DBG] An entity of type 'City' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 07:40:54.399 +07:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 07:40:54.402 +07:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 07:40:54.402 +07:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 07:40:54.403 +07:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 07:40:54.403 +07:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 07:40:54.403 +07:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 07:40:54.414 +07:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2023-05-12 07:40:54.421 +07:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2023-05-12 07:40:54.422 +07:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2023-05-12 07:40:54.422 +07:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2023-05-12 07:40:54.458 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 07:40:54.469 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 07:40:54.480 +07:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-05-12 07:40:54.487 +07:00 [DBG] Created DbCommand for 'ExecuteScalar' (2ms).
2023-05-12 07:40:54.487 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 07:40:54.490 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 07:40:54.498 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2023-05-12 07:40:54.515 +07:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2023-05-12 07:40:54.517 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 07:40:54.520 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 07:40:54.532 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 07:40:54.532 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-05-12 07:40:54.532 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 07:40:54.532 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 07:40:54.532 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-05-12 07:40:54.533 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-05-12 07:40:54.535 +07:00 [DBG] A data reader was disposed.
2023-05-12 07:40:54.535 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 07:40:54.998 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 07:40:55.057 +07:00 [DBG] 'CityInfoContext' disposed.
2023-05-12 07:41:43.770 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-05-12 07:41:43.930 +07:00 [DBG] Hosting starting
2023-05-12 07:41:44.067 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 75D11A6361D7470A96C9C9E8EC2F301CE14CF8DD)
2023-05-12 07:41:44.112 +07:00 [INF] Now listening on: https://localhost:7269
2023-05-12 07:41:44.113 +07:00 [INF] Now listening on: http://localhost:5078
2023-05-12 07:41:44.114 +07:00 [DBG] Loaded hosting startup assembly APIDemo
2023-05-12 07:41:44.115 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-05-12 07:41:44.116 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-05-12 07:41:44.118 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-12 07:41:44.119 +07:00 [INF] Hosting environment: Development
2023-05-12 07:41:44.120 +07:00 [INF] Content root path: C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\
2023-05-12 07:41:44.122 +07:00 [DBG] Hosting started
2023-05-12 07:41:44.195 +07:00 [DBG] Connection id "0HMQIG6KF8D4U" accepted.
2023-05-12 07:41:44.195 +07:00 [DBG] Connection id "0HMQIG6KF8D4V" accepted.
2023-05-12 07:41:44.198 +07:00 [DBG] Connection id "0HMQIG6KF8D4V" started.
2023-05-12 07:41:44.198 +07:00 [DBG] Connection id "0HMQIG6KF8D4U" started.
2023-05-12 07:41:44.858 +07:00 [DBG] Connection id "0HMQIG6KF8D50" accepted.
2023-05-12 07:41:45.162 +07:00 [DBG] Connection id "0HMQIG6KF8D50" started.
2023-05-12 07:41:45.302 +07:00 [DBG] Connection 0HMQIG6KF8D50 established using the following protocol: "Tls12"
2023-05-12 07:41:45.413 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/index.html - -
2023-05-12 07:41:45.515 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-05-12 07:41:45.553 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-05-12 07:41:45.555 +07:00 [DBG] Request did not match any endpoints
2023-05-12 07:41:45.799 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-05-12 07:41:46.149 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - -
2023-05-12 07:41:46.436 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-05-12 07:41:46.158 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_vs/browserLink - -
2023-05-12 07:41:46.462 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 312.1548ms
2023-05-12 07:41:46.463 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/index.html - - - 200 - text/html;charset=utf-8 1058.1664ms
2023-05-12 07:41:46.582 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 424.2581ms
2023-05-12 07:41:46.689 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - -
2023-05-12 07:41:46.691 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-05-12 07:41:46.695 +07:00 [DBG] Request did not match any endpoints
2023-05-12 07:41:46.960 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 270.5523ms
2023-05-12 07:41:51.915 +07:00 [DBG] Connection id "0HMQIG6KF8D51" accepted.
2023-05-12 07:41:51.916 +07:00 [DBG] Connection id "0HMQIG6KF8D51" received FIN.
2023-05-12 07:41:51.918 +07:00 [DBG] Connection id "0HMQIG6KF8D51" started.
2023-05-12 07:41:51.918 +07:00 [DBG] Connection id "0HMQIG6KF8D52" accepted.
2023-05-12 07:41:51.927 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-12 07:41:51.928 +07:00 [DBG] Connection id "0HMQIG6KF8D52" started.
2023-05-12 07:41:51.972 +07:00 [DBG] Connection id "0HMQIG6KF8D51" stopped.
2023-05-12 07:41:51.975 +07:00 [DBG] Connection 0HMQIG6KF8D52 established using the following protocol: "Tls12"
2023-05-12 07:41:51.975 +07:00 [DBG] Connection id "0HMQIG6KF8D51" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-12 07:41:51.986 +07:00 [INF] Request starting HTTP/1.1 POST https://localhost:7269/api/cities/1/pointsofinterest application/json 117
2023-05-12 07:41:51.996 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2023-05-12 07:41:52.003 +07:00 [DBG] Endpoint 'APIDemo.Controllers.PointOfInterestController.CreatePointOfInterest (APIDemo)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2023-05-12 07:41:52.006 +07:00 [DBG] Request matched endpoint 'APIDemo.Controllers.PointOfInterestController.CreatePointOfInterest (APIDemo)'
2023-05-12 07:41:52.009 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-12 07:41:52.014 +07:00 [INF] Executing endpoint 'APIDemo.Controllers.PointOfInterestController.CreatePointOfInterest (APIDemo)'
2023-05-12 07:41:52.047 +07:00 [INF] Route matched with {action = "CreatePointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[APIDemo.Models.PointOfInterestDTO]] CreatePointOfInterest(Int32, APIDemo.Models.PointOfInterestCreationDTO) on controller APIDemo.Controllers.PointOfInterestController (APIDemo).
2023-05-12 07:41:52.054 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-12 07:41:52.056 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-12 07:41:52.058 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-12 07:41:52.061 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-12 07:41:52.063 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-12 07:41:52.065 +07:00 [DBG] Executing controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 07:41:52.232 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-05-12 07:41:52.442 +07:00 [DBG] Executed controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 07:41:52.448 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-05-12 07:41:52.451 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-05-12 07:41:52.454 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 07:41:52.455 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 07:41:52.457 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-05-12 07:41:52.460 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-05-12 07:41:52.463 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO' ...
2023-05-12 07:41:52.465 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO' using the name '' in request data ...
2023-05-12 07:41:52.468 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-05-12 07:41:52.470 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-05-12 07:41:52.483 +07:00 [DBG] Connection id "0HMQIG6KF8D52", Request id "0HMQIG6KF8D52:00000002": started reading request body.
2023-05-12 07:41:52.486 +07:00 [DBG] Connection id "0HMQIG6KF8D52", Request id "0HMQIG6KF8D52:00000002": done reading request body.
2023-05-12 07:41:52.629 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO'.
2023-05-12 07:41:52.631 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO'.
2023-05-12 07:41:52.634 +07:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO' ...
2023-05-12 07:41:52.645 +07:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO'.
2023-05-12 07:41:53.626 +07:00 [INF] Entity Framework Core 6.0.16 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.16' with options: None
2023-05-12 07:41:53.692 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(item => item.Id == __cityId_0)'
2023-05-12 07:41:54.031 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        APIDemo.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-12 07:41:54.104 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 07:41:54.184 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (76ms).
2023-05-12 07:41:54.214 +07:00 [DBG] Authentication of the HTTPS connection timed out.
2023-05-12 07:41:54.214 +07:00 [DBG] Authentication of the HTTPS connection timed out.
2023-05-12 07:41:54.216 +07:00 [DBG] Connection id "0HMQIG6KF8D4U" stopped.
2023-05-12 07:41:54.218 +07:00 [DBG] Connection id "0HMQIG6KF8D4V" stopped.
2023-05-12 07:41:54.219 +07:00 [DBG] Connection id "0HMQIG6KF8D4U" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-12 07:41:54.221 +07:00 [DBG] Connection id "0HMQIG6KF8D4V" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-12 07:41:54.222 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 07:41:54.250 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 07:41:54.271 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 07:41:54.306 +07:00 [INF] Executed DbCommand (41ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 07:41:54.328 +07:00 [DBG] A data reader was disposed.
2023-05-12 07:41:54.341 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 07:41:54.350 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 07:41:54.366 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(item => item.Id == __cityId_0)
    .FirstOrDefault()'
2023-05-12 07:41:54.414 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(50), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        APIDemo.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-12 07:41:54.435 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 07:41:54.438 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-05-12 07:41:54.443 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 07:41:54.449 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 07:41:54.452 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-05-12 07:41:54.460 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-05-12 07:41:54.487 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 07:41:54.516 +07:00 [DBG] A data reader was disposed.
2023-05-12 07:41:54.518 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 07:41:54.523 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 07:41:54.563 +07:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'Id.PointOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 07:41:54.589 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 07:41:54.602 +07:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2023-05-12 07:41:54.607 +07:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2023-05-12 07:41:54.632 +07:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2023-05-12 07:41:54.659 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 07:41:54.660 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 07:41:54.666 +07:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-05-12 07:41:54.675 +07:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-05-12 07:41:54.740 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 07:41:54.741 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-12 07:41:54.743 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 62), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointOfInterests" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "PointOfInterests"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2023-05-12 07:41:54.754 +07:00 [ERR] Failed executing DbCommand (10ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 62), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointOfInterests" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "PointOfInterests"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2023-05-12 07:41:54.769 +07:00 [DBG] Disposing transaction.
2023-05-12 07:41:54.776 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 07:41:54.779 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 07:41:54.787 +07:00 [ERR] An exception occurred in the database while saving changes for context type 'APIDemo.DbContexts.CityInfoContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-05-12 07:41:54.963 +07:00 [INF] Executed action APIDemo.Controllers.PointOfInterestController.CreatePointOfInterest (APIDemo) in 2893.3885ms
2023-05-12 07:41:54.968 +07:00 [INF] Executed endpoint 'APIDemo.Controllers.PointOfInterestController.CreatePointOfInterest (APIDemo)'
2023-05-12 07:41:54.971 +07:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at APIDemo.Services.CityInfoRepository.SaveChangeAsync() in C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\Services\CityInfoRepository.cs:line 71
   at APIDemo.Controllers.PointOfInterestController.CreatePointOfInterest(Int32 cityId, PointOfInterestCreationDTO pointOfInterest) in C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\Controllers\PointOfInterestController.cs:line 104
   at lambda_method5(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-05-12 07:41:55.011 +07:00 [DBG] Connection id "0HMQIG6KF8D52" completed keep alive response.
2023-05-12 07:41:55.017 +07:00 [DBG] 'CityInfoContext' disposed.
2023-05-12 07:41:55.024 +07:00 [INF] Request finished HTTP/1.1 POST https://localhost:7269/api/cities/1/pointsofinterest application/json 117 - 500 - text/plain;+charset=utf-8 3037.5555ms
2023-05-12 07:42:12.675 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-05-12 07:42:12.792 +07:00 [DBG] Hosting starting
2023-05-12 07:42:12.934 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 75D11A6361D7470A96C9C9E8EC2F301CE14CF8DD)
2023-05-12 07:42:13.011 +07:00 [INF] Now listening on: https://localhost:7269
2023-05-12 07:42:13.019 +07:00 [INF] Now listening on: http://localhost:5078
2023-05-12 07:42:13.020 +07:00 [DBG] Loaded hosting startup assembly APIDemo
2023-05-12 07:42:13.022 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-05-12 07:42:13.024 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-05-12 07:42:13.026 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-12 07:42:13.027 +07:00 [INF] Hosting environment: Development
2023-05-12 07:42:13.028 +07:00 [INF] Content root path: C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\
2023-05-12 07:42:13.029 +07:00 [DBG] Hosting started
2023-05-12 07:42:13.149 +07:00 [DBG] Connection id "0HMQIG6T3DEL1" accepted.
2023-05-12 07:42:13.149 +07:00 [DBG] Connection id "0HMQIG6T3DEL2" accepted.
2023-05-12 07:42:13.151 +07:00 [DBG] Connection id "0HMQIG6T3DEL2" started.
2023-05-12 07:42:13.151 +07:00 [DBG] Connection id "0HMQIG6T3DEL1" started.
2023-05-12 07:42:13.169 +07:00 [DBG] Connection id "0HMQIG6T3DEL2" received FIN.
2023-05-12 07:42:13.169 +07:00 [DBG] Connection id "0HMQIG6T3DEL1" received FIN.
2023-05-12 07:42:13.186 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-12 07:42:13.186 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-12 07:42:13.233 +07:00 [DBG] Connection id "0HMQIG6T3DEL1" stopped.
2023-05-12 07:42:13.233 +07:00 [DBG] Connection id "0HMQIG6T3DEL2" stopped.
2023-05-12 07:42:13.236 +07:00 [DBG] Connection id "0HMQIG6T3DEL2" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-12 07:42:13.236 +07:00 [DBG] Connection id "0HMQIG6T3DEL1" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-12 07:42:13.425 +07:00 [DBG] Connection id "0HMQIG6T3DEL3" accepted.
2023-05-12 07:42:13.427 +07:00 [DBG] Connection id "0HMQIG6T3DEL3" started.
2023-05-12 07:42:13.492 +07:00 [DBG] Connection 0HMQIG6T3DEL3 established using the following protocol: "Tls12"
2023-05-12 07:42:13.543 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/index.html - -
2023-05-12 07:42:13.579 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-05-12 07:42:13.604 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-05-12 07:42:13.606 +07:00 [DBG] Request did not match any endpoints
2023-05-12 07:42:13.716 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-05-12 07:42:13.864 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - -
2023-05-12 07:42:13.864 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_vs/browserLink - -
2023-05-12 07:42:13.869 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-05-12 07:42:13.879 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/index.html - - - 200 - text/html;charset=utf-8 338.5705ms
2023-05-12 07:42:13.879 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 11.1727ms
2023-05-12 07:42:13.896 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 31.2895ms
2023-05-12 07:42:13.995 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - -
2023-05-12 07:42:13.997 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-05-12 07:42:14.000 +07:00 [DBG] Request did not match any endpoints
2023-05-12 07:42:14.158 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 162.6658ms
2023-05-12 07:42:47.730 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-05-12 07:42:47.848 +07:00 [DBG] Hosting starting
2023-05-12 07:42:47.992 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 75D11A6361D7470A96C9C9E8EC2F301CE14CF8DD)
2023-05-12 07:42:48.033 +07:00 [INF] Now listening on: https://localhost:7269
2023-05-12 07:42:48.034 +07:00 [INF] Now listening on: http://localhost:5078
2023-05-12 07:42:48.036 +07:00 [DBG] Loaded hosting startup assembly APIDemo
2023-05-12 07:42:48.037 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-05-12 07:42:48.039 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-05-12 07:42:48.041 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-12 07:42:48.043 +07:00 [INF] Hosting environment: Development
2023-05-12 07:42:48.044 +07:00 [INF] Content root path: C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\
2023-05-12 07:42:48.046 +07:00 [DBG] Hosting started
2023-05-12 07:42:48.309 +07:00 [DBG] Connection id "0HMQIG77IOCL9" received FIN.
2023-05-12 07:42:48.323 +07:00 [DBG] Connection id "0HMQIG77IOCL9" accepted.
2023-05-12 07:42:48.325 +07:00 [DBG] Connection id "0HMQIG77IOCL9" started.
2023-05-12 07:42:48.343 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-12 07:42:48.382 +07:00 [DBG] Connection id "0HMQIG77IOCL9" stopped.
2023-05-12 07:42:48.388 +07:00 [DBG] Connection id "0HMQIG77IOCL9" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-12 07:42:48.549 +07:00 [DBG] Connection id "0HMQIG77IOCLA" accepted.
2023-05-12 07:42:48.551 +07:00 [DBG] Connection id "0HMQIG77IOCLA" started.
2023-05-12 07:42:48.608 +07:00 [DBG] Connection 0HMQIG77IOCLA established using the following protocol: "Tls12"
2023-05-12 07:42:48.658 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/index.html - -
2023-05-12 07:42:48.690 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-05-12 07:42:48.714 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-05-12 07:42:48.716 +07:00 [DBG] Request did not match any endpoints
2023-05-12 07:42:48.842 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-05-12 07:42:48.993 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_vs/browserLink - -
2023-05-12 07:42:48.993 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - -
2023-05-12 07:42:49.000 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-05-12 07:42:49.018 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 20.8644ms
2023-05-12 07:42:49.018 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/index.html - - - 200 - text/html;charset=utf-8 363.9358ms
2023-05-12 07:42:49.026 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 33.0869ms
2023-05-12 07:42:49.111 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - -
2023-05-12 07:42:49.113 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-05-12 07:42:49.115 +07:00 [DBG] Request did not match any endpoints
2023-05-12 07:42:49.270 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 159.1874ms
2023-05-12 07:42:55.362 +07:00 [DBG] Connection id "0HMQIG77IOCLB" accepted.
2023-05-12 07:42:55.362 +07:00 [DBG] Connection id "0HMQIG77IOCLB" received FIN.
2023-05-12 07:42:55.363 +07:00 [DBG] Connection id "0HMQIG77IOCLB" started.
2023-05-12 07:42:55.364 +07:00 [DBG] Connection id "0HMQIG77IOCLC" accepted.
2023-05-12 07:42:55.368 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-12 07:42:55.370 +07:00 [DBG] Connection id "0HMQIG77IOCLC" started.
2023-05-12 07:42:55.377 +07:00 [DBG] Connection id "0HMQIG77IOCLB" stopped.
2023-05-12 07:42:55.380 +07:00 [DBG] Connection id "0HMQIG77IOCLB" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-12 07:42:55.384 +07:00 [DBG] Connection 0HMQIG77IOCLC established using the following protocol: "Tls12"
2023-05-12 07:42:55.397 +07:00 [INF] Request starting HTTP/1.1 POST https://localhost:7269/api/cities/1/pointsofinterest application/json 117
2023-05-12 07:42:55.408 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2023-05-12 07:42:55.414 +07:00 [DBG] Endpoint 'APIDemo.Controllers.PointOfInterestController.CreatePointOfInterest (APIDemo)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2023-05-12 07:42:55.417 +07:00 [DBG] Request matched endpoint 'APIDemo.Controllers.PointOfInterestController.CreatePointOfInterest (APIDemo)'
2023-05-12 07:42:55.423 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-12 07:42:55.429 +07:00 [INF] Executing endpoint 'APIDemo.Controllers.PointOfInterestController.CreatePointOfInterest (APIDemo)'
2023-05-12 07:42:55.464 +07:00 [INF] Route matched with {action = "CreatePointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[APIDemo.Models.PointOfInterestDTO]] CreatePointOfInterest(Int32, APIDemo.Models.PointOfInterestCreationDTO) on controller APIDemo.Controllers.PointOfInterestController (APIDemo).
2023-05-12 07:42:55.472 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-12 07:42:55.478 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-12 07:42:55.486 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-12 07:42:55.495 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-12 07:42:55.501 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-12 07:42:55.508 +07:00 [DBG] Executing controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 07:42:55.703 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-05-12 07:42:55.907 +07:00 [DBG] Executed controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 07:42:55.916 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-05-12 07:42:55.922 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-05-12 07:42:55.927 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 07:42:55.929 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 07:42:55.931 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-05-12 07:42:55.934 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-05-12 07:42:55.937 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO' ...
2023-05-12 07:42:55.940 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO' using the name '' in request data ...
2023-05-12 07:42:55.943 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-05-12 07:42:55.946 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-05-12 07:42:55.956 +07:00 [DBG] Connection id "0HMQIG77IOCLC", Request id "0HMQIG77IOCLC:00000002": started reading request body.
2023-05-12 07:42:55.958 +07:00 [DBG] Connection id "0HMQIG77IOCLC", Request id "0HMQIG77IOCLC:00000002": done reading request body.
2023-05-12 07:42:56.104 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO'.
2023-05-12 07:42:56.109 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO'.
2023-05-12 07:42:56.112 +07:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO' ...
2023-05-12 07:42:56.126 +07:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO'.
2023-05-12 07:42:57.143 +07:00 [INF] Entity Framework Core 6.0.16 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.16' with options: None
2023-05-12 07:42:57.210 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(item => item.Id == __cityId_0)'
2023-05-12 07:42:57.543 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        APIDemo.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-12 07:42:57.617 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 07:42:57.691 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (70ms).
2023-05-12 07:42:57.712 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 07:42:57.736 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 07:42:57.759 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 07:42:57.798 +07:00 [INF] Executed DbCommand (45ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 07:42:57.821 +07:00 [DBG] A data reader was disposed.
2023-05-12 07:42:57.833 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 07:42:57.845 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 07:42:57.865 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(item => item.Id == __cityId_0)
    .FirstOrDefault()'
2023-05-12 07:42:57.918 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(50), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        APIDemo.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-12 07:42:57.934 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 07:42:57.936 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-12 07:42:57.937 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 07:42:57.939 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 07:42:57.942 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-05-12 07:42:57.947 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-05-12 07:42:57.972 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 07:42:58.001 +07:00 [DBG] A data reader was disposed.
2023-05-12 07:42:58.003 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 07:42:58.007 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 07:42:58.043 +07:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'Id.PointOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 07:42:58.066 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 07:42:58.080 +07:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2023-05-12 07:42:58.086 +07:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2023-05-12 07:42:58.106 +07:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2023-05-12 07:42:58.133 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 07:42:58.138 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 07:42:58.146 +07:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-05-12 07:42:58.155 +07:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-05-12 07:42:58.221 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 07:42:58.223 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-12 07:42:58.225 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 62), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointOfInterests" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "PointOfInterests"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2023-05-12 07:42:58.235 +07:00 [ERR] Failed executing DbCommand (11ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 62), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointOfInterests" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "PointOfInterests"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2023-05-12 07:42:58.249 +07:00 [DBG] Disposing transaction.
2023-05-12 07:42:58.256 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 07:42:58.258 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 07:42:58.266 +07:00 [ERR] An exception occurred in the database while saving changes for context type 'APIDemo.DbContexts.CityInfoContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-05-12 07:42:58.454 +07:00 [INF] Executed action APIDemo.Controllers.PointOfInterestController.CreatePointOfInterest (APIDemo) in 2940.8624ms
2023-05-12 07:42:58.460 +07:00 [INF] Executed endpoint 'APIDemo.Controllers.PointOfInterestController.CreatePointOfInterest (APIDemo)'
2023-05-12 07:42:58.463 +07:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at APIDemo.Services.CityInfoRepository.SaveChangeAsync() in C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\Services\CityInfoRepository.cs:line 71
   at APIDemo.Controllers.PointOfInterestController.CreatePointOfInterest(Int32 cityId, PointOfInterestCreationDTO pointOfInterest) in C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\Controllers\PointOfInterestController.cs:line 104
   at lambda_method5(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-05-12 07:42:58.519 +07:00 [DBG] Connection id "0HMQIG77IOCLC" completed keep alive response.
2023-05-12 07:42:58.526 +07:00 [DBG] 'CityInfoContext' disposed.
2023-05-12 07:42:58.532 +07:00 [INF] Request finished HTTP/1.1 POST https://localhost:7269/api/cities/1/pointsofinterest application/json 117 - 500 - text/plain;+charset=utf-8 3135.2116ms
2023-05-12 07:44:16.489 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-05-12 07:44:16.609 +07:00 [DBG] Hosting starting
2023-05-12 07:44:16.743 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 75D11A6361D7470A96C9C9E8EC2F301CE14CF8DD)
2023-05-12 07:44:16.793 +07:00 [INF] Now listening on: https://localhost:7269
2023-05-12 07:44:16.795 +07:00 [INF] Now listening on: http://localhost:5078
2023-05-12 07:44:16.797 +07:00 [DBG] Loaded hosting startup assembly APIDemo
2023-05-12 07:44:16.798 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-05-12 07:44:16.801 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-05-12 07:44:16.805 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-12 07:44:16.808 +07:00 [INF] Hosting environment: Development
2023-05-12 07:44:16.811 +07:00 [INF] Content root path: C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\
2023-05-12 07:44:16.815 +07:00 [DBG] Hosting started
2023-05-12 07:44:17.170 +07:00 [DBG] Connection id "0HMQIG82269TC" received FIN.
2023-05-12 07:44:17.188 +07:00 [DBG] Connection id "0HMQIG82269TC" accepted.
2023-05-12 07:44:17.193 +07:00 [DBG] Connection id "0HMQIG82269TC" started.
2023-05-12 07:44:17.211 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-12 07:44:17.246 +07:00 [DBG] Connection id "0HMQIG82269TC" stopped.
2023-05-12 07:44:17.251 +07:00 [DBG] Connection id "0HMQIG82269TC" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-12 07:44:17.415 +07:00 [DBG] Connection id "0HMQIG82269TD" accepted.
2023-05-12 07:44:17.418 +07:00 [DBG] Connection id "0HMQIG82269TD" started.
2023-05-12 07:44:17.471 +07:00 [DBG] Connection 0HMQIG82269TD established using the following protocol: "Tls12"
2023-05-12 07:44:17.522 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/index.html - -
2023-05-12 07:44:17.560 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-05-12 07:44:17.584 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-05-12 07:44:17.586 +07:00 [DBG] Request did not match any endpoints
2023-05-12 07:44:17.695 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-05-12 07:44:17.849 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_vs/browserLink - -
2023-05-12 07:44:17.849 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - -
2023-05-12 07:44:17.857 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-05-12 07:44:17.865 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 15.6065ms
2023-05-12 07:44:17.866 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/index.html - - - 200 - text/html;charset=utf-8 347.5033ms
2023-05-12 07:44:17.876 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 26.8927ms
2023-05-12 07:44:17.967 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - -
2023-05-12 07:44:17.969 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-05-12 07:44:17.972 +07:00 [DBG] Request did not match any endpoints
2023-05-12 07:44:18.127 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 159.8703ms
2023-05-12 07:44:21.102 +07:00 [DBG] Connection id "0HMQIG82269TE" accepted.
2023-05-12 07:44:21.102 +07:00 [DBG] Connection id "0HMQIG82269TE" received FIN.
2023-05-12 07:44:21.103 +07:00 [DBG] Connection id "0HMQIG82269TE" started.
2023-05-12 07:44:21.104 +07:00 [DBG] Connection id "0HMQIG82269TF" accepted.
2023-05-12 07:44:21.108 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-12 07:44:21.109 +07:00 [DBG] Connection id "0HMQIG82269TF" started.
2023-05-12 07:44:21.112 +07:00 [DBG] Connection id "0HMQIG82269TE" stopped.
2023-05-12 07:44:21.116 +07:00 [DBG] Connection id "0HMQIG82269TE" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-12 07:44:21.118 +07:00 [DBG] Connection 0HMQIG82269TF established using the following protocol: "Tls12"
2023-05-12 07:44:21.128 +07:00 [INF] Request starting HTTP/1.1 POST https://localhost:7269/api/cities/1/pointsofinterest application/json 117
2023-05-12 07:44:21.136 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2023-05-12 07:44:21.143 +07:00 [DBG] Endpoint 'APIDemo.Controllers.PointOfInterestController.CreatePointOfInterest (APIDemo)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2023-05-12 07:44:21.147 +07:00 [DBG] Request matched endpoint 'APIDemo.Controllers.PointOfInterestController.CreatePointOfInterest (APIDemo)'
2023-05-12 07:44:21.149 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-12 07:44:21.153 +07:00 [INF] Executing endpoint 'APIDemo.Controllers.PointOfInterestController.CreatePointOfInterest (APIDemo)'
2023-05-12 07:44:21.185 +07:00 [INF] Route matched with {action = "CreatePointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[APIDemo.Models.PointOfInterestDTO]] CreatePointOfInterest(Int32, APIDemo.Models.PointOfInterestCreationDTO) on controller APIDemo.Controllers.PointOfInterestController (APIDemo).
2023-05-12 07:44:21.190 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-12 07:44:21.192 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-12 07:44:21.195 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-12 07:44:21.197 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-12 07:44:21.201 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-12 07:44:21.205 +07:00 [DBG] Executing controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 07:44:21.367 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-05-12 07:44:21.574 +07:00 [DBG] Executed controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 07:44:21.582 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-05-12 07:44:21.589 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-05-12 07:44:21.594 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 07:44:21.599 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 07:44:21.602 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-05-12 07:44:21.606 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-05-12 07:44:21.611 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO' ...
2023-05-12 07:44:21.614 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO' using the name '' in request data ...
2023-05-12 07:44:21.618 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-05-12 07:44:21.621 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-05-12 07:44:21.634 +07:00 [DBG] Connection id "0HMQIG82269TF", Request id "0HMQIG82269TF:00000002": started reading request body.
2023-05-12 07:44:21.638 +07:00 [DBG] Connection id "0HMQIG82269TF", Request id "0HMQIG82269TF:00000002": done reading request body.
2023-05-12 07:44:21.783 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO'.
2023-05-12 07:44:21.788 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO'.
2023-05-12 07:44:21.791 +07:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO' ...
2023-05-12 07:44:21.800 +07:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO'.
2023-05-12 07:44:22.825 +07:00 [INF] Entity Framework Core 6.0.16 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.16' with options: None
2023-05-12 07:44:22.892 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(item => item.Id == __cityId_0)'
2023-05-12 07:44:23.232 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        APIDemo.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-12 07:44:23.341 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 07:44:23.470 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (121ms).
2023-05-12 07:44:23.498 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 07:44:23.536 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 07:44:23.582 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 07:44:23.637 +07:00 [INF] Executed DbCommand (81ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 07:44:23.655 +07:00 [DBG] A data reader was disposed.
2023-05-12 07:44:23.666 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 07:44:23.675 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 07:44:23.695 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(item => item.Id == __cityId_0)
    .FirstOrDefault()'
2023-05-12 07:44:23.747 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(50), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        APIDemo.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-12 07:44:23.766 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 07:44:23.768 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-05-12 07:44:23.770 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 07:44:23.773 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 07:44:23.776 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-05-12 07:44:23.780 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-05-12 07:44:23.804 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 07:44:23.834 +07:00 [DBG] A data reader was disposed.
2023-05-12 07:44:23.836 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 07:44:23.840 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 07:44:23.877 +07:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'Id.PointOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 07:44:23.904 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 07:44:23.918 +07:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2023-05-12 07:44:23.926 +07:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2023-05-12 07:44:23.952 +07:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2023-05-12 07:44:23.989 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 07:44:23.993 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 07:44:24.001 +07:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-05-12 07:44:24.011 +07:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-05-12 07:44:24.077 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 07:44:24.078 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-12 07:44:24.081 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 62), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointOfInterests" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "PointOfInterests"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2023-05-12 07:44:24.090 +07:00 [ERR] Failed executing DbCommand (11ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 62), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointOfInterests" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "PointOfInterests"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2023-05-12 07:44:24.105 +07:00 [DBG] Disposing transaction.
2023-05-12 07:44:24.114 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 07:44:24.116 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 07:44:24.125 +07:00 [ERR] An exception occurred in the database while saving changes for context type 'APIDemo.DbContexts.CityInfoContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-05-12 07:44:24.300 +07:00 [INF] Executed action APIDemo.Controllers.PointOfInterestController.CreatePointOfInterest (APIDemo) in 3089.8396ms
2023-05-12 07:44:24.307 +07:00 [INF] Executed endpoint 'APIDemo.Controllers.PointOfInterestController.CreatePointOfInterest (APIDemo)'
2023-05-12 07:44:24.311 +07:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at APIDemo.Services.CityInfoRepository.SaveChangeAsync() in C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\Services\CityInfoRepository.cs:line 71
   at APIDemo.Controllers.PointOfInterestController.CreatePointOfInterest(Int32 cityId, PointOfInterestCreationDTO pointOfInterest) in C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\Controllers\PointOfInterestController.cs:line 104
   at lambda_method5(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-05-12 07:44:24.370 +07:00 [DBG] Connection id "0HMQIG82269TF" completed keep alive response.
2023-05-12 07:44:24.379 +07:00 [DBG] 'CityInfoContext' disposed.
2023-05-12 07:44:24.387 +07:00 [INF] Request finished HTTP/1.1 POST https://localhost:7269/api/cities/1/pointsofinterest application/json 117 - 500 - text/plain;+charset=utf-8 3259.3835ms
2023-05-12 07:45:22.367 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-05-12 07:45:22.493 +07:00 [DBG] Hosting starting
2023-05-12 07:45:22.641 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 75D11A6361D7470A96C9C9E8EC2F301CE14CF8DD)
2023-05-12 07:45:22.691 +07:00 [INF] Now listening on: https://localhost:7269
2023-05-12 07:45:22.692 +07:00 [INF] Now listening on: http://localhost:5078
2023-05-12 07:45:22.693 +07:00 [DBG] Loaded hosting startup assembly APIDemo
2023-05-12 07:45:22.695 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-05-12 07:45:22.696 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-05-12 07:45:22.697 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-12 07:45:22.699 +07:00 [INF] Hosting environment: Development
2023-05-12 07:45:22.701 +07:00 [INF] Content root path: C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\
2023-05-12 07:45:22.704 +07:00 [DBG] Hosting started
2023-05-12 07:45:23.015 +07:00 [DBG] Connection id "0HMQIG8LM4ION" received FIN.
2023-05-12 07:45:23.047 +07:00 [DBG] Connection id "0HMQIG8LM4ION" accepted.
2023-05-12 07:45:23.050 +07:00 [DBG] Connection id "0HMQIG8LM4ION" started.
2023-05-12 07:45:23.069 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-12 07:45:23.107 +07:00 [DBG] Connection id "0HMQIG8LM4ION" stopped.
2023-05-12 07:45:23.111 +07:00 [DBG] Connection id "0HMQIG8LM4ION" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-12 07:45:23.279 +07:00 [DBG] Connection id "0HMQIG8LM4IOO" accepted.
2023-05-12 07:45:23.281 +07:00 [DBG] Connection id "0HMQIG8LM4IOO" started.
2023-05-12 07:45:23.334 +07:00 [DBG] Connection 0HMQIG8LM4IOO established using the following protocol: "Tls12"
2023-05-12 07:45:23.382 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/index.html - -
2023-05-12 07:45:23.419 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-05-12 07:45:23.444 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-05-12 07:45:23.447 +07:00 [DBG] Request did not match any endpoints
2023-05-12 07:45:23.558 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-05-12 07:45:23.713 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - -
2023-05-12 07:45:23.713 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_vs/browserLink - -
2023-05-12 07:45:23.716 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-05-12 07:45:23.723 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 8.8169ms
2023-05-12 07:45:23.723 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/index.html - - - 200 - text/html;charset=utf-8 345.1653ms
2023-05-12 07:45:23.742 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 29.2727ms
2023-05-12 07:45:23.832 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - -
2023-05-12 07:45:23.833 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-05-12 07:45:23.835 +07:00 [DBG] Request did not match any endpoints
2023-05-12 07:45:24.005 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 172.5316ms
2023-05-12 07:45:26.096 +07:00 [DBG] Connection id "0HMQIG8LM4IOP" accepted.
2023-05-12 07:45:26.096 +07:00 [DBG] Connection id "0HMQIG8LM4IOP" received FIN.
2023-05-12 07:45:26.097 +07:00 [DBG] Connection id "0HMQIG8LM4IOP" started.
2023-05-12 07:45:26.098 +07:00 [DBG] Connection id "0HMQIG8LM4IOQ" accepted.
2023-05-12 07:45:26.102 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-12 07:45:26.104 +07:00 [DBG] Connection id "0HMQIG8LM4IOQ" started.
2023-05-12 07:45:26.113 +07:00 [DBG] Connection id "0HMQIG8LM4IOP" stopped.
2023-05-12 07:45:26.115 +07:00 [DBG] Connection id "0HMQIG8LM4IOP" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-12 07:45:26.121 +07:00 [DBG] Connection 0HMQIG8LM4IOQ established using the following protocol: "Tls12"
2023-05-12 07:45:26.134 +07:00 [INF] Request starting HTTP/1.1 POST https://localhost:7269/api/cities/1/pointsofinterest application/json 117
2023-05-12 07:45:26.143 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2023-05-12 07:45:26.149 +07:00 [DBG] Endpoint 'APIDemo.Controllers.PointOfInterestController.CreatePointOfInterest (APIDemo)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2023-05-12 07:45:26.152 +07:00 [DBG] Request matched endpoint 'APIDemo.Controllers.PointOfInterestController.CreatePointOfInterest (APIDemo)'
2023-05-12 07:45:26.154 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-12 07:45:26.158 +07:00 [INF] Executing endpoint 'APIDemo.Controllers.PointOfInterestController.CreatePointOfInterest (APIDemo)'
2023-05-12 07:45:26.189 +07:00 [INF] Route matched with {action = "CreatePointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[APIDemo.Models.PointOfInterestDTO]] CreatePointOfInterest(Int32, APIDemo.Models.PointOfInterestCreationDTO) on controller APIDemo.Controllers.PointOfInterestController (APIDemo).
2023-05-12 07:45:26.193 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-12 07:45:26.195 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-12 07:45:26.197 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-12 07:45:26.200 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-12 07:45:26.206 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-12 07:45:26.209 +07:00 [DBG] Executing controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 07:45:26.375 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-05-12 07:45:26.584 +07:00 [DBG] Executed controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 07:45:26.591 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-05-12 07:45:26.594 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-05-12 07:45:26.596 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 07:45:26.599 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 07:45:26.601 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-05-12 07:45:26.605 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-05-12 07:45:26.608 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO' ...
2023-05-12 07:45:26.610 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO' using the name '' in request data ...
2023-05-12 07:45:26.613 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-05-12 07:45:26.619 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-05-12 07:45:26.630 +07:00 [DBG] Connection id "0HMQIG8LM4IOQ", Request id "0HMQIG8LM4IOQ:00000002": started reading request body.
2023-05-12 07:45:26.632 +07:00 [DBG] Connection id "0HMQIG8LM4IOQ", Request id "0HMQIG8LM4IOQ:00000002": done reading request body.
2023-05-12 07:45:26.777 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO'.
2023-05-12 07:45:26.781 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO'.
2023-05-12 07:45:26.785 +07:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO' ...
2023-05-12 07:45:26.798 +07:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO'.
2023-05-12 07:45:27.796 +07:00 [INF] Entity Framework Core 6.0.16 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.16' with options: None
2023-05-12 07:45:27.864 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(item => item.Id == __cityId_0)'
2023-05-12 07:45:28.236 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        APIDemo.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-12 07:45:28.313 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 07:45:28.402 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (85ms).
2023-05-12 07:45:28.424 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 07:45:28.449 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 07:45:28.471 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 07:45:28.513 +07:00 [INF] Executed DbCommand (48ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 07:45:28.533 +07:00 [DBG] A data reader was disposed.
2023-05-12 07:45:28.544 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 07:45:28.557 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 07:45:28.577 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(item => item.Id == __cityId_0)
    .FirstOrDefault()'
2023-05-12 07:45:28.633 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(50), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        APIDemo.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-12 07:45:28.651 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 07:45:28.654 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-05-12 07:45:28.659 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 07:45:28.665 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 07:45:28.670 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-05-12 07:45:28.680 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-05-12 07:45:28.708 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 07:45:28.741 +07:00 [DBG] A data reader was disposed.
2023-05-12 07:45:28.744 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 07:45:28.750 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 07:45:28.788 +07:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'Id.PointOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 07:45:28.814 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 07:45:28.829 +07:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2023-05-12 07:45:28.837 +07:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2023-05-12 07:45:28.855 +07:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2023-05-12 07:45:28.880 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 07:45:28.881 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 07:45:28.887 +07:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-05-12 07:45:28.897 +07:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-05-12 07:45:28.964 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 07:45:28.968 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-05-12 07:45:28.974 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 62), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointOfInterests" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "PointOfInterests"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2023-05-12 07:45:28.992 +07:00 [ERR] Failed executing DbCommand (25ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 62), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointOfInterests" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "PointOfInterests"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2023-05-12 07:45:29.015 +07:00 [DBG] Disposing transaction.
2023-05-12 07:45:29.024 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 07:45:29.030 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 07:45:29.042 +07:00 [ERR] An exception occurred in the database while saving changes for context type 'APIDemo.DbContexts.CityInfoContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-05-12 07:45:29.202 +07:00 [INF] Executed action APIDemo.Controllers.PointOfInterestController.CreatePointOfInterest (APIDemo) in 2987.5877ms
2023-05-12 07:45:29.208 +07:00 [INF] Executed endpoint 'APIDemo.Controllers.PointOfInterestController.CreatePointOfInterest (APIDemo)'
2023-05-12 07:45:29.212 +07:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at APIDemo.Services.CityInfoRepository.SaveChangeAsync() in C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\Services\CityInfoRepository.cs:line 71
   at APIDemo.Controllers.PointOfInterestController.CreatePointOfInterest(Int32 cityId, PointOfInterestCreationDTO pointOfInterest) in C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\Controllers\PointOfInterestController.cs:line 104
   at lambda_method5(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-05-12 07:45:29.308 +07:00 [DBG] Connection id "0HMQIG8LM4IOQ" completed keep alive response.
2023-05-12 07:45:29.324 +07:00 [DBG] 'CityInfoContext' disposed.
2023-05-12 07:45:29.341 +07:00 [INF] Request finished HTTP/1.1 POST https://localhost:7269/api/cities/1/pointsofinterest application/json 117 - 500 - text/plain;+charset=utf-8 3206.8991ms
2023-05-12 07:48:36.503 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-05-12 07:48:36.622 +07:00 [DBG] Hosting starting
2023-05-12 07:48:36.761 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 75D11A6361D7470A96C9C9E8EC2F301CE14CF8DD)
2023-05-12 07:48:36.806 +07:00 [INF] Now listening on: https://localhost:7269
2023-05-12 07:48:36.807 +07:00 [INF] Now listening on: http://localhost:5078
2023-05-12 07:48:36.808 +07:00 [DBG] Loaded hosting startup assembly APIDemo
2023-05-12 07:48:36.810 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-05-12 07:48:36.811 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-05-12 07:48:36.812 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-12 07:48:36.814 +07:00 [INF] Hosting environment: Development
2023-05-12 07:48:36.815 +07:00 [INF] Content root path: C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\
2023-05-12 07:48:36.816 +07:00 [DBG] Hosting started
2023-05-12 07:48:37.095 +07:00 [DBG] Connection id "0HMQIGAFH13NB" received FIN.
2023-05-12 07:48:37.124 +07:00 [DBG] Connection id "0HMQIGAFH13NB" accepted.
2023-05-12 07:48:37.128 +07:00 [DBG] Connection id "0HMQIGAFH13NB" started.
2023-05-12 07:48:37.155 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-12 07:48:37.188 +07:00 [DBG] Connection id "0HMQIGAFH13NB" stopped.
2023-05-12 07:48:37.192 +07:00 [DBG] Connection id "0HMQIGAFH13NB" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-12 07:48:37.341 +07:00 [DBG] Connection id "0HMQIGAFH13NC" accepted.
2023-05-12 07:48:37.345 +07:00 [DBG] Connection id "0HMQIGAFH13NC" started.
2023-05-12 07:48:37.408 +07:00 [DBG] Connection 0HMQIGAFH13NC established using the following protocol: "Tls12"
2023-05-12 07:48:37.461 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/index.html - -
2023-05-12 07:48:37.495 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-05-12 07:48:37.520 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-05-12 07:48:37.522 +07:00 [DBG] Request did not match any endpoints
2023-05-12 07:48:37.637 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-05-12 07:48:37.809 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_vs/browserLink - -
2023-05-12 07:48:37.809 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - -
2023-05-12 07:48:37.825 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-05-12 07:48:37.828 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 18.4442ms
2023-05-12 07:48:37.830 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/index.html - - - 200 - text/html;charset=utf-8 372.4994ms
2023-05-12 07:48:37.841 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 32.0715ms
2023-05-12 07:48:37.934 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - -
2023-05-12 07:48:37.936 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-05-12 07:48:37.938 +07:00 [DBG] Request did not match any endpoints
2023-05-12 07:48:38.100 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 166.4047ms
2023-05-12 07:48:44.309 +07:00 [DBG] Connection id "0HMQIGAFH13ND" accepted.
2023-05-12 07:48:44.309 +07:00 [DBG] Connection id "0HMQIGAFH13ND" received FIN.
2023-05-12 07:48:44.310 +07:00 [DBG] Connection id "0HMQIGAFH13ND" started.
2023-05-12 07:48:44.311 +07:00 [DBG] Connection id "0HMQIGAFH13NE" accepted.
2023-05-12 07:48:44.315 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-12 07:48:44.316 +07:00 [DBG] Connection id "0HMQIGAFH13NE" started.
2023-05-12 07:48:44.321 +07:00 [DBG] Connection id "0HMQIGAFH13ND" stopped.
2023-05-12 07:48:44.324 +07:00 [DBG] Connection id "0HMQIGAFH13ND" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-12 07:48:44.328 +07:00 [DBG] Connection 0HMQIGAFH13NE established using the following protocol: "Tls12"
2023-05-12 07:48:44.338 +07:00 [INF] Request starting HTTP/1.1 POST https://localhost:7269/api/cities/1/pointsofinterest application/json 117
2023-05-12 07:48:44.349 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2023-05-12 07:48:44.354 +07:00 [DBG] Endpoint 'APIDemo.Controllers.PointOfInterestController.CreatePointOfInterest (APIDemo)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2023-05-12 07:48:44.359 +07:00 [DBG] Request matched endpoint 'APIDemo.Controllers.PointOfInterestController.CreatePointOfInterest (APIDemo)'
2023-05-12 07:48:44.363 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-12 07:48:44.369 +07:00 [INF] Executing endpoint 'APIDemo.Controllers.PointOfInterestController.CreatePointOfInterest (APIDemo)'
2023-05-12 07:48:44.404 +07:00 [INF] Route matched with {action = "CreatePointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[APIDemo.Models.PointOfInterestDTO]] CreatePointOfInterest(Int32, APIDemo.Models.PointOfInterestCreationDTO) on controller APIDemo.Controllers.PointOfInterestController (APIDemo).
2023-05-12 07:48:44.412 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-12 07:48:44.414 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-12 07:48:44.416 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-12 07:48:44.420 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-12 07:48:44.425 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-12 07:48:44.431 +07:00 [DBG] Executing controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 07:48:44.601 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-05-12 07:48:44.813 +07:00 [DBG] Executed controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 07:48:44.822 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-05-12 07:48:44.828 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-05-12 07:48:44.834 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 07:48:44.838 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 07:48:44.842 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-05-12 07:48:44.849 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-05-12 07:48:44.853 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO' ...
2023-05-12 07:48:44.858 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO' using the name '' in request data ...
2023-05-12 07:48:44.865 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-05-12 07:48:44.868 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-05-12 07:48:44.881 +07:00 [DBG] Connection id "0HMQIGAFH13NE", Request id "0HMQIGAFH13NE:00000002": started reading request body.
2023-05-12 07:48:44.885 +07:00 [DBG] Connection id "0HMQIGAFH13NE", Request id "0HMQIGAFH13NE:00000002": done reading request body.
2023-05-12 07:48:45.036 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO'.
2023-05-12 07:48:45.038 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO'.
2023-05-12 07:48:45.040 +07:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO' ...
2023-05-12 07:48:45.048 +07:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO'.
2023-05-12 07:48:46.074 +07:00 [INF] Entity Framework Core 6.0.16 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.16' with options: None
2023-05-12 07:48:46.137 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(item => item.Id == __cityId_0)'
2023-05-12 07:48:46.474 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        APIDemo.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-12 07:48:46.550 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 07:48:46.641 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (87ms).
2023-05-12 07:48:46.662 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 07:48:46.686 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 07:48:46.709 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 07:48:46.744 +07:00 [INF] Executed DbCommand (42ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 07:48:46.764 +07:00 [DBG] A data reader was disposed.
2023-05-12 07:48:46.776 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 07:48:46.787 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 07:48:59.983 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(item => item.Id == __cityId_0)
    .FirstOrDefault()'
2023-05-12 07:49:00.035 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(50), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        APIDemo.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-12 07:49:00.051 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 07:49:00.053 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-12 07:49:00.056 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 07:49:00.059 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 07:49:00.062 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-05-12 07:49:00.068 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-05-12 07:49:00.092 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 07:49:00.123 +07:00 [DBG] A data reader was disposed.
2023-05-12 07:49:00.126 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 07:49:00.131 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 07:49:00.171 +07:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'Id.PointOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 07:49:00.196 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 07:49:00.210 +07:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2023-05-12 07:49:00.216 +07:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2023-05-12 07:49:00.236 +07:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2023-05-12 07:49:00.264 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 07:49:00.265 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 07:49:00.272 +07:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-05-12 07:49:00.279 +07:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-05-12 07:49:00.349 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 07:49:00.351 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-12 07:49:00.353 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 62), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointOfInterests" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "PointOfInterests"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2023-05-12 07:49:00.364 +07:00 [ERR] Failed executing DbCommand (12ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 62), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointOfInterests" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "PointOfInterests"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2023-05-12 07:49:00.380 +07:00 [DBG] Disposing transaction.
2023-05-12 07:49:00.388 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 07:49:00.390 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 07:49:00.402 +07:00 [ERR] An exception occurred in the database while saving changes for context type 'APIDemo.DbContexts.CityInfoContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-05-12 07:49:00.525 +07:00 [INF] Executed action APIDemo.Controllers.PointOfInterestController.CreatePointOfInterest (APIDemo) in 16088.5664ms
2023-05-12 07:49:00.531 +07:00 [INF] Executed endpoint 'APIDemo.Controllers.PointOfInterestController.CreatePointOfInterest (APIDemo)'
2023-05-12 07:49:00.535 +07:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at APIDemo.Services.CityInfoRepository.SaveChangeAsync() in C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\Services\CityInfoRepository.cs:line 71
   at APIDemo.Controllers.PointOfInterestController.CreatePointOfInterest(Int32 cityId, PointOfInterestCreationDTO pointOfInterest) in C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\Controllers\PointOfInterestController.cs:line 104
   at lambda_method5(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-05-12 07:49:00.594 +07:00 [DBG] Connection id "0HMQIGAFH13NE" completed keep alive response.
2023-05-12 07:49:00.602 +07:00 [DBG] 'CityInfoContext' disposed.
2023-05-12 07:49:00.609 +07:00 [INF] Request finished HTTP/1.1 POST https://localhost:7269/api/cities/1/pointsofinterest application/json 117 - 500 - text/plain;+charset=utf-8 16270.2377ms
2023-05-12 07:49:13.430 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-05-12 07:49:13.554 +07:00 [DBG] Hosting starting
2023-05-12 07:49:13.684 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 75D11A6361D7470A96C9C9E8EC2F301CE14CF8DD)
2023-05-12 07:49:13.726 +07:00 [INF] Now listening on: https://localhost:7269
2023-05-12 07:49:13.727 +07:00 [INF] Now listening on: http://localhost:5078
2023-05-12 07:49:13.728 +07:00 [DBG] Loaded hosting startup assembly APIDemo
2023-05-12 07:49:13.729 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-05-12 07:49:13.730 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-05-12 07:49:13.731 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-12 07:49:13.733 +07:00 [INF] Hosting environment: Development
2023-05-12 07:49:13.734 +07:00 [INF] Content root path: C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\
2023-05-12 07:49:13.734 +07:00 [DBG] Hosting started
2023-05-12 07:49:13.752 +07:00 [DBG] Connection id "0HMQIGAQEJAFC" accepted.
2023-05-12 07:49:13.757 +07:00 [DBG] Connection id "0HMQIGAQEJAFD" accepted.
2023-05-12 07:49:13.759 +07:00 [DBG] Connection id "0HMQIGAQEJAFC" started.
2023-05-12 07:49:13.760 +07:00 [DBG] Connection id "0HMQIGAQEJAFD" started.
2023-05-12 07:49:13.778 +07:00 [DBG] Connection id "0HMQIGAQEJAFD" received FIN.
2023-05-12 07:49:13.778 +07:00 [DBG] Connection id "0HMQIGAQEJAFC" received FIN.
2023-05-12 07:49:13.808 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-12 07:49:13.808 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-12 07:49:13.851 +07:00 [DBG] Connection id "0HMQIGAQEJAFD" stopped.
2023-05-12 07:49:13.851 +07:00 [DBG] Connection id "0HMQIGAQEJAFC" stopped.
2023-05-12 07:49:13.854 +07:00 [DBG] Connection id "0HMQIGAQEJAFD" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-12 07:49:13.854 +07:00 [DBG] Connection id "0HMQIGAQEJAFC" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-12 07:49:14.019 +07:00 [DBG] Connection id "0HMQIGAQEJAFE" accepted.
2023-05-12 07:49:14.025 +07:00 [DBG] Connection id "0HMQIGAQEJAFE" started.
2023-05-12 07:49:14.085 +07:00 [DBG] Connection 0HMQIGAQEJAFE established using the following protocol: "Tls12"
2023-05-12 07:49:14.156 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/index.html - -
2023-05-12 07:49:14.195 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-05-12 07:49:14.220 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-05-12 07:49:14.222 +07:00 [DBG] Request did not match any endpoints
2023-05-12 07:49:14.332 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-05-12 07:49:14.486 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - -
2023-05-12 07:49:14.486 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_vs/browserLink - -
2023-05-12 07:49:14.491 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-05-12 07:49:14.500 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 12.6543ms
2023-05-12 07:49:14.500 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/index.html - - - 200 - text/html;charset=utf-8 350.1461ms
2023-05-12 07:49:14.513 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 26.4920ms
2023-05-12 07:49:14.619 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - -
2023-05-12 07:49:14.621 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-05-12 07:49:14.623 +07:00 [DBG] Request did not match any endpoints
2023-05-12 07:49:14.802 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 182.6386ms
2023-05-12 07:49:16.920 +07:00 [DBG] Connection id "0HMQIGAQEJAFF" accepted.
2023-05-12 07:49:16.920 +07:00 [DBG] Connection id "0HMQIGAQEJAFF" received FIN.
2023-05-12 07:49:16.922 +07:00 [DBG] Connection id "0HMQIGAQEJAFF" started.
2023-05-12 07:49:16.922 +07:00 [DBG] Connection id "0HMQIGAQEJAFG" accepted.
2023-05-12 07:49:16.925 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-12 07:49:16.926 +07:00 [DBG] Connection id "0HMQIGAQEJAFG" started.
2023-05-12 07:49:16.931 +07:00 [DBG] Connection id "0HMQIGAQEJAFF" stopped.
2023-05-12 07:49:16.933 +07:00 [DBG] Connection id "0HMQIGAQEJAFF" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-12 07:49:16.938 +07:00 [DBG] Connection 0HMQIGAQEJAFG established using the following protocol: "Tls12"
2023-05-12 07:49:16.949 +07:00 [INF] Request starting HTTP/1.1 POST https://localhost:7269/api/cities/1/pointsofinterest application/json 117
2023-05-12 07:49:16.959 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2023-05-12 07:49:16.964 +07:00 [DBG] Endpoint 'APIDemo.Controllers.PointOfInterestController.CreatePointOfInterest (APIDemo)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2023-05-12 07:49:16.966 +07:00 [DBG] Request matched endpoint 'APIDemo.Controllers.PointOfInterestController.CreatePointOfInterest (APIDemo)'
2023-05-12 07:49:16.968 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-12 07:49:16.973 +07:00 [INF] Executing endpoint 'APIDemo.Controllers.PointOfInterestController.CreatePointOfInterest (APIDemo)'
2023-05-12 07:49:17.004 +07:00 [INF] Route matched with {action = "CreatePointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[APIDemo.Models.PointOfInterestDTO]] CreatePointOfInterest(Int32, APIDemo.Models.PointOfInterestCreationDTO) on controller APIDemo.Controllers.PointOfInterestController (APIDemo).
2023-05-12 07:49:17.007 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-12 07:49:17.009 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-12 07:49:17.011 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-12 07:49:17.015 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-12 07:49:17.018 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-12 07:49:17.022 +07:00 [DBG] Executing controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 07:49:17.190 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-05-12 07:49:17.427 +07:00 [DBG] Executed controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 07:49:17.434 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-05-12 07:49:17.439 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-05-12 07:49:17.443 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 07:49:17.445 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 07:49:17.448 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-05-12 07:49:17.452 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-05-12 07:49:17.457 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO' ...
2023-05-12 07:49:17.460 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO' using the name '' in request data ...
2023-05-12 07:49:17.467 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-05-12 07:49:17.472 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-05-12 07:49:17.487 +07:00 [DBG] Connection id "0HMQIGAQEJAFG", Request id "0HMQIGAQEJAFG:00000002": started reading request body.
2023-05-12 07:49:17.490 +07:00 [DBG] Connection id "0HMQIGAQEJAFG", Request id "0HMQIGAQEJAFG:00000002": done reading request body.
2023-05-12 07:49:17.633 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO'.
2023-05-12 07:49:17.635 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO'.
2023-05-12 07:49:17.637 +07:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO' ...
2023-05-12 07:49:17.645 +07:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO'.
2023-05-12 07:49:18.667 +07:00 [INF] Entity Framework Core 6.0.16 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.16' with options: None
2023-05-12 07:49:18.737 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(item => item.Id == __cityId_0)'
2023-05-12 07:49:19.075 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        APIDemo.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-12 07:49:19.176 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 07:49:19.261 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (83ms).
2023-05-12 07:49:19.282 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 07:49:19.306 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 07:49:19.327 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 07:49:19.368 +07:00 [INF] Executed DbCommand (47ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 07:49:19.385 +07:00 [DBG] A data reader was disposed.
2023-05-12 07:49:19.397 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 07:49:19.409 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 07:52:42.457 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-05-12 07:52:42.567 +07:00 [DBG] Hosting starting
2023-05-12 07:52:42.709 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 75D11A6361D7470A96C9C9E8EC2F301CE14CF8DD)
2023-05-12 07:52:42.750 +07:00 [INF] Now listening on: https://localhost:7269
2023-05-12 07:52:42.751 +07:00 [INF] Now listening on: http://localhost:5078
2023-05-12 07:52:42.752 +07:00 [DBG] Loaded hosting startup assembly APIDemo
2023-05-12 07:52:42.754 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-05-12 07:52:42.755 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-05-12 07:52:42.756 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-12 07:52:42.758 +07:00 [INF] Hosting environment: Development
2023-05-12 07:52:42.759 +07:00 [INF] Content root path: C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\
2023-05-12 07:52:42.761 +07:00 [DBG] Hosting started
2023-05-12 07:52:43.106 +07:00 [DBG] Connection id "0HMQIGCOR61IF" received FIN.
2023-05-12 07:52:43.144 +07:00 [DBG] Connection id "0HMQIGCOR61IF" accepted.
2023-05-12 07:52:43.149 +07:00 [DBG] Connection id "0HMQIGCOR61IF" started.
2023-05-12 07:52:43.176 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-12 07:52:43.210 +07:00 [DBG] Connection id "0HMQIGCOR61IF" stopped.
2023-05-12 07:52:43.215 +07:00 [DBG] Connection id "0HMQIGCOR61IF" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-12 07:52:43.383 +07:00 [DBG] Connection id "0HMQIGCOR61IG" accepted.
2023-05-12 07:52:43.384 +07:00 [DBG] Connection id "0HMQIGCOR61IG" started.
2023-05-12 07:52:43.438 +07:00 [DBG] Connection 0HMQIGCOR61IG established using the following protocol: "Tls12"
2023-05-12 07:52:43.495 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/index.html - -
2023-05-12 07:52:43.530 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-05-12 07:52:43.553 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-05-12 07:52:43.555 +07:00 [DBG] Request did not match any endpoints
2023-05-12 07:52:43.662 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-05-12 07:52:43.818 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_vs/browserLink - -
2023-05-12 07:52:43.818 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - -
2023-05-12 07:52:43.826 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-05-12 07:52:43.849 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 31.1647ms
2023-05-12 07:52:43.849 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/index.html - - - 200 - text/html;charset=utf-8 358.8657ms
2023-05-12 07:52:43.862 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 44.2638ms
2023-05-12 07:52:43.947 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - -
2023-05-12 07:52:43.949 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-05-12 07:52:43.950 +07:00 [DBG] Request did not match any endpoints
2023-05-12 07:52:44.118 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 171.3290ms
2023-05-12 07:53:09.974 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-05-12 07:53:10.092 +07:00 [DBG] Hosting starting
2023-05-12 07:53:10.233 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 75D11A6361D7470A96C9C9E8EC2F301CE14CF8DD)
2023-05-12 07:53:10.277 +07:00 [INF] Now listening on: https://localhost:7269
2023-05-12 07:53:10.278 +07:00 [INF] Now listening on: http://localhost:5078
2023-05-12 07:53:10.279 +07:00 [DBG] Loaded hosting startup assembly APIDemo
2023-05-12 07:53:10.281 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-05-12 07:53:10.283 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-05-12 07:53:10.286 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-12 07:53:10.290 +07:00 [INF] Hosting environment: Development
2023-05-12 07:53:10.292 +07:00 [INF] Content root path: C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\
2023-05-12 07:53:10.296 +07:00 [DBG] Hosting started
2023-05-12 07:53:10.663 +07:00 [DBG] Connection id "0HMQIGD11VGDB" received FIN.
2023-05-12 07:53:10.666 +07:00 [DBG] Connection id "0HMQIGD11VGDC" received FIN.
2023-05-12 07:53:10.680 +07:00 [DBG] Connection id "0HMQIGD11VGDC" accepted.
2023-05-12 07:53:10.680 +07:00 [DBG] Connection id "0HMQIGD11VGDB" accepted.
2023-05-12 07:53:10.685 +07:00 [DBG] Connection id "0HMQIGD11VGDC" started.
2023-05-12 07:53:10.685 +07:00 [DBG] Connection id "0HMQIGD11VGDB" started.
2023-05-12 07:53:10.709 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-12 07:53:10.709 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-12 07:53:10.751 +07:00 [DBG] Connection id "0HMQIGD11VGDC" stopped.
2023-05-12 07:53:10.751 +07:00 [DBG] Connection id "0HMQIGD11VGDB" stopped.
2023-05-12 07:53:10.756 +07:00 [DBG] Connection id "0HMQIGD11VGDC" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-12 07:53:10.756 +07:00 [DBG] Connection id "0HMQIGD11VGDB" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-12 07:53:10.923 +07:00 [DBG] Connection id "0HMQIGD11VGDD" accepted.
2023-05-12 07:53:10.925 +07:00 [DBG] Connection id "0HMQIGD11VGDD" started.
2023-05-12 07:53:10.982 +07:00 [DBG] Connection 0HMQIGD11VGDD established using the following protocol: "Tls12"
2023-05-12 07:53:11.035 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/index.html - -
2023-05-12 07:53:11.068 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-05-12 07:53:11.092 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-05-12 07:53:11.096 +07:00 [DBG] Request did not match any endpoints
2023-05-12 07:53:11.237 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-05-12 07:53:11.401 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_vs/browserLink - -
2023-05-12 07:53:11.401 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - -
2023-05-12 07:53:11.415 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-05-12 07:53:11.420 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 19.1321ms
2023-05-12 07:53:11.421 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/index.html - - - 200 - text/html;charset=utf-8 390.7915ms
2023-05-12 07:53:11.433 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 31.7863ms
2023-05-12 07:53:11.531 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - -
2023-05-12 07:53:11.533 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-05-12 07:53:11.535 +07:00 [DBG] Request did not match any endpoints
2023-05-12 07:53:11.694 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 162.5163ms
2023-05-12 07:53:17.489 +07:00 [DBG] Connection id "0HMQIGD11VGDE" accepted.
2023-05-12 07:53:17.490 +07:00 [DBG] Connection id "0HMQIGD11VGDE" received FIN.
2023-05-12 07:53:17.491 +07:00 [DBG] Connection id "0HMQIGD11VGDE" started.
2023-05-12 07:53:17.491 +07:00 [DBG] Connection id "0HMQIGD11VGDF" accepted.
2023-05-12 07:53:17.494 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-12 07:53:17.495 +07:00 [DBG] Connection id "0HMQIGD11VGDF" started.
2023-05-12 07:53:17.499 +07:00 [DBG] Connection id "0HMQIGD11VGDE" stopped.
2023-05-12 07:53:17.502 +07:00 [DBG] Connection id "0HMQIGD11VGDE" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-12 07:53:17.511 +07:00 [DBG] Connection 0HMQIGD11VGDF established using the following protocol: "Tls12"
2023-05-12 07:53:17.521 +07:00 [INF] Request starting HTTP/1.1 POST https://localhost:7269/api/cities/1/pointsofinterest application/json 117
2023-05-12 07:53:17.531 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2023-05-12 07:53:17.537 +07:00 [DBG] Endpoint 'APIDemo.Controllers.PointOfInterestController.CreatePointOfInterest (APIDemo)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2023-05-12 07:53:17.540 +07:00 [DBG] Request matched endpoint 'APIDemo.Controllers.PointOfInterestController.CreatePointOfInterest (APIDemo)'
2023-05-12 07:53:17.544 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-12 07:53:17.548 +07:00 [INF] Executing endpoint 'APIDemo.Controllers.PointOfInterestController.CreatePointOfInterest (APIDemo)'
2023-05-12 07:53:17.580 +07:00 [INF] Route matched with {action = "CreatePointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[APIDemo.Models.PointOfInterestDTO]] CreatePointOfInterest(Int32, APIDemo.Models.PointOfInterestCreationDTO) on controller APIDemo.Controllers.PointOfInterestController (APIDemo).
2023-05-12 07:53:17.584 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-12 07:53:17.588 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-12 07:53:17.591 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-12 07:53:17.594 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-12 07:53:17.596 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-12 07:53:17.598 +07:00 [DBG] Executing controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 07:53:17.762 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-05-12 07:53:17.970 +07:00 [DBG] Executed controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 07:53:17.977 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-05-12 07:53:17.982 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-05-12 07:53:17.987 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 07:53:17.990 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 07:53:17.993 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-05-12 07:53:17.999 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-05-12 07:53:18.006 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO' ...
2023-05-12 07:53:18.012 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO' using the name '' in request data ...
2023-05-12 07:53:18.019 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-05-12 07:53:18.024 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-05-12 07:53:18.050 +07:00 [DBG] Connection id "0HMQIGD11VGDF", Request id "0HMQIGD11VGDF:00000002": started reading request body.
2023-05-12 07:53:18.056 +07:00 [DBG] Connection id "0HMQIGD11VGDF", Request id "0HMQIGD11VGDF:00000002": done reading request body.
2023-05-12 07:53:18.214 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO'.
2023-05-12 07:53:18.215 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO'.
2023-05-12 07:53:18.217 +07:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO' ...
2023-05-12 07:53:18.225 +07:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO'.
2023-05-12 07:53:19.303 +07:00 [INF] Entity Framework Core 6.0.16 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.16' with options: None
2023-05-12 07:53:19.372 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(item => item.Id == __cityId_0)'
2023-05-12 07:53:19.723 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        APIDemo.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-12 07:53:19.813 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 07:53:19.896 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (78ms).
2023-05-12 07:53:19.918 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 07:53:19.942 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 07:53:19.964 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 07:53:20.002 +07:00 [INF] Executed DbCommand (45ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 07:53:20.023 +07:00 [DBG] A data reader was disposed.
2023-05-12 07:53:20.036 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 07:53:20.048 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 07:53:27.146 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(item => item.Id == __cityId_0)
    .FirstOrDefault()'
2023-05-12 07:53:27.206 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(50), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        APIDemo.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-12 07:53:27.223 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 07:53:27.224 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-12 07:53:27.226 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 07:53:27.228 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 07:53:27.230 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-05-12 07:53:27.233 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-05-12 07:53:27.259 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 07:53:27.291 +07:00 [DBG] A data reader was disposed.
2023-05-12 07:53:27.292 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 07:53:27.294 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 07:53:27.332 +07:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'Id.PointOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 07:53:27.356 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 07:57:04.995 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-05-12 07:57:05.110 +07:00 [DBG] Hosting starting
2023-05-12 07:57:05.249 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 75D11A6361D7470A96C9C9E8EC2F301CE14CF8DD)
2023-05-12 07:57:05.290 +07:00 [INF] Now listening on: https://localhost:7269
2023-05-12 07:57:05.292 +07:00 [INF] Now listening on: http://localhost:5078
2023-05-12 07:57:05.294 +07:00 [DBG] Loaded hosting startup assembly APIDemo
2023-05-12 07:57:05.296 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-05-12 07:57:05.298 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-05-12 07:57:05.301 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-12 07:57:05.304 +07:00 [INF] Hosting environment: Development
2023-05-12 07:57:05.306 +07:00 [INF] Content root path: C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\
2023-05-12 07:57:05.309 +07:00 [DBG] Hosting started
2023-05-12 07:57:05.658 +07:00 [DBG] Connection id "0HMQIGF7323N5" received FIN.
2023-05-12 07:57:05.658 +07:00 [DBG] Connection id "0HMQIGF7323N4" received FIN.
2023-05-12 07:57:05.702 +07:00 [DBG] Connection id "0HMQIGF7323N4" accepted.
2023-05-12 07:57:05.702 +07:00 [DBG] Connection id "0HMQIGF7323N5" accepted.
2023-05-12 07:57:05.706 +07:00 [DBG] Connection id "0HMQIGF7323N4" started.
2023-05-12 07:57:05.707 +07:00 [DBG] Connection id "0HMQIGF7323N5" started.
2023-05-12 07:57:05.737 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-12 07:57:05.737 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-12 07:57:05.775 +07:00 [DBG] Connection id "0HMQIGF7323N5" stopped.
2023-05-12 07:57:05.775 +07:00 [DBG] Connection id "0HMQIGF7323N4" stopped.
2023-05-12 07:57:05.780 +07:00 [DBG] Connection id "0HMQIGF7323N5" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-12 07:57:05.780 +07:00 [DBG] Connection id "0HMQIGF7323N4" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-12 07:57:05.957 +07:00 [DBG] Connection id "0HMQIGF7323N6" accepted.
2023-05-12 07:57:05.961 +07:00 [DBG] Connection id "0HMQIGF7323N6" started.
2023-05-12 07:57:06.016 +07:00 [DBG] Connection 0HMQIGF7323N6 established using the following protocol: "Tls12"
2023-05-12 07:57:06.072 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/index.html - -
2023-05-12 07:57:06.110 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-05-12 07:57:06.139 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-05-12 07:57:06.142 +07:00 [DBG] Request did not match any endpoints
2023-05-12 07:57:06.259 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-05-12 07:57:06.405 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_vs/browserLink - -
2023-05-12 07:57:06.405 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - -
2023-05-12 07:57:06.419 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-05-12 07:57:06.421 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 15.0801ms
2023-05-12 07:57:06.423 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/index.html - - - 200 - text/html;charset=utf-8 354.9561ms
2023-05-12 07:57:06.436 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 30.5079ms
2023-05-12 07:57:06.523 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - -
2023-05-12 07:57:06.524 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-05-12 07:57:06.526 +07:00 [DBG] Request did not match any endpoints
2023-05-12 07:57:06.693 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 170.0445ms
2023-05-12 07:57:32.116 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-05-12 07:57:32.222 +07:00 [DBG] Hosting starting
2023-05-12 07:57:32.363 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 75D11A6361D7470A96C9C9E8EC2F301CE14CF8DD)
2023-05-12 07:57:32.412 +07:00 [INF] Now listening on: https://localhost:7269
2023-05-12 07:57:32.414 +07:00 [INF] Now listening on: http://localhost:5078
2023-05-12 07:57:32.415 +07:00 [DBG] Loaded hosting startup assembly APIDemo
2023-05-12 07:57:32.417 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-05-12 07:57:32.419 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-05-12 07:57:32.422 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-12 07:57:32.426 +07:00 [INF] Hosting environment: Development
2023-05-12 07:57:32.429 +07:00 [INF] Content root path: C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\
2023-05-12 07:57:32.432 +07:00 [DBG] Hosting started
2023-05-12 07:57:32.815 +07:00 [DBG] Connection id "0HMQIGFF620ER" received FIN.
2023-05-12 07:57:32.826 +07:00 [DBG] Connection id "0HMQIGFF620ER" accepted.
2023-05-12 07:57:32.830 +07:00 [DBG] Connection id "0HMQIGFF620ER" started.
2023-05-12 07:57:32.848 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-12 07:57:32.884 +07:00 [DBG] Connection id "0HMQIGFF620ER" stopped.
2023-05-12 07:57:32.890 +07:00 [DBG] Connection id "0HMQIGFF620ER" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-12 07:57:33.046 +07:00 [DBG] Connection id "0HMQIGFF620ES" accepted.
2023-05-12 07:57:33.047 +07:00 [DBG] Connection id "0HMQIGFF620ES" started.
2023-05-12 07:57:33.097 +07:00 [DBG] Connection 0HMQIGFF620ES established using the following protocol: "Tls12"
2023-05-12 07:57:33.152 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/index.html - -
2023-05-12 07:57:33.187 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-05-12 07:57:33.212 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-05-12 07:57:33.215 +07:00 [DBG] Request did not match any endpoints
2023-05-12 07:57:33.344 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-05-12 07:57:33.495 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - -
2023-05-12 07:57:33.495 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_vs/browserLink - -
2023-05-12 07:57:33.501 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-05-12 07:57:33.509 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 13.3358ms
2023-05-12 07:57:33.509 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/index.html - - - 200 - text/html;charset=utf-8 362.6720ms
2023-05-12 07:57:33.523 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 27.7068ms
2023-05-12 07:57:33.614 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - -
2023-05-12 07:57:33.616 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-05-12 07:57:33.617 +07:00 [DBG] Request did not match any endpoints
2023-05-12 07:57:33.787 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 172.8759ms
2023-05-12 07:57:38.095 +07:00 [DBG] Connection id "0HMQIGFF620ET" accepted.
2023-05-12 07:57:38.096 +07:00 [DBG] Connection id "0HMQIGFF620ET" received FIN.
2023-05-12 07:57:38.098 +07:00 [DBG] Connection id "0HMQIGFF620ET" started.
2023-05-12 07:57:38.099 +07:00 [DBG] Connection id "0HMQIGFF620EU" accepted.
2023-05-12 07:57:38.107 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-12 07:57:38.110 +07:00 [DBG] Connection id "0HMQIGFF620EU" started.
2023-05-12 07:57:38.117 +07:00 [DBG] Connection id "0HMQIGFF620ET" stopped.
2023-05-12 07:57:38.122 +07:00 [DBG] Connection id "0HMQIGFF620ET" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-12 07:57:38.131 +07:00 [DBG] Connection 0HMQIGFF620EU established using the following protocol: "Tls12"
2023-05-12 07:57:38.144 +07:00 [INF] Request starting HTTP/1.1 POST https://localhost:7269/api/cities/1/pointsofinterest application/json 117
2023-05-12 07:57:38.156 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2023-05-12 07:57:38.161 +07:00 [DBG] Endpoint 'APIDemo.Controllers.PointOfInterestController.CreatePointOfInterest (APIDemo)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2023-05-12 07:57:38.165 +07:00 [DBG] Request matched endpoint 'APIDemo.Controllers.PointOfInterestController.CreatePointOfInterest (APIDemo)'
2023-05-12 07:57:38.171 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-12 07:57:38.176 +07:00 [INF] Executing endpoint 'APIDemo.Controllers.PointOfInterestController.CreatePointOfInterest (APIDemo)'
2023-05-12 07:57:38.211 +07:00 [INF] Route matched with {action = "CreatePointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[APIDemo.Models.PointOfInterestDTO]] CreatePointOfInterest(Int32, APIDemo.Models.PointOfInterestCreationDTO) on controller APIDemo.Controllers.PointOfInterestController (APIDemo).
2023-05-12 07:57:38.215 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-12 07:57:38.217 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-12 07:57:38.219 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-12 07:57:38.222 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-12 07:57:38.224 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-12 07:57:38.226 +07:00 [DBG] Executing controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 07:57:38.382 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-05-12 07:57:38.592 +07:00 [DBG] Executed controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 07:57:38.599 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-05-12 07:57:38.603 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-05-12 07:57:38.607 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 07:57:38.608 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 07:57:38.610 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-05-12 07:57:38.613 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-05-12 07:57:38.616 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO' ...
2023-05-12 07:57:38.619 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO' using the name '' in request data ...
2023-05-12 07:57:38.622 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-05-12 07:57:38.625 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-05-12 07:57:38.638 +07:00 [DBG] Connection id "0HMQIGFF620EU", Request id "0HMQIGFF620EU:00000002": started reading request body.
2023-05-12 07:57:38.640 +07:00 [DBG] Connection id "0HMQIGFF620EU", Request id "0HMQIGFF620EU:00000002": done reading request body.
2023-05-12 07:57:38.781 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO'.
2023-05-12 07:57:38.785 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO'.
2023-05-12 07:57:38.789 +07:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO' ...
2023-05-12 07:57:38.803 +07:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO'.
2023-05-12 07:57:39.856 +07:00 [INF] Entity Framework Core 6.0.16 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.16' with options: None
2023-05-12 07:57:39.923 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(item => item.Id == __cityId_0)'
2023-05-12 07:57:40.262 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        APIDemo.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-12 07:57:40.339 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 07:57:40.427 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (85ms).
2023-05-12 07:57:40.445 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 07:57:40.466 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 07:57:40.486 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 07:57:40.524 +07:00 [INF] Executed DbCommand (44ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 07:57:40.545 +07:00 [DBG] A data reader was disposed.
2023-05-12 07:57:40.557 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 07:57:40.569 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 07:57:40.588 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(item => item.Id == __cityId_0)
    .FirstOrDefault()'
2023-05-12 07:57:40.637 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(50), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        APIDemo.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-12 07:57:40.656 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 07:57:40.660 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2023-05-12 07:57:40.666 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 07:57:40.670 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 07:57:40.675 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-05-12 07:57:40.683 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-05-12 07:57:40.709 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 07:57:40.741 +07:00 [DBG] A data reader was disposed.
2023-05-12 07:57:40.744 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 07:57:40.750 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 07:57:40.833 +07:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'Id.PointOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 07:57:40.873 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 07:57:40.885 +07:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2023-05-12 07:57:40.890 +07:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2023-05-12 07:57:40.908 +07:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2023-05-12 07:57:40.933 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 07:57:40.935 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 07:57:40.940 +07:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-05-12 07:57:40.947 +07:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-05-12 07:57:41.011 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 07:57:41.014 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-05-12 07:57:41.020 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 62), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointOfInterests" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "PointOfInterests"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2023-05-12 07:57:41.034 +07:00 [ERR] Failed executing DbCommand (21ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 62), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointOfInterests" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "PointOfInterests"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2023-05-12 07:57:41.067 +07:00 [DBG] Disposing transaction.
2023-05-12 07:57:41.080 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 07:57:41.084 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 07:57:41.098 +07:00 [ERR] An exception occurred in the database while saving changes for context type 'APIDemo.DbContexts.CityInfoContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-05-12 07:57:41.262 +07:00 [INF] Executed action APIDemo.Controllers.PointOfInterestController.CreatePointOfInterest (APIDemo) in 3031.2793ms
2023-05-12 07:57:41.269 +07:00 [INF] Executed endpoint 'APIDemo.Controllers.PointOfInterestController.CreatePointOfInterest (APIDemo)'
2023-05-12 07:57:41.274 +07:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at APIDemo.Services.CityInfoRepository.SaveChangeAsync() in C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\Services\CityInfoRepository.cs:line 71
   at APIDemo.Controllers.PointOfInterestController.CreatePointOfInterest(Int32 cityId, PointOfInterestCreationDTO pointOfInterest) in C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\Controllers\PointOfInterestController.cs:line 103
   at lambda_method5(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-05-12 07:57:41.333 +07:00 [DBG] Connection id "0HMQIGFF620EU" completed keep alive response.
2023-05-12 07:57:41.340 +07:00 [DBG] 'CityInfoContext' disposed.
2023-05-12 07:57:41.348 +07:00 [INF] Request finished HTTP/1.1 POST https://localhost:7269/api/cities/1/pointsofinterest application/json 117 - 500 - text/plain;+charset=utf-8 3203.9211ms
2023-05-12 08:02:06.091 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-05-12 08:02:06.211 +07:00 [DBG] Hosting starting
2023-05-12 08:02:06.356 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 75D11A6361D7470A96C9C9E8EC2F301CE14CF8DD)
2023-05-12 08:02:06.405 +07:00 [INF] Now listening on: https://localhost:7269
2023-05-12 08:02:06.406 +07:00 [INF] Now listening on: http://localhost:5078
2023-05-12 08:02:06.408 +07:00 [DBG] Loaded hosting startup assembly APIDemo
2023-05-12 08:02:06.409 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-05-12 08:02:06.410 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-05-12 08:02:06.412 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-12 08:02:06.414 +07:00 [INF] Hosting environment: Development
2023-05-12 08:02:06.415 +07:00 [INF] Content root path: C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\
2023-05-12 08:02:06.418 +07:00 [DBG] Hosting started
2023-05-12 08:02:06.735 +07:00 [DBG] Connection id "0HMQIGI0QBOJG" received FIN.
2023-05-12 08:02:06.746 +07:00 [DBG] Connection id "0HMQIGI0QBOJG" accepted.
2023-05-12 08:02:06.749 +07:00 [DBG] Connection id "0HMQIGI0QBOJG" started.
2023-05-12 08:02:06.767 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-12 08:02:06.805 +07:00 [DBG] Connection id "0HMQIGI0QBOJG" stopped.
2023-05-12 08:02:06.812 +07:00 [DBG] Connection id "0HMQIGI0QBOJG" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-12 08:02:06.967 +07:00 [DBG] Connection id "0HMQIGI0QBOJH" accepted.
2023-05-12 08:02:06.969 +07:00 [DBG] Connection id "0HMQIGI0QBOJH" started.
2023-05-12 08:02:07.034 +07:00 [DBG] Connection 0HMQIGI0QBOJH established using the following protocol: "Tls12"
2023-05-12 08:02:07.088 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/index.html - -
2023-05-12 08:02:07.141 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-05-12 08:02:07.167 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-05-12 08:02:07.169 +07:00 [DBG] Request did not match any endpoints
2023-05-12 08:02:07.281 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-05-12 08:02:07.438 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_vs/browserLink - -
2023-05-12 08:02:07.438 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - -
2023-05-12 08:02:07.448 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-05-12 08:02:07.453 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 15.2370ms
2023-05-12 08:02:07.454 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/index.html - - - 200 - text/html;charset=utf-8 370.4794ms
2023-05-12 08:02:07.463 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 25.5600ms
2023-05-12 08:02:07.569 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - -
2023-05-12 08:02:07.571 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-05-12 08:02:07.573 +07:00 [DBG] Request did not match any endpoints
2023-05-12 08:02:07.746 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 176.2932ms
2023-05-12 08:02:10.385 +07:00 [DBG] Connection id "0HMQIGI0QBOJI" accepted.
2023-05-12 08:02:10.387 +07:00 [DBG] Connection id "0HMQIGI0QBOJI" received FIN.
2023-05-12 08:02:10.387 +07:00 [DBG] Connection id "0HMQIGI0QBOJI" started.
2023-05-12 08:02:10.387 +07:00 [DBG] Connection id "0HMQIGI0QBOJJ" accepted.
2023-05-12 08:02:10.391 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-12 08:02:10.392 +07:00 [DBG] Connection id "0HMQIGI0QBOJJ" started.
2023-05-12 08:02:10.398 +07:00 [DBG] Connection id "0HMQIGI0QBOJI" stopped.
2023-05-12 08:02:10.401 +07:00 [DBG] Connection id "0HMQIGI0QBOJI" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-12 08:02:10.404 +07:00 [DBG] Connection 0HMQIGI0QBOJJ established using the following protocol: "Tls12"
2023-05-12 08:02:10.415 +07:00 [INF] Request starting HTTP/1.1 POST https://localhost:7269/api/cities/1/pointsofinterest application/json 117
2023-05-12 08:02:10.427 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2023-05-12 08:02:10.433 +07:00 [DBG] Endpoint 'APIDemo.Controllers.PointOfInterestController.CreatePointOfInterest (APIDemo)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2023-05-12 08:02:10.438 +07:00 [DBG] Request matched endpoint 'APIDemo.Controllers.PointOfInterestController.CreatePointOfInterest (APIDemo)'
2023-05-12 08:02:10.445 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-12 08:02:10.450 +07:00 [INF] Executing endpoint 'APIDemo.Controllers.PointOfInterestController.CreatePointOfInterest (APIDemo)'
2023-05-12 08:02:10.484 +07:00 [INF] Route matched with {action = "CreatePointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[APIDemo.Models.PointOfInterestDTO]] CreatePointOfInterest(Int32, APIDemo.Models.PointOfInterestCreationDTO) on controller APIDemo.Controllers.PointOfInterestController (APIDemo).
2023-05-12 08:02:10.490 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-12 08:02:10.492 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-12 08:02:10.495 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-12 08:02:10.505 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-12 08:02:10.511 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-12 08:02:10.516 +07:00 [DBG] Executing controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 08:02:10.685 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-05-12 08:02:10.897 +07:00 [DBG] Executed controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 08:02:10.906 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-05-12 08:02:10.910 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-05-12 08:02:10.915 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 08:02:10.918 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 08:02:10.920 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-05-12 08:02:10.924 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-05-12 08:02:10.930 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO' ...
2023-05-12 08:02:10.935 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO' using the name '' in request data ...
2023-05-12 08:02:10.940 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-05-12 08:02:10.944 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-05-12 08:02:10.959 +07:00 [DBG] Connection id "0HMQIGI0QBOJJ", Request id "0HMQIGI0QBOJJ:00000002": started reading request body.
2023-05-12 08:02:10.966 +07:00 [DBG] Connection id "0HMQIGI0QBOJJ", Request id "0HMQIGI0QBOJJ:00000002": done reading request body.
2023-05-12 08:02:11.138 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO'.
2023-05-12 08:02:11.140 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO'.
2023-05-12 08:02:11.142 +07:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO' ...
2023-05-12 08:02:11.152 +07:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO'.
2023-05-12 08:02:12.242 +07:00 [INF] Entity Framework Core 6.0.16 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.16' with options: None
2023-05-12 08:02:12.332 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(item => item.Id == __cityId_0)'
2023-05-12 08:02:12.685 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        APIDemo.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-12 08:02:12.759 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 08:02:12.837 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (73ms).
2023-05-12 08:02:12.859 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 08:02:12.890 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 08:02:12.915 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 08:02:12.967 +07:00 [INF] Executed DbCommand (54ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 08:02:12.988 +07:00 [DBG] A data reader was disposed.
2023-05-12 08:02:13.001 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 08:02:13.013 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 08:02:13.030 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(item => item.Id == __cityId_0)
    .FirstOrDefault()'
2023-05-12 08:02:13.079 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(50), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        APIDemo.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-12 08:02:13.096 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 08:02:13.100 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-05-12 08:02:13.102 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 08:02:13.104 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 08:02:13.107 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-05-12 08:02:13.114 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-05-12 08:02:13.139 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 08:02:13.167 +07:00 [DBG] A data reader was disposed.
2023-05-12 08:02:13.169 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 08:02:13.174 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 08:02:13.186 +07:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2023-05-12 08:02:13.191 +07:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2023-05-12 08:02:13.221 +07:00 [DBG] 1 entities were added and 0 entities were removed from navigation 'City.PointOfInterests'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 08:02:13.265 +07:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'Id.PointOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 08:02:13.302 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 08:02:13.309 +07:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2023-05-12 08:02:13.335 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 08:02:13.339 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 08:02:13.345 +07:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-05-12 08:02:13.356 +07:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-05-12 08:02:13.425 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 08:02:13.428 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-05-12 08:02:13.433 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 62), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointOfInterests" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "PointOfInterests"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2023-05-12 08:02:13.445 +07:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 62), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointOfInterests" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "PointOfInterests"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2023-05-12 08:02:13.481 +07:00 [DBG] The foreign key property 'PointOfInterest.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-05-12 08:02:13.494 +07:00 [DBG] A data reader was disposed.
2023-05-12 08:02:13.503 +07:00 [DBG] Committing transaction.
2023-05-12 08:02:13.529 +07:00 [DBG] Committed transaction.
2023-05-12 08:02:13.538 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 08:02:13.542 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 08:02:13.550 +07:00 [DBG] Disposing transaction.
2023-05-12 08:02:13.564 +07:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 08:02:13.570 +07:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2023-05-12 08:02:13.579 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-05-12 08:02:13.586 +07:00 [DBG] No information found on request to perform content negotiation.
2023-05-12 08:02:13.587 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-05-12 08:02:13.591 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-05-12 08:02:13.593 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-05-12 08:02:13.596 +07:00 [INF] Executing CreatedAtRouteResult, writing value of type 'APIDemo.Models.PointOfInterestDTO'.
2023-05-12 08:02:13.622 +07:00 [DBG] Found the endpoints ["APIDemo.Controllers.PointOfInterestController.GetPointOfInterestsById (APIDemo)"] for address Microsoft.AspNetCore.Routing.RouteValuesAddress
2023-05-12 08:02:13.638 +07:00 [DBG] Successfully processed template api/cities/{cityId}/pointsofinterest/{pointofinterestId} for APIDemo.Controllers.PointOfInterestController.GetPointOfInterestsById (APIDemo) resulting in /api/cities/1/pointsofinterest/7 and 
2023-05-12 08:02:13.641 +07:00 [DBG] Link generation succeeded for endpoints ["APIDemo.Controllers.PointOfInterestController.GetPointOfInterestsById (APIDemo)"] with result /api/cities/1/pointsofinterest/7
2023-05-12 08:02:13.712 +07:00 [INF] Executed action APIDemo.Controllers.PointOfInterestController.CreatePointOfInterest (APIDemo) in 3191.6512ms
2023-05-12 08:02:13.716 +07:00 [INF] Executed endpoint 'APIDemo.Controllers.PointOfInterestController.CreatePointOfInterest (APIDemo)'
2023-05-12 08:02:13.718 +07:00 [DBG] Connection id "0HMQIGI0QBOJJ" completed keep alive response.
2023-05-12 08:02:13.724 +07:00 [DBG] 'CityInfoContext' disposed.
2023-05-12 08:02:13.729 +07:00 [INF] Request finished HTTP/1.1 POST https://localhost:7269/api/cities/1/pointsofinterest application/json 117 - 201 111 application/json;+charset=utf-8 3314.5048ms
2023-05-12 08:02:21.922 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7269/api/cities/1/pointsofinterest/7 application/json 117
2023-05-12 08:02:21.925 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/7'
2023-05-12 08:02:21.926 +07:00 [DBG] Endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterestsById (APIDemo)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointofinterestId}' is valid for the request path '/api/cities/1/pointsofinterest/7'
2023-05-12 08:02:21.929 +07:00 [DBG] Request matched endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterestsById (APIDemo)'
2023-05-12 08:02:21.932 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-12 08:02:21.933 +07:00 [INF] Executing endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterestsById (APIDemo)'
2023-05-12 08:02:21.940 +07:00 [INF] Route matched with {action = "GetPointOfInterestsById", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[APIDemo.Models.PointOfInterestDTO]] GetPointOfInterestsById(Int32, Int32) on controller APIDemo.Controllers.PointOfInterestController (APIDemo).
2023-05-12 08:02:21.943 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-12 08:02:21.945 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-12 08:02:21.950 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-12 08:02:21.953 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-12 08:02:21.955 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-12 08:02:21.957 +07:00 [DBG] Executing controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 08:02:21.959 +07:00 [DBG] Executed controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 08:02:21.961 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-05-12 08:02:21.969 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-05-12 08:02:21.973 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 08:02:21.976 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 08:02:21.983 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-05-12 08:02:21.987 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-05-12 08:02:21.991 +07:00 [DBG] Attempting to bind parameter 'pointofinterestId' of type 'System.Int32' ...
2023-05-12 08:02:21.998 +07:00 [DBG] Attempting to bind parameter 'pointofinterestId' of type 'System.Int32' using the name 'pointofinterestId' in request data ...
2023-05-12 08:02:22.006 +07:00 [DBG] Done attempting to bind parameter 'pointofinterestId' of type 'System.Int32'.
2023-05-12 08:02:22.013 +07:00 [DBG] Done attempting to bind parameter 'pointofinterestId' of type 'System.Int32'.
2023-05-12 08:02:22.019 +07:00 [DBG] Attempting to validate the bound parameter 'pointofinterestId' of type 'System.Int32' ...
2023-05-12 08:02:22.025 +07:00 [DBG] Done attempting to validate the bound parameter 'pointofinterestId' of type 'System.Int32'.
2023-05-12 08:02:22.037 +07:00 [INF] Entity Framework Core 6.0.16 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.16' with options: None
2023-05-12 08:02:22.065 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 08:02:22.069 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-05-12 08:02:22.074 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 08:02:22.082 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 08:02:22.089 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 08:02:22.102 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 08:02:22.115 +07:00 [DBG] A data reader was disposed.
2023-05-12 08:02:22.119 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 08:02:22.128 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 08:02:22.137 +07:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(item => item.CityId == __cityId_0 && item.Id == __pointofinterestId_1)
    .FirstOrDefault()'
2023-05-12 08:02:22.155 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<PointOfInterest>(
    asyncEnumerable: new SingleQueryingEnumerable<PointOfInterest>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
            SELECT TOP(1) p.Id, p.CityId, p.Description, p.Name
            FROM PointOfInterests AS p
            WHERE (p.CityId == @__cityId_0) && (p.Id == @__pointofinterestId_1)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
        APIDemo.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-12 08:02:22.171 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 08:02:22.177 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2023-05-12 08:02:22.182 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 08:02:22.190 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 08:02:22.198 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointofinterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointofinterestId_1)
LIMIT 1
2023-05-12 08:02:22.211 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointofinterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointofinterestId_1)
LIMIT 1
2023-05-12 08:02:22.224 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 08:02:22.231 +07:00 [DBG] A data reader was disposed.
2023-05-12 08:02:22.238 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 08:02:22.245 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 08:02:22.254 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-05-12 08:02:22.270 +07:00 [DBG] No information found on request to perform content negotiation.
2023-05-12 08:02:22.273 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-05-12 08:02:22.277 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-05-12 08:02:22.285 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-05-12 08:02:22.291 +07:00 [INF] Executing OkObjectResult, writing value of type 'APIDemo.Models.PointOfInterestDTO'.
2023-05-12 08:02:22.299 +07:00 [INF] Executed action APIDemo.Controllers.PointOfInterestController.GetPointOfInterestsById (APIDemo) in 341.9941ms
2023-05-12 08:02:22.301 +07:00 [INF] Executed endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterestsById (APIDemo)'
2023-05-12 08:02:22.303 +07:00 [DBG] Connection id "0HMQIGI0QBOJJ" completed keep alive response.
2023-05-12 08:02:22.305 +07:00 [DBG] 'CityInfoContext' disposed.
2023-05-12 08:02:22.308 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7269/api/cities/1/pointsofinterest/7 application/json 117 - 200 111 application/json;+charset=utf-8 385.3504ms
2023-05-12 08:02:22.310 +07:00 [DBG] Connection id "0HMQIGI0QBOJJ", Request id "0HMQIGI0QBOJJ:00000003": started reading request body.
2023-05-12 08:02:22.315 +07:00 [DBG] Connection id "0HMQIGI0QBOJJ", Request id "0HMQIGI0QBOJJ:00000003": done reading request body.
2023-05-12 08:03:08.431 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-05-12 08:03:08.539 +07:00 [DBG] Hosting starting
2023-05-12 08:03:08.671 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 75D11A6361D7470A96C9C9E8EC2F301CE14CF8DD)
2023-05-12 08:03:08.721 +07:00 [INF] Now listening on: https://localhost:7269
2023-05-12 08:03:08.723 +07:00 [INF] Now listening on: http://localhost:5078
2023-05-12 08:03:08.724 +07:00 [DBG] Loaded hosting startup assembly APIDemo
2023-05-12 08:03:08.726 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-05-12 08:03:08.728 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-05-12 08:03:08.730 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-12 08:03:08.732 +07:00 [INF] Hosting environment: Development
2023-05-12 08:03:08.734 +07:00 [INF] Content root path: C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\
2023-05-12 08:03:08.736 +07:00 [DBG] Hosting started
2023-05-12 08:03:09.061 +07:00 [DBG] Connection id "0HMQIGIJCOCEI" received FIN.
2023-05-12 08:03:09.098 +07:00 [DBG] Connection id "0HMQIGIJCOCEI" accepted.
2023-05-12 08:03:09.104 +07:00 [DBG] Connection id "0HMQIGIJCOCEI" started.
2023-05-12 08:03:09.134 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-12 08:03:09.179 +07:00 [DBG] Connection id "0HMQIGIJCOCEI" stopped.
2023-05-12 08:03:09.185 +07:00 [DBG] Connection id "0HMQIGIJCOCEI" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-12 08:03:09.337 +07:00 [DBG] Connection id "0HMQIGIJCOCEJ" accepted.
2023-05-12 08:03:09.340 +07:00 [DBG] Connection id "0HMQIGIJCOCEJ" started.
2023-05-12 08:03:09.396 +07:00 [DBG] Connection 0HMQIGIJCOCEJ established using the following protocol: "Tls12"
2023-05-12 08:03:09.452 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/index.html - -
2023-05-12 08:03:09.486 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-05-12 08:03:09.512 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-05-12 08:03:09.513 +07:00 [DBG] Request did not match any endpoints
2023-05-12 08:03:09.620 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-05-12 08:03:09.789 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - -
2023-05-12 08:03:09.789 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_vs/browserLink - -
2023-05-12 08:03:09.795 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-05-12 08:03:09.803 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 13.3612ms
2023-05-12 08:03:09.803 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/index.html - - - 200 - text/html;charset=utf-8 355.4582ms
2023-05-12 08:03:09.817 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 28.1195ms
2023-05-12 08:03:09.913 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - -
2023-05-12 08:03:09.915 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-05-12 08:03:09.916 +07:00 [DBG] Request did not match any endpoints
2023-05-12 08:03:10.075 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 161.3824ms
2023-05-12 08:03:19.030 +07:00 [DBG] Connection id "0HMQIGIJCOCEK" accepted.
2023-05-12 08:03:19.030 +07:00 [DBG] Connection id "0HMQIGIJCOCEK" received FIN.
2023-05-12 08:03:19.031 +07:00 [DBG] Connection id "0HMQIGIJCOCEK" started.
2023-05-12 08:03:19.032 +07:00 [DBG] Connection id "0HMQIGIJCOCEL" accepted.
2023-05-12 08:03:19.037 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-12 08:03:19.039 +07:00 [DBG] Connection id "0HMQIGIJCOCEL" started.
2023-05-12 08:03:19.046 +07:00 [DBG] Connection id "0HMQIGIJCOCEK" stopped.
2023-05-12 08:03:19.052 +07:00 [DBG] Connection id "0HMQIGIJCOCEK" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-12 08:03:19.054 +07:00 [DBG] Connection 0HMQIGIJCOCEL established using the following protocol: "Tls12"
2023-05-12 08:03:19.075 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7269/api/cities - -
2023-05-12 08:03:19.083 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-05-12 08:03:19.091 +07:00 [DBG] Endpoint 'APIDemo.Controllers.CitiesController.GetCities (APIDemo)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-05-12 08:03:19.096 +07:00 [DBG] Request matched endpoint 'APIDemo.Controllers.CitiesController.GetCities (APIDemo)'
2023-05-12 08:03:19.100 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-12 08:03:19.108 +07:00 [INF] Executing endpoint 'APIDemo.Controllers.CitiesController.GetCities (APIDemo)'
2023-05-12 08:03:19.131 +07:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[APIDemo.Models.CityDTO]]] GetCities() on controller APIDemo.Controllers.CitiesController (APIDemo).
2023-05-12 08:03:19.137 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-12 08:03:19.140 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-12 08:03:19.146 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-12 08:03:19.156 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-12 08:03:19.162 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-12 08:03:19.171 +07:00 [DBG] Executing controller factory for controller APIDemo.Controllers.CitiesController (APIDemo)
2023-05-12 08:03:19.337 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-05-12 08:03:19.548 +07:00 [DBG] Executed controller factory for controller APIDemo.Controllers.CitiesController (APIDemo)
2023-05-12 08:03:20.626 +07:00 [INF] Entity Framework Core 6.0.16 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.16' with options: None
2023-05-12 08:03:20.670 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()'
2023-05-12 08:03:20.924 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(50), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    APIDemo.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-05-12 08:03:20.986 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 08:03:21.063 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (72ms).
2023-05-12 08:03:21.081 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 08:03:21.114 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 08:03:21.150 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
2023-05-12 08:03:21.210 +07:00 [INF] Executed DbCommand (74ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
2023-05-12 08:03:21.253 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 08:03:21.294 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 08:03:21.300 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 08:03:21.315 +07:00 [DBG] A data reader was disposed.
2023-05-12 08:03:21.328 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 08:03:21.341 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 08:03:21.363 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-05-12 08:03:21.371 +07:00 [DBG] No information found on request to perform content negotiation.
2023-05-12 08:03:21.372 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-05-12 08:03:21.374 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-05-12 08:03:21.377 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-05-12 08:03:21.381 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[APIDemo.Models.CityWithoutPointOfInterestDTO, APIDemo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-05-12 08:03:21.565 +07:00 [INF] Executed action APIDemo.Controllers.CitiesController.GetCities (APIDemo) in 2389.7559ms
2023-05-12 08:03:21.567 +07:00 [INF] Executed endpoint 'APIDemo.Controllers.CitiesController.GetCities (APIDemo)'
2023-05-12 08:03:21.569 +07:00 [DBG] Connection id "0HMQIGIJCOCEL" completed keep alive response.
2023-05-12 08:03:21.576 +07:00 [DBG] 'CityInfoContext' disposed.
2023-05-12 08:03:21.581 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7269/api/cities - - - 200 153 application/json;+charset=utf-8 2505.5833ms
2023-05-12 08:03:28.893 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7269/api/cities/3/pointsofinterest - -
2023-05-12 08:03:28.897 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest'
2023-05-12 08:03:28.901 +07:00 [DBG] Endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/3/pointsofinterest'
2023-05-12 08:03:28.909 +07:00 [DBG] Request matched endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo)'
2023-05-12 08:03:28.913 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-12 08:03:28.916 +07:00 [INF] Executing endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo)'
2023-05-12 08:03:28.937 +07:00 [INF] Route matched with {action = "GetPointOfInterests", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[APIDemo.Models.PointOfInterestDTO]]] GetPointOfInterests(Int32) on controller APIDemo.Controllers.PointOfInterestController (APIDemo).
2023-05-12 08:03:28.944 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-12 08:03:28.949 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-12 08:03:28.954 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-12 08:03:28.961 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-12 08:03:28.968 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-12 08:03:28.974 +07:00 [DBG] Executing controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 08:03:28.980 +07:00 [DBG] Executed controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 08:03:28.993 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-05-12 08:03:29.001 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-05-12 08:03:29.008 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 08:03:29.013 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 08:03:29.020 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-05-12 08:03:29.026 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-05-12 08:03:29.038 +07:00 [INF] Entity Framework Core 6.0.16 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.16' with options: None
2023-05-12 08:03:29.062 +07:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(item => item.CityId == __cityId_0)'
2023-05-12 08:03:29.255 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PointOfInterest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
        SELECT p.Id, p.CityId, p.Description, p.Name
        FROM PointOfInterests AS p
        WHERE p.CityId == @__cityId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
    APIDemo.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-05-12 08:03:29.271 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 08:03:29.272 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-12 08:03:29.277 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 08:03:29.281 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 08:03:29.300 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE "p"."CityId" = @__cityId_0
2023-05-12 08:03:29.323 +07:00 [INF] Executed DbCommand (35ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE "p"."CityId" = @__cityId_0
2023-05-12 08:03:29.341 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 08:03:29.365 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 08:03:29.371 +07:00 [DBG] A data reader was disposed.
2023-05-12 08:03:29.374 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 08:03:29.383 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 08:03:29.397 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(item => item.Id == __cityId_0)'
2023-05-12 08:03:29.430 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        APIDemo.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-12 08:03:29.454 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 08:03:29.460 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2023-05-12 08:03:29.465 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 08:03:29.473 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 08:03:29.479 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 08:03:29.492 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 08:03:29.509 +07:00 [DBG] A data reader was disposed.
2023-05-12 08:03:29.512 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 08:03:29.520 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 08:03:29.533 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-05-12 08:03:29.547 +07:00 [DBG] No information found on request to perform content negotiation.
2023-05-12 08:03:29.552 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-05-12 08:03:29.557 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-05-12 08:03:29.560 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-05-12 08:03:29.569 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[APIDemo.Models.PointOfInterestDTO, APIDemo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-05-12 08:03:29.582 +07:00 [INF] Executed action APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo) in 607.8632ms
2023-05-12 08:03:29.587 +07:00 [INF] Executed endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo)'
2023-05-12 08:03:29.591 +07:00 [DBG] Connection id "0HMQIGIJCOCEL" completed keep alive response.
2023-05-12 08:03:29.599 +07:00 [DBG] 'CityInfoContext' disposed.
2023-05-12 08:03:29.602 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7269/api/cities/3/pointsofinterest - - - 200 102 application/json;+charset=utf-8 709.5801ms
2023-05-12 08:04:09.054 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-05-12 08:04:09.170 +07:00 [DBG] Hosting starting
2023-05-12 08:04:09.306 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 75D11A6361D7470A96C9C9E8EC2F301CE14CF8DD)
2023-05-12 08:04:09.354 +07:00 [INF] Now listening on: https://localhost:7269
2023-05-12 08:04:09.355 +07:00 [INF] Now listening on: http://localhost:5078
2023-05-12 08:04:09.356 +07:00 [DBG] Loaded hosting startup assembly APIDemo
2023-05-12 08:04:09.357 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-05-12 08:04:09.359 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-05-12 08:04:09.360 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-12 08:04:09.361 +07:00 [INF] Hosting environment: Development
2023-05-12 08:04:09.363 +07:00 [INF] Content root path: C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\
2023-05-12 08:04:09.366 +07:00 [DBG] Hosting started
2023-05-12 08:04:09.720 +07:00 [DBG] Connection id "0HMQIGJ5F7QU7" received FIN.
2023-05-12 08:04:09.724 +07:00 [DBG] Connection id "0HMQIGJ5F7QU8" received FIN.
2023-05-12 08:04:09.728 +07:00 [DBG] Connection id "0HMQIGJ5F7QU7" accepted.
2023-05-12 08:04:09.728 +07:00 [DBG] Connection id "0HMQIGJ5F7QU8" accepted.
2023-05-12 08:04:09.731 +07:00 [DBG] Connection id "0HMQIGJ5F7QU8" started.
2023-05-12 08:04:09.731 +07:00 [DBG] Connection id "0HMQIGJ5F7QU7" started.
2023-05-12 08:04:09.750 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-12 08:04:09.750 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-12 08:04:09.791 +07:00 [DBG] Connection id "0HMQIGJ5F7QU8" stopped.
2023-05-12 08:04:09.834 +07:00 [DBG] Connection id "0HMQIGJ5F7QU7" stopped.
2023-05-12 08:04:09.840 +07:00 [DBG] Connection id "0HMQIGJ5F7QU7" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-12 08:04:09.840 +07:00 [DBG] Connection id "0HMQIGJ5F7QU8" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-12 08:04:09.996 +07:00 [DBG] Connection id "0HMQIGJ5F7QU9" accepted.
2023-05-12 08:04:09.999 +07:00 [DBG] Connection id "0HMQIGJ5F7QU9" started.
2023-05-12 08:04:10.061 +07:00 [DBG] Connection 0HMQIGJ5F7QU9 established using the following protocol: "Tls12"
2023-05-12 08:04:10.131 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/index.html - -
2023-05-12 08:04:10.169 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-05-12 08:04:10.194 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-05-12 08:04:10.198 +07:00 [DBG] Request did not match any endpoints
2023-05-12 08:04:10.309 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-05-12 08:04:10.460 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_vs/browserLink - -
2023-05-12 08:04:10.460 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - -
2023-05-12 08:04:10.469 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-05-12 08:04:10.497 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 36.2427ms
2023-05-12 08:04:10.497 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/index.html - - - 200 - text/html;charset=utf-8 372.8247ms
2023-05-12 08:04:10.509 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 49.0294ms
2023-05-12 08:04:10.593 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - -
2023-05-12 08:04:10.594 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-05-12 08:04:10.595 +07:00 [DBG] Request did not match any endpoints
2023-05-12 08:04:10.761 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 168.3815ms
2023-05-12 08:04:18.126 +07:00 [DBG] Connection id "0HMQIGJ5F7QUA" accepted.
2023-05-12 08:04:18.126 +07:00 [DBG] Connection id "0HMQIGJ5F7QUA" received FIN.
2023-05-12 08:04:18.129 +07:00 [DBG] Connection id "0HMQIGJ5F7QUA" started.
2023-05-12 08:04:18.129 +07:00 [DBG] Connection id "0HMQIGJ5F7QUB" accepted.
2023-05-12 08:04:18.138 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-12 08:04:18.142 +07:00 [DBG] Connection id "0HMQIGJ5F7QUB" started.
2023-05-12 08:04:18.151 +07:00 [DBG] Connection id "0HMQIGJ5F7QUA" stopped.
2023-05-12 08:04:18.159 +07:00 [DBG] Connection id "0HMQIGJ5F7QUA" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-12 08:04:18.162 +07:00 [DBG] Connection 0HMQIGJ5F7QUB established using the following protocol: "Tls12"
2023-05-12 08:04:18.177 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7269/api/cities/1/pointsofinterest - -
2023-05-12 08:04:18.188 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2023-05-12 08:04:18.193 +07:00 [DBG] Endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2023-05-12 08:04:18.197 +07:00 [DBG] Request matched endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo)'
2023-05-12 08:04:18.199 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-12 08:04:18.206 +07:00 [INF] Executing endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo)'
2023-05-12 08:04:18.240 +07:00 [INF] Route matched with {action = "GetPointOfInterests", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[APIDemo.Models.PointOfInterestDTO]]] GetPointOfInterests(Int32) on controller APIDemo.Controllers.PointOfInterestController (APIDemo).
2023-05-12 08:04:18.252 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-12 08:04:18.258 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-12 08:04:18.264 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-12 08:04:18.276 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-12 08:04:18.285 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-12 08:04:18.293 +07:00 [DBG] Executing controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 08:04:18.485 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-05-12 08:04:18.694 +07:00 [DBG] Executed controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 08:04:18.701 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-05-12 08:04:18.704 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-05-12 08:04:18.707 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 08:04:18.709 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 08:04:18.711 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-05-12 08:04:18.716 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-05-12 08:04:19.652 +07:00 [INF] Entity Framework Core 6.0.16 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.16' with options: None
2023-05-12 08:04:19.719 +07:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(item => item.CityId == __cityId_0)'
2023-05-12 08:04:20.114 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PointOfInterest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
        SELECT p.Id, p.CityId, p.Description, p.Name
        FROM PointOfInterests AS p
        WHERE p.CityId == @__cityId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
    APIDemo.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-05-12 08:04:20.190 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 08:04:20.267 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (72ms).
2023-05-12 08:04:20.289 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 08:04:20.313 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 08:04:20.334 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE "p"."CityId" = @__cityId_0
2023-05-12 08:04:20.373 +07:00 [INF] Executed DbCommand (45ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE "p"."CityId" = @__cityId_0
2023-05-12 08:04:20.403 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 08:04:20.437 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 08:04:20.443 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 08:04:20.457 +07:00 [DBG] A data reader was disposed.
2023-05-12 08:04:20.471 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 08:04:20.486 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 08:04:20.496 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(item => item.Id == __cityId_0)'
2023-05-12 08:04:20.513 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        APIDemo.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-12 08:04:20.530 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 08:04:20.533 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-05-12 08:04:20.538 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 08:04:20.545 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 08:04:20.550 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 08:04:20.560 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 08:04:20.566 +07:00 [DBG] A data reader was disposed.
2023-05-12 08:04:20.568 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 08:04:20.576 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 08:04:20.602 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-05-12 08:04:20.616 +07:00 [DBG] No information found on request to perform content negotiation.
2023-05-12 08:04:20.621 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-05-12 08:04:20.624 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-05-12 08:04:20.627 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-05-12 08:04:20.630 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[APIDemo.Models.PointOfInterestDTO, APIDemo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-05-12 08:04:20.796 +07:00 [INF] Executed action APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo) in 2498.4175ms
2023-05-12 08:04:20.799 +07:00 [INF] Executed endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo)'
2023-05-12 08:04:20.801 +07:00 [DBG] Connection id "0HMQIGJ5F7QUB" completed keep alive response.
2023-05-12 08:04:20.810 +07:00 [DBG] 'CityInfoContext' disposed.
2023-05-12 08:04:20.816 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7269/api/cities/1/pointsofinterest - - - 200 220 application/json;+charset=utf-8 2639.1589ms
2023-05-12 08:14:03.683 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7269/api/cities/1/pointsofinterest - -
2023-05-12 08:14:03.685 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2023-05-12 08:14:03.686 +07:00 [DBG] Endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2023-05-12 08:14:03.688 +07:00 [DBG] Request matched endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo)'
2023-05-12 08:14:03.690 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-12 08:14:03.692 +07:00 [INF] Executing endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo)'
2023-05-12 08:14:03.694 +07:00 [INF] Route matched with {action = "GetPointOfInterests", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[APIDemo.Models.PointOfInterestDTO]]] GetPointOfInterests(Int32) on controller APIDemo.Controllers.PointOfInterestController (APIDemo).
2023-05-12 08:14:03.697 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-12 08:14:03.703 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-12 08:14:03.704 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-12 08:14:03.707 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-12 08:14:03.709 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-12 08:14:03.712 +07:00 [DBG] Executing controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 08:14:03.715 +07:00 [DBG] Executed controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 08:14:03.726 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-05-12 08:14:03.728 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-05-12 08:14:03.732 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 08:14:03.736 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 08:14:03.741 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-05-12 08:14:03.744 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-05-12 08:14:03.759 +07:00 [INF] Entity Framework Core 6.0.16 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.16' with options: None
2023-05-12 08:14:03.770 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 08:14:03.773 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-05-12 08:14:03.776 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 08:14:03.784 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 08:14:03.789 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE "p"."CityId" = @__cityId_0
2023-05-12 08:14:03.795 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE "p"."CityId" = @__cityId_0
2023-05-12 08:14:03.800 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 08:14:03.803 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 08:14:03.806 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 08:14:03.809 +07:00 [DBG] A data reader was disposed.
2023-05-12 08:14:03.815 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 08:14:03.821 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 08:14:03.826 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 08:14:03.831 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2023-05-12 08:14:03.835 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 08:14:03.840 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 08:14:03.848 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 08:14:03.857 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 08:14:03.868 +07:00 [DBG] A data reader was disposed.
2023-05-12 08:14:03.871 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 08:14:03.878 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 08:14:03.884 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-05-12 08:14:03.895 +07:00 [DBG] No information found on request to perform content negotiation.
2023-05-12 08:14:03.898 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-05-12 08:14:03.901 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-05-12 08:14:03.904 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-05-12 08:14:03.912 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[APIDemo.Models.PointOfInterestDTO, APIDemo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-05-12 08:14:03.918 +07:00 [INF] Executed action APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo) in 206.6208ms
2023-05-12 08:14:03.923 +07:00 [INF] Executed endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo)'
2023-05-12 08:14:03.925 +07:00 [DBG] Connection id "0HMQIGJ5F7QUB" completed keep alive response.
2023-05-12 08:14:03.926 +07:00 [DBG] 'CityInfoContext' disposed.
2023-05-12 08:14:03.929 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7269/api/cities/1/pointsofinterest - - - 200 220 application/json;+charset=utf-8 246.5107ms
2023-05-12 08:14:06.853 +07:00 [INF] Request starting HTTP/1.1 POST https://localhost:7269/api/cities/3/pointsofinterest application/json 117
2023-05-12 08:14:06.855 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest'
2023-05-12 08:14:06.856 +07:00 [DBG] Endpoint 'APIDemo.Controllers.PointOfInterestController.CreatePointOfInterest (APIDemo)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/3/pointsofinterest'
2023-05-12 08:14:06.859 +07:00 [DBG] Request matched endpoint 'APIDemo.Controllers.PointOfInterestController.CreatePointOfInterest (APIDemo)'
2023-05-12 08:14:06.861 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-12 08:14:06.863 +07:00 [INF] Executing endpoint 'APIDemo.Controllers.PointOfInterestController.CreatePointOfInterest (APIDemo)'
2023-05-12 08:14:06.868 +07:00 [INF] Route matched with {action = "CreatePointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[APIDemo.Models.PointOfInterestDTO]] CreatePointOfInterest(Int32, APIDemo.Models.PointOfInterestCreationDTO) on controller APIDemo.Controllers.PointOfInterestController (APIDemo).
2023-05-12 08:14:06.874 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-12 08:14:06.876 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-12 08:14:06.878 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-12 08:14:06.881 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-12 08:14:06.883 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-12 08:14:06.886 +07:00 [DBG] Executing controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 08:14:06.895 +07:00 [DBG] Executed controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 08:14:06.897 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-05-12 08:14:06.898 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-05-12 08:14:06.900 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 08:14:06.904 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 08:14:06.906 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-05-12 08:14:06.909 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-05-12 08:14:06.910 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO' ...
2023-05-12 08:14:06.913 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO' using the name '' in request data ...
2023-05-12 08:14:06.916 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-05-12 08:14:06.921 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-05-12 08:14:06.932 +07:00 [DBG] Connection id "0HMQIGJ5F7QUB", Request id "0HMQIGJ5F7QUB:00000004": started reading request body.
2023-05-12 08:14:06.935 +07:00 [DBG] Connection id "0HMQIGJ5F7QUB", Request id "0HMQIGJ5F7QUB:00000004": done reading request body.
2023-05-12 08:14:06.986 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO'.
2023-05-12 08:14:06.991 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO'.
2023-05-12 08:14:06.994 +07:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO' ...
2023-05-12 08:14:07.010 +07:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO'.
2023-05-12 08:14:07.069 +07:00 [INF] Entity Framework Core 6.0.16 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.16' with options: None
2023-05-12 08:14:07.077 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 08:14:07.082 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2023-05-12 08:14:07.088 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 08:14:07.093 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 08:14:07.103 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 08:14:07.116 +07:00 [INF] Executed DbCommand (14ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 08:14:07.132 +07:00 [DBG] A data reader was disposed.
2023-05-12 08:14:07.135 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 08:14:07.141 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 08:14:14.388 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(item => item.Id == __cityId_0)
    .FirstOrDefault()'
2023-05-12 08:14:14.399 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(50), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        APIDemo.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-12 08:14:14.407 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 08:14:14.410 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-05-12 08:14:14.413 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 08:14:14.414 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 08:14:14.430 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-05-12 08:14:14.434 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-05-12 08:14:14.443 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 08:14:14.449 +07:00 [DBG] A data reader was disposed.
2023-05-12 08:14:14.450 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 08:14:14.454 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 08:14:15.684 +07:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2023-05-12 08:14:15.688 +07:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2023-05-12 08:14:15.717 +07:00 [DBG] 1 entities were added and 0 entities were removed from navigation 'City.PointOfInterests'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 08:14:15.756 +07:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'Id.PointOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 08:14:15.785 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 08:14:15.791 +07:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2023-05-12 08:14:15.816 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 08:14:15.818 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 08:14:15.823 +07:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-05-12 08:14:15.831 +07:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-05-12 08:14:15.892 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 08:14:15.895 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-05-12 08:14:15.900 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 62), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointOfInterests" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "PointOfInterests"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2023-05-12 08:14:15.913 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 62), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointOfInterests" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "PointOfInterests"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2023-05-12 08:14:15.948 +07:00 [DBG] The foreign key property 'PointOfInterest.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-05-12 08:14:15.958 +07:00 [DBG] A data reader was disposed.
2023-05-12 08:14:15.968 +07:00 [DBG] Committing transaction.
2023-05-12 08:14:15.990 +07:00 [DBG] Committed transaction.
2023-05-12 08:14:15.998 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 08:14:16.004 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 08:14:16.015 +07:00 [DBG] Disposing transaction.
2023-05-12 08:14:16.031 +07:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 08:14:16.036 +07:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2023-05-12 08:14:19.103 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-05-12 08:14:19.109 +07:00 [DBG] No information found on request to perform content negotiation.
2023-05-12 08:14:19.110 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-05-12 08:14:19.112 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-05-12 08:14:19.114 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-05-12 08:14:19.117 +07:00 [INF] Executing CreatedAtRouteResult, writing value of type 'APIDemo.Models.PointOfInterestDTO'.
2023-05-12 08:14:19.145 +07:00 [DBG] Found the endpoints ["APIDemo.Controllers.PointOfInterestController.GetPointOfInterestsById (APIDemo)"] for address Microsoft.AspNetCore.Routing.RouteValuesAddress
2023-05-12 08:14:19.160 +07:00 [DBG] Successfully processed template api/cities/{cityId}/pointsofinterest/{pointofinterestId} for APIDemo.Controllers.PointOfInterestController.GetPointOfInterestsById (APIDemo) resulting in /api/cities/3/pointsofinterest/8 and 
2023-05-12 08:14:19.163 +07:00 [DBG] Link generation succeeded for endpoints ["APIDemo.Controllers.PointOfInterestController.GetPointOfInterestsById (APIDemo)"] with result /api/cities/3/pointsofinterest/8
2023-05-12 08:14:19.165 +07:00 [INF] Executed action APIDemo.Controllers.PointOfInterestController.CreatePointOfInterest (APIDemo) in 12279.6708ms
2023-05-12 08:14:19.168 +07:00 [INF] Executed endpoint 'APIDemo.Controllers.PointOfInterestController.CreatePointOfInterest (APIDemo)'
2023-05-12 08:14:19.171 +07:00 [DBG] Connection id "0HMQIGJ5F7QUB" completed keep alive response.
2023-05-12 08:14:19.173 +07:00 [DBG] 'CityInfoContext' disposed.
2023-05-12 08:14:19.174 +07:00 [INF] Request finished HTTP/1.1 POST https://localhost:7269/api/cities/3/pointsofinterest application/json 117 - 201 111 application/json;+charset=utf-8 12321.2881ms
2023-05-12 08:14:36.390 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-05-12 08:14:36.494 +07:00 [DBG] Hosting starting
2023-05-12 08:14:36.635 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 75D11A6361D7470A96C9C9E8EC2F301CE14CF8DD)
2023-05-12 08:14:36.680 +07:00 [INF] Now listening on: https://localhost:7269
2023-05-12 08:14:36.681 +07:00 [INF] Now listening on: http://localhost:5078
2023-05-12 08:14:36.682 +07:00 [DBG] Loaded hosting startup assembly APIDemo
2023-05-12 08:14:36.683 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-05-12 08:14:36.684 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-05-12 08:14:36.686 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-12 08:14:36.687 +07:00 [INF] Hosting environment: Development
2023-05-12 08:14:36.689 +07:00 [INF] Content root path: C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\
2023-05-12 08:14:36.693 +07:00 [DBG] Hosting started
2023-05-12 08:14:37.112 +07:00 [DBG] Connection id "0HMQIGP0EGLLV" received FIN.
2023-05-12 08:14:37.124 +07:00 [DBG] Connection id "0HMQIGP0EGLLV" accepted.
2023-05-12 08:14:37.128 +07:00 [DBG] Connection id "0HMQIGP0EGLLV" started.
2023-05-12 08:14:37.151 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-12 08:14:37.193 +07:00 [DBG] Connection id "0HMQIGP0EGLLV" stopped.
2023-05-12 08:14:37.198 +07:00 [DBG] Connection id "0HMQIGP0EGLLV" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-12 08:14:37.368 +07:00 [DBG] Connection id "0HMQIGP0EGLM0" accepted.
2023-05-12 08:14:37.370 +07:00 [DBG] Connection id "0HMQIGP0EGLM0" started.
2023-05-12 08:14:37.428 +07:00 [DBG] Connection 0HMQIGP0EGLM0 established using the following protocol: "Tls12"
2023-05-12 08:14:37.481 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/index.html - -
2023-05-12 08:14:37.514 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-05-12 08:14:37.539 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-05-12 08:14:37.542 +07:00 [DBG] Request did not match any endpoints
2023-05-12 08:14:37.656 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-05-12 08:14:37.807 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - -
2023-05-12 08:14:37.807 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_vs/browserLink - -
2023-05-12 08:14:37.814 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-05-12 08:14:37.822 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 14.9941ms
2023-05-12 08:14:37.823 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/index.html - - - 200 - text/html;charset=utf-8 346.0868ms
2023-05-12 08:14:37.840 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 32.9534ms
2023-05-12 08:14:37.936 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - -
2023-05-12 08:14:37.938 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-05-12 08:14:37.939 +07:00 [DBG] Request did not match any endpoints
2023-05-12 08:14:38.098 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 161.1061ms
2023-05-12 08:14:40.229 +07:00 [DBG] Connection id "0HMQIGP0EGLM1" accepted.
2023-05-12 08:14:40.231 +07:00 [DBG] Connection id "0HMQIGP0EGLM1" received FIN.
2023-05-12 08:14:40.232 +07:00 [DBG] Connection id "0HMQIGP0EGLM1" started.
2023-05-12 08:14:40.232 +07:00 [DBG] Connection id "0HMQIGP0EGLM2" accepted.
2023-05-12 08:14:40.235 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-12 08:14:40.236 +07:00 [DBG] Connection id "0HMQIGP0EGLM2" started.
2023-05-12 08:14:40.243 +07:00 [DBG] Connection id "0HMQIGP0EGLM1" stopped.
2023-05-12 08:14:40.245 +07:00 [DBG] Connection id "0HMQIGP0EGLM1" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-12 08:14:40.250 +07:00 [DBG] Connection 0HMQIGP0EGLM2 established using the following protocol: "Tls12"
2023-05-12 08:14:40.259 +07:00 [INF] Request starting HTTP/1.1 POST https://localhost:7269/api/cities/3/pointsofinterest application/json 117
2023-05-12 08:14:40.268 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest'
2023-05-12 08:14:40.274 +07:00 [DBG] Endpoint 'APIDemo.Controllers.PointOfInterestController.CreatePointOfInterest (APIDemo)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/3/pointsofinterest'
2023-05-12 08:14:40.276 +07:00 [DBG] Request matched endpoint 'APIDemo.Controllers.PointOfInterestController.CreatePointOfInterest (APIDemo)'
2023-05-12 08:14:40.279 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-12 08:14:40.282 +07:00 [INF] Executing endpoint 'APIDemo.Controllers.PointOfInterestController.CreatePointOfInterest (APIDemo)'
2023-05-12 08:14:40.316 +07:00 [INF] Route matched with {action = "CreatePointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[APIDemo.Models.PointOfInterestDTO]] CreatePointOfInterest(Int32, APIDemo.Models.PointOfInterestCreationDTO) on controller APIDemo.Controllers.PointOfInterestController (APIDemo).
2023-05-12 08:14:40.322 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-12 08:14:40.323 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-12 08:14:40.326 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-12 08:14:40.333 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-12 08:14:40.335 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-12 08:14:40.339 +07:00 [DBG] Executing controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 08:14:40.505 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-05-12 08:14:40.717 +07:00 [DBG] Executed controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 08:14:40.724 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-05-12 08:14:40.729 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-05-12 08:14:40.734 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 08:14:40.736 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 08:14:40.739 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-05-12 08:14:40.743 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-05-12 08:14:40.746 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO' ...
2023-05-12 08:14:40.752 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO' using the name '' in request data ...
2023-05-12 08:14:40.755 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-05-12 08:14:40.759 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-05-12 08:14:40.775 +07:00 [DBG] Connection id "0HMQIGP0EGLM2", Request id "0HMQIGP0EGLM2:00000002": started reading request body.
2023-05-12 08:14:40.782 +07:00 [DBG] Connection id "0HMQIGP0EGLM2", Request id "0HMQIGP0EGLM2:00000002": done reading request body.
2023-05-12 08:14:40.927 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO'.
2023-05-12 08:14:40.931 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO'.
2023-05-12 08:14:40.933 +07:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO' ...
2023-05-12 08:14:40.943 +07:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO'.
2023-05-12 08:14:41.952 +07:00 [INF] Entity Framework Core 6.0.16 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.16' with options: None
2023-05-12 08:14:42.082 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(item => item.Id == __cityId_0)'
2023-05-12 08:14:42.456 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        APIDemo.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-12 08:14:42.534 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 08:14:42.665 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (127ms).
2023-05-12 08:14:42.684 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 08:14:42.706 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 08:14:42.728 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 08:14:42.761 +07:00 [INF] Executed DbCommand (40ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 08:14:42.781 +07:00 [DBG] A data reader was disposed.
2023-05-12 08:14:42.793 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 08:14:42.805 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 08:14:47.789 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(item => item.Id == __cityId_0)
    .FirstOrDefault()'
2023-05-12 08:14:47.842 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(50), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        APIDemo.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-12 08:14:47.864 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 08:14:47.866 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-12 08:14:47.869 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 08:14:47.872 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 08:14:47.876 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-05-12 08:14:47.885 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-05-12 08:14:47.917 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 08:14:47.948 +07:00 [DBG] A data reader was disposed.
2023-05-12 08:14:47.949 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 08:14:47.955 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 08:14:48.473 +07:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2023-05-12 08:14:48.480 +07:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2023-05-12 08:14:48.521 +07:00 [DBG] 1 entities were added and 0 entities were removed from navigation 'City.PointOfInterests'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 08:14:48.583 +07:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'Id.PointOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 08:14:48.636 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 08:14:48.647 +07:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2023-05-12 08:14:48.685 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 08:14:48.688 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 08:14:48.699 +07:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-05-12 08:14:48.712 +07:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-05-12 08:14:48.809 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 08:14:48.811 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-05-12 08:14:48.816 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 62), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointOfInterests" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "PointOfInterests"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2023-05-12 08:14:48.825 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 62), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointOfInterests" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "PointOfInterests"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2023-05-12 08:14:48.857 +07:00 [DBG] The foreign key property 'PointOfInterest.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-05-12 08:14:48.870 +07:00 [DBG] A data reader was disposed.
2023-05-12 08:14:48.882 +07:00 [DBG] Committing transaction.
2023-05-12 08:14:48.892 +07:00 [DBG] Committed transaction.
2023-05-12 08:14:48.900 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 08:14:48.903 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 08:14:48.910 +07:00 [DBG] Disposing transaction.
2023-05-12 08:14:48.923 +07:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 08:14:48.931 +07:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2023-05-12 08:15:35.521 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-05-12 08:15:35.678 +07:00 [DBG] Hosting starting
2023-05-12 08:15:35.803 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 75D11A6361D7470A96C9C9E8EC2F301CE14CF8DD)
2023-05-12 08:15:35.848 +07:00 [INF] Now listening on: https://localhost:7269
2023-05-12 08:15:35.850 +07:00 [INF] Now listening on: http://localhost:5078
2023-05-12 08:15:35.851 +07:00 [DBG] Loaded hosting startup assembly APIDemo
2023-05-12 08:15:35.852 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-05-12 08:15:35.853 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-05-12 08:15:35.855 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-12 08:15:35.856 +07:00 [INF] Hosting environment: Development
2023-05-12 08:15:35.857 +07:00 [INF] Content root path: C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\
2023-05-12 08:15:35.859 +07:00 [DBG] Hosting started
2023-05-12 08:15:36.260 +07:00 [DBG] Connection id "0HMQIGPI2J8DU" received FIN.
2023-05-12 08:15:36.273 +07:00 [DBG] Connection id "0HMQIGPI2J8DU" accepted.
2023-05-12 08:15:36.275 +07:00 [DBG] Connection id "0HMQIGPI2J8DU" started.
2023-05-12 08:15:36.296 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-12 08:15:36.336 +07:00 [DBG] Connection id "0HMQIGPI2J8DU" stopped.
2023-05-12 08:15:36.342 +07:00 [DBG] Connection id "0HMQIGPI2J8DU" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-12 08:15:36.510 +07:00 [DBG] Connection id "0HMQIGPI2J8DV" accepted.
2023-05-12 08:15:36.515 +07:00 [DBG] Connection id "0HMQIGPI2J8DV" started.
2023-05-12 08:15:36.571 +07:00 [DBG] Connection 0HMQIGPI2J8DV established using the following protocol: "Tls12"
2023-05-12 08:15:36.621 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/index.html - -
2023-05-12 08:15:36.653 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-05-12 08:15:36.680 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-05-12 08:15:36.681 +07:00 [DBG] Request did not match any endpoints
2023-05-12 08:15:36.791 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-05-12 08:15:36.943 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_vs/browserLink - -
2023-05-12 08:15:36.943 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - -
2023-05-12 08:15:36.949 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-05-12 08:15:36.958 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 13.9988ms
2023-05-12 08:15:36.959 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/index.html - - - 200 - text/html;charset=utf-8 341.5864ms
2023-05-12 08:15:36.968 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 25.8663ms
2023-05-12 08:15:37.059 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - -
2023-05-12 08:15:37.061 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-05-12 08:15:37.063 +07:00 [DBG] Request did not match any endpoints
2023-05-12 08:15:37.293 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 233.6619ms
2023-05-12 08:15:40.618 +07:00 [DBG] Connection id "0HMQIGPI2J8E0" accepted.
2023-05-12 08:15:40.618 +07:00 [DBG] Connection id "0HMQIGPI2J8E0" received FIN.
2023-05-12 08:15:40.620 +07:00 [DBG] Connection id "0HMQIGPI2J8E0" started.
2023-05-12 08:15:40.620 +07:00 [DBG] Connection id "0HMQIGPI2J8E1" accepted.
2023-05-12 08:15:40.624 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-12 08:15:40.626 +07:00 [DBG] Connection id "0HMQIGPI2J8E1" started.
2023-05-12 08:15:40.633 +07:00 [DBG] Connection id "0HMQIGPI2J8E0" stopped.
2023-05-12 08:15:40.637 +07:00 [DBG] Connection id "0HMQIGPI2J8E0" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-12 08:15:40.640 +07:00 [DBG] Connection 0HMQIGPI2J8E1 established using the following protocol: "Tls12"
2023-05-12 08:15:40.650 +07:00 [INF] Request starting HTTP/1.1 POST https://localhost:7269/api/cities/3/pointsofinterest application/json 117
2023-05-12 08:15:40.662 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest'
2023-05-12 08:15:40.668 +07:00 [DBG] Endpoint 'APIDemo.Controllers.PointOfInterestController.CreatePointOfInterest (APIDemo)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/3/pointsofinterest'
2023-05-12 08:15:40.671 +07:00 [DBG] Request matched endpoint 'APIDemo.Controllers.PointOfInterestController.CreatePointOfInterest (APIDemo)'
2023-05-12 08:15:40.676 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-12 08:15:40.680 +07:00 [INF] Executing endpoint 'APIDemo.Controllers.PointOfInterestController.CreatePointOfInterest (APIDemo)'
2023-05-12 08:15:40.721 +07:00 [INF] Route matched with {action = "CreatePointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[APIDemo.Models.PointOfInterestDTO]] CreatePointOfInterest(Int32, APIDemo.Models.PointOfInterestCreationDTO) on controller APIDemo.Controllers.PointOfInterestController (APIDemo).
2023-05-12 08:15:40.726 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-12 08:15:40.728 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-12 08:15:40.730 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-12 08:15:40.733 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-12 08:15:40.735 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-12 08:15:40.739 +07:00 [DBG] Executing controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 08:15:40.902 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-05-12 08:15:41.133 +07:00 [DBG] Executed controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 08:15:41.141 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-05-12 08:15:41.144 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-05-12 08:15:41.151 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 08:15:41.155 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 08:15:41.158 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-05-12 08:15:41.162 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-05-12 08:15:41.168 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO' ...
2023-05-12 08:15:41.170 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO' using the name '' in request data ...
2023-05-12 08:15:41.174 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-05-12 08:15:41.176 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-05-12 08:15:41.190 +07:00 [DBG] Connection id "0HMQIGPI2J8E1", Request id "0HMQIGPI2J8E1:00000002": started reading request body.
2023-05-12 08:15:41.192 +07:00 [DBG] Connection id "0HMQIGPI2J8E1", Request id "0HMQIGPI2J8E1:00000002": done reading request body.
2023-05-12 08:15:41.346 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO'.
2023-05-12 08:15:41.348 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO'.
2023-05-12 08:15:41.350 +07:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO' ...
2023-05-12 08:15:41.359 +07:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO'.
2023-05-12 08:15:42.404 +07:00 [INF] Entity Framework Core 6.0.16 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.16' with options: None
2023-05-12 08:15:42.467 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(item => item.Id == __cityId_0)'
2023-05-12 08:15:42.812 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        APIDemo.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-12 08:15:42.887 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 08:15:42.965 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (74ms).
2023-05-12 08:15:42.985 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 08:15:43.007 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 08:15:43.027 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 08:15:43.062 +07:00 [INF] Executed DbCommand (41ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 08:15:43.085 +07:00 [DBG] A data reader was disposed.
2023-05-12 08:15:43.097 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 08:15:43.109 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 08:15:43.132 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(item => item.Id == __cityId_0)
    .FirstOrDefault()'
2023-05-12 08:15:43.188 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(50), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        APIDemo.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-12 08:15:43.206 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 08:15:43.208 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-12 08:15:43.213 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 08:15:43.217 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 08:15:43.221 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-05-12 08:15:43.228 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-05-12 08:15:43.255 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 08:15:43.284 +07:00 [DBG] A data reader was disposed.
2023-05-12 08:15:43.286 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 08:15:43.292 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 08:15:43.303 +07:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2023-05-12 08:15:43.310 +07:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2023-05-12 08:15:43.338 +07:00 [DBG] 1 entities were added and 0 entities were removed from navigation 'City.PointOfInterests'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 08:15:43.379 +07:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'Id.PointOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 08:15:43.415 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 08:15:43.425 +07:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2023-05-12 08:15:43.455 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 08:15:43.458 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 08:15:43.468 +07:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-05-12 08:15:43.479 +07:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-05-12 08:15:43.545 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 08:15:43.548 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-05-12 08:15:43.552 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 62), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointOfInterests" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "PointOfInterests"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2023-05-12 08:15:43.562 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 62), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointOfInterests" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "PointOfInterests"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2023-05-12 08:15:43.596 +07:00 [DBG] The foreign key property 'PointOfInterest.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-05-12 08:15:43.609 +07:00 [DBG] A data reader was disposed.
2023-05-12 08:15:43.619 +07:00 [DBG] Committing transaction.
2023-05-12 08:15:43.631 +07:00 [DBG] Committed transaction.
2023-05-12 08:15:43.641 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 08:15:43.647 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 08:15:43.659 +07:00 [DBG] Disposing transaction.
2023-05-12 08:15:43.673 +07:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 08:15:43.681 +07:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2023-05-12 08:15:43.692 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-05-12 08:15:43.707 +07:00 [DBG] No information found on request to perform content negotiation.
2023-05-12 08:15:43.710 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-05-12 08:15:43.716 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-05-12 08:15:43.720 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-05-12 08:15:43.725 +07:00 [INF] Executing CreatedAtRouteResult, writing value of type 'APIDemo.Models.PointOfInterestDTO'.
2023-05-12 08:15:43.749 +07:00 [DBG] Found the endpoints ["APIDemo.Controllers.PointOfInterestController.GetPointOfInterestsById (APIDemo)"] for address Microsoft.AspNetCore.Routing.RouteValuesAddress
2023-05-12 08:15:43.765 +07:00 [DBG] Successfully processed template api/cities/{cityId}/pointsofinterest/{pointofinterestId} for APIDemo.Controllers.PointOfInterestController.GetPointOfInterestsById (APIDemo) resulting in /api/cities/3/pointsofinterest/10 and 
2023-05-12 08:15:43.773 +07:00 [DBG] Link generation succeeded for endpoints ["APIDemo.Controllers.PointOfInterestController.GetPointOfInterestsById (APIDemo)"] with result /api/cities/3/pointsofinterest/10
2023-05-12 08:15:43.837 +07:00 [INF] Executed action APIDemo.Controllers.PointOfInterestController.CreatePointOfInterest (APIDemo) in 3092.9425ms
2023-05-12 08:15:43.843 +07:00 [INF] Executed endpoint 'APIDemo.Controllers.PointOfInterestController.CreatePointOfInterest (APIDemo)'
2023-05-12 08:15:43.845 +07:00 [DBG] Connection id "0HMQIGPI2J8E1" completed keep alive response.
2023-05-12 08:15:43.853 +07:00 [DBG] 'CityInfoContext' disposed.
2023-05-12 08:15:43.860 +07:00 [INF] Request finished HTTP/1.1 POST https://localhost:7269/api/cities/3/pointsofinterest application/json 117 - 201 112 application/json;+charset=utf-8 3209.4579ms
2023-05-12 08:16:17.610 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7269/api/cities/3/pointsofinterest - -
2023-05-12 08:16:17.611 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest'
2023-05-12 08:16:17.612 +07:00 [DBG] Endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/3/pointsofinterest'
2023-05-12 08:16:17.615 +07:00 [DBG] Request matched endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo)'
2023-05-12 08:16:17.616 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-12 08:16:17.617 +07:00 [INF] Executing endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo)'
2023-05-12 08:16:17.621 +07:00 [INF] Route matched with {action = "GetPointOfInterests", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[APIDemo.Models.PointOfInterestDTO]]] GetPointOfInterests(Int32) on controller APIDemo.Controllers.PointOfInterestController (APIDemo).
2023-05-12 08:16:17.624 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-12 08:16:17.626 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-12 08:16:17.628 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-12 08:16:17.631 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-12 08:16:17.633 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-12 08:16:17.637 +07:00 [DBG] Executing controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 08:16:17.638 +07:00 [DBG] Executed controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 08:16:17.645 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-05-12 08:16:17.646 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-05-12 08:16:17.648 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 08:16:17.649 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 08:16:17.652 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-05-12 08:16:17.654 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-05-12 08:16:17.665 +07:00 [INF] Entity Framework Core 6.0.16 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.16' with options: None
2023-05-12 08:16:17.678 +07:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(item => item.CityId == __cityId_0)'
2023-05-12 08:16:17.684 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PointOfInterest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
        SELECT p.Id, p.CityId, p.Description, p.Name
        FROM PointOfInterests AS p
        WHERE p.CityId == @__cityId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
    APIDemo.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-05-12 08:16:17.690 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 08:16:17.697 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (7ms).
2023-05-12 08:16:17.702 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 08:16:17.703 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 08:16:17.705 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE "p"."CityId" = @__cityId_0
2023-05-12 08:16:17.710 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE "p"."CityId" = @__cityId_0
2023-05-12 08:16:17.716 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 08:16:17.718 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 08:16:17.721 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 08:16:17.723 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 08:16:17.725 +07:00 [DBG] A data reader was disposed.
2023-05-12 08:16:17.727 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 08:16:17.735 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 08:16:17.742 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 08:16:17.743 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-12 08:16:17.746 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 08:16:17.817 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 08:16:17.821 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 08:16:17.830 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 08:16:17.834 +07:00 [DBG] A data reader was disposed.
2023-05-12 08:16:17.837 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 08:16:17.852 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 08:16:17.875 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-05-12 08:16:17.879 +07:00 [DBG] No information found on request to perform content negotiation.
2023-05-12 08:16:17.880 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-05-12 08:16:17.882 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-05-12 08:16:17.883 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-05-12 08:16:17.885 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[APIDemo.Models.PointOfInterestDTO, APIDemo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-05-12 08:16:17.905 +07:00 [INF] Executed action APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo) in 268.2515ms
2023-05-12 08:16:17.906 +07:00 [INF] Executed endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo)'
2023-05-12 08:16:17.907 +07:00 [DBG] Connection id "0HMQIGPI2J8E1" completed keep alive response.
2023-05-12 08:16:17.908 +07:00 [DBG] 'CityInfoContext' disposed.
2023-05-12 08:16:17.910 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7269/api/cities/3/pointsofinterest - - - 200 327 application/json;+charset=utf-8 299.9983ms
2023-05-12 08:16:30.591 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7269/api/cities/1/pointsofinterest - -
2023-05-12 08:16:30.592 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2023-05-12 08:16:30.595 +07:00 [DBG] Endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2023-05-12 08:16:30.598 +07:00 [DBG] Request matched endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo)'
2023-05-12 08:16:30.600 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-12 08:16:30.602 +07:00 [INF] Executing endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo)'
2023-05-12 08:16:30.603 +07:00 [INF] Route matched with {action = "GetPointOfInterests", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[APIDemo.Models.PointOfInterestDTO]]] GetPointOfInterests(Int32) on controller APIDemo.Controllers.PointOfInterestController (APIDemo).
2023-05-12 08:16:30.611 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-12 08:16:30.619 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-12 08:16:30.622 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-12 08:16:30.631 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-12 08:16:30.639 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-12 08:16:30.647 +07:00 [DBG] Executing controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 08:16:30.654 +07:00 [DBG] Executed controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 08:16:30.658 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-05-12 08:16:30.665 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-05-12 08:16:30.669 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 08:16:30.674 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 08:16:30.680 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-05-12 08:16:30.683 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-05-12 08:16:30.746 +07:00 [INF] Entity Framework Core 6.0.16 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.16' with options: None
2023-05-12 08:16:30.751 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 08:16:30.753 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-12 08:16:30.756 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 08:16:30.759 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 08:16:30.762 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE "p"."CityId" = @__cityId_0
2023-05-12 08:16:30.766 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE "p"."CityId" = @__cityId_0
2023-05-12 08:16:30.771 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 08:16:30.776 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 08:16:30.778 +07:00 [DBG] A data reader was disposed.
2023-05-12 08:16:30.780 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 08:16:30.783 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 08:16:30.785 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 08:16:30.787 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-12 08:16:30.792 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 08:16:30.794 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 08:16:30.797 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 08:16:30.801 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 08:16:30.807 +07:00 [DBG] A data reader was disposed.
2023-05-12 08:16:30.809 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 08:16:30.811 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 08:16:30.813 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-05-12 08:16:30.818 +07:00 [DBG] No information found on request to perform content negotiation.
2023-05-12 08:16:30.819 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-05-12 08:16:30.823 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-05-12 08:16:30.824 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-05-12 08:16:30.826 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[APIDemo.Models.PointOfInterestDTO, APIDemo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-05-12 08:16:30.828 +07:00 [INF] Executed action APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo) in 181.156ms
2023-05-12 08:16:30.830 +07:00 [INF] Executed endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo)'
2023-05-12 08:16:30.832 +07:00 [DBG] Connection id "0HMQIGPI2J8E1" completed keep alive response.
2023-05-12 08:16:30.834 +07:00 [DBG] 'CityInfoContext' disposed.
2023-05-12 08:16:30.838 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7269/api/cities/1/pointsofinterest - - - 200 108 application/json;+charset=utf-8 246.6516ms
2023-05-12 08:16:35.811 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7269/api/cities/2/pointsofinterest - -
2023-05-12 08:16:35.812 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/2/pointsofinterest'
2023-05-12 08:16:35.814 +07:00 [DBG] Endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/2/pointsofinterest'
2023-05-12 08:16:35.818 +07:00 [DBG] Request matched endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo)'
2023-05-12 08:16:35.820 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-12 08:16:35.821 +07:00 [INF] Executing endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo)'
2023-05-12 08:16:35.825 +07:00 [INF] Route matched with {action = "GetPointOfInterests", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[APIDemo.Models.PointOfInterestDTO]]] GetPointOfInterests(Int32) on controller APIDemo.Controllers.PointOfInterestController (APIDemo).
2023-05-12 08:16:35.829 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-12 08:16:35.832 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-12 08:16:35.834 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-12 08:16:35.841 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-12 08:16:35.843 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-12 08:16:35.847 +07:00 [DBG] Executing controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 08:16:35.850 +07:00 [DBG] Executed controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 08:16:35.851 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-05-12 08:16:35.853 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-05-12 08:16:35.857 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 08:16:35.859 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 08:16:35.862 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-05-12 08:16:35.864 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-05-12 08:16:35.868 +07:00 [INF] Entity Framework Core 6.0.16 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.16' with options: None
2023-05-12 08:16:35.873 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 08:16:35.875 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-12 08:16:35.877 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 08:16:35.880 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 08:16:35.885 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE "p"."CityId" = @__cityId_0
2023-05-12 08:16:35.895 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE "p"."CityId" = @__cityId_0
2023-05-12 08:16:35.902 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 08:16:35.908 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 08:16:35.914 +07:00 [DBG] A data reader was disposed.
2023-05-12 08:16:35.918 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 08:16:35.925 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 08:16:35.930 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 08:16:35.933 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-05-12 08:16:35.937 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 08:16:35.940 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 08:16:35.943 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 08:16:35.953 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 08:16:35.960 +07:00 [DBG] A data reader was disposed.
2023-05-12 08:16:35.963 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 08:16:35.973 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 08:16:35.979 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-05-12 08:16:35.990 +07:00 [DBG] No information found on request to perform content negotiation.
2023-05-12 08:16:35.993 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-05-12 08:16:35.996 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-05-12 08:16:36.001 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-05-12 08:16:36.006 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[APIDemo.Models.PointOfInterestDTO, APIDemo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-05-12 08:16:36.013 +07:00 [INF] Executed action APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo) in 166.3489ms
2023-05-12 08:16:36.018 +07:00 [INF] Executed endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo)'
2023-05-12 08:16:36.021 +07:00 [DBG] Connection id "0HMQIGPI2J8E1" completed keep alive response.
2023-05-12 08:16:36.025 +07:00 [DBG] 'CityInfoContext' disposed.
2023-05-12 08:16:36.028 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7269/api/cities/2/pointsofinterest - - - 200 89 application/json;+charset=utf-8 217.2439ms
2023-05-12 08:16:39.887 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7269/api/cities/3/pointsofinterest - -
2023-05-12 08:16:39.888 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest'
2023-05-12 08:16:39.890 +07:00 [DBG] Endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/3/pointsofinterest'
2023-05-12 08:16:39.892 +07:00 [DBG] Request matched endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo)'
2023-05-12 08:16:39.894 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-12 08:16:39.895 +07:00 [INF] Executing endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo)'
2023-05-12 08:16:39.900 +07:00 [INF] Route matched with {action = "GetPointOfInterests", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[APIDemo.Models.PointOfInterestDTO]]] GetPointOfInterests(Int32) on controller APIDemo.Controllers.PointOfInterestController (APIDemo).
2023-05-12 08:16:39.906 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-12 08:16:39.909 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-12 08:16:39.911 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-12 08:16:39.917 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-12 08:16:39.918 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-12 08:16:39.921 +07:00 [DBG] Executing controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 08:16:39.923 +07:00 [DBG] Executed controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 08:16:39.925 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-05-12 08:16:39.927 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-05-12 08:16:39.930 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 08:16:39.932 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 08:16:39.934 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-05-12 08:16:39.936 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-05-12 08:16:39.937 +07:00 [INF] Entity Framework Core 6.0.16 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.16' with options: None
2023-05-12 08:16:39.940 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 08:16:39.941 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-12 08:16:39.942 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 08:16:39.944 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 08:16:39.948 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE "p"."CityId" = @__cityId_0
2023-05-12 08:16:39.951 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE "p"."CityId" = @__cityId_0
2023-05-12 08:16:39.954 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 08:16:39.956 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 08:16:39.957 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 08:16:39.959 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 08:16:39.963 +07:00 [DBG] A data reader was disposed.
2023-05-12 08:16:39.964 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 08:16:39.967 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 08:16:39.969 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 08:16:39.970 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-05-12 08:16:39.971 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 08:16:39.973 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 08:16:39.975 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 08:16:39.980 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 08:16:39.984 +07:00 [DBG] A data reader was disposed.
2023-05-12 08:16:39.985 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 08:16:39.986 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 08:16:39.988 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-05-12 08:16:39.991 +07:00 [DBG] No information found on request to perform content negotiation.
2023-05-12 08:16:39.995 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-05-12 08:16:39.998 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-05-12 08:16:39.999 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-05-12 08:16:40.001 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[APIDemo.Models.PointOfInterestDTO, APIDemo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-05-12 08:16:40.003 +07:00 [INF] Executed action APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo) in 82.3698ms
2023-05-12 08:16:40.006 +07:00 [INF] Executed endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo)'
2023-05-12 08:16:40.007 +07:00 [DBG] Connection id "0HMQIGPI2J8E1" completed keep alive response.
2023-05-12 08:16:40.012 +07:00 [DBG] 'CityInfoContext' disposed.
2023-05-12 08:16:40.013 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7269/api/cities/3/pointsofinterest - - - 200 327 application/json;+charset=utf-8 126.5315ms
2023-05-12 08:23:36.080 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-05-12 08:23:36.201 +07:00 [DBG] Hosting starting
2023-05-12 08:23:36.344 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 75D11A6361D7470A96C9C9E8EC2F301CE14CF8DD)
2023-05-12 08:23:36.392 +07:00 [INF] Now listening on: https://localhost:7269
2023-05-12 08:23:36.394 +07:00 [INF] Now listening on: http://localhost:5078
2023-05-12 08:23:36.396 +07:00 [DBG] Loaded hosting startup assembly APIDemo
2023-05-12 08:23:36.397 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-05-12 08:23:36.398 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-05-12 08:23:36.400 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-12 08:23:36.401 +07:00 [INF] Hosting environment: Development
2023-05-12 08:23:36.402 +07:00 [INF] Content root path: C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\
2023-05-12 08:23:36.403 +07:00 [DBG] Hosting started
2023-05-12 08:23:36.631 +07:00 [DBG] Connection id "0HMQIGU17OMM7" received FIN.
2023-05-12 08:23:36.663 +07:00 [DBG] Connection id "0HMQIGU17OMM7" accepted.
2023-05-12 08:23:36.666 +07:00 [DBG] Connection id "0HMQIGU17OMM7" started.
2023-05-12 08:23:36.685 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-12 08:23:36.722 +07:00 [DBG] Connection id "0HMQIGU17OMM7" stopped.
2023-05-12 08:23:36.727 +07:00 [DBG] Connection id "0HMQIGU17OMM7" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-12 08:23:36.887 +07:00 [DBG] Connection id "0HMQIGU17OMM8" accepted.
2023-05-12 08:23:36.889 +07:00 [DBG] Connection id "0HMQIGU17OMM8" started.
2023-05-12 08:23:36.954 +07:00 [DBG] Connection 0HMQIGU17OMM8 established using the following protocol: "Tls12"
2023-05-12 08:23:37.010 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/index.html - -
2023-05-12 08:23:37.043 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-05-12 08:23:37.067 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-05-12 08:23:37.071 +07:00 [DBG] Request did not match any endpoints
2023-05-12 08:23:37.180 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-05-12 08:23:37.337 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_vs/browserLink - -
2023-05-12 08:23:37.337 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - -
2023-05-12 08:23:37.343 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-05-12 08:23:37.354 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 15.4403ms
2023-05-12 08:23:37.354 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/index.html - - - 200 - text/html;charset=utf-8 347.9272ms
2023-05-12 08:23:37.366 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 28.3084ms
2023-05-12 08:23:37.457 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - -
2023-05-12 08:23:37.459 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-05-12 08:23:37.461 +07:00 [DBG] Request did not match any endpoints
2023-05-12 08:23:37.623 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 165.4945ms
2023-05-12 08:36:49.005 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-05-12 08:36:49.112 +07:00 [DBG] Hosting starting
2023-05-12 08:36:49.253 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 75D11A6361D7470A96C9C9E8EC2F301CE14CF8DD)
2023-05-12 08:36:49.284 +07:00 [INF] Now listening on: https://localhost:7269
2023-05-12 08:36:49.286 +07:00 [INF] Now listening on: http://localhost:5078
2023-05-12 08:36:49.287 +07:00 [DBG] Loaded hosting startup assembly APIDemo
2023-05-12 08:36:49.288 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-05-12 08:36:49.289 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-05-12 08:36:49.291 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-12 08:36:49.292 +07:00 [INF] Hosting environment: Development
2023-05-12 08:36:49.293 +07:00 [INF] Content root path: C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\
2023-05-12 08:36:49.294 +07:00 [DBG] Hosting started
2023-05-12 08:36:49.814 +07:00 [DBG] Connection id "0HMQIH5DK37PB" accepted.
2023-05-12 08:36:49.814 +07:00 [DBG] Connection id "0HMQIH5DK37PC" accepted.
2023-05-12 08:36:49.818 +07:00 [DBG] Connection id "0HMQIH5DK37PB" started.
2023-05-12 08:36:49.819 +07:00 [DBG] Connection id "0HMQIH5DK37PC" started.
2023-05-12 08:36:49.835 +07:00 [DBG] Connection id "0HMQIH5DK37PC" received FIN.
2023-05-12 08:36:49.835 +07:00 [DBG] Connection id "0HMQIH5DK37PB" received FIN.
2023-05-12 08:36:49.861 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-12 08:36:49.861 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-12 08:36:49.899 +07:00 [DBG] Connection id "0HMQIH5DK37PB" stopped.
2023-05-12 08:36:49.899 +07:00 [DBG] Connection id "0HMQIH5DK37PC" stopped.
2023-05-12 08:36:49.906 +07:00 [DBG] Connection id "0HMQIH5DK37PC" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-12 08:36:49.906 +07:00 [DBG] Connection id "0HMQIH5DK37PB" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-12 08:36:50.119 +07:00 [DBG] Connection id "0HMQIH5DK37PD" accepted.
2023-05-12 08:36:50.127 +07:00 [DBG] Connection id "0HMQIH5DK37PD" started.
2023-05-12 08:36:50.198 +07:00 [DBG] Connection 0HMQIH5DK37PD established using the following protocol: "Tls12"
2023-05-12 08:36:50.259 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/index.html - -
2023-05-12 08:36:50.294 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-05-12 08:36:50.320 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-05-12 08:36:50.322 +07:00 [DBG] Request did not match any endpoints
2023-05-12 08:36:50.427 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-05-12 08:36:50.602 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_vs/browserLink - -
2023-05-12 08:36:50.602 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - -
2023-05-12 08:36:50.607 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-05-12 08:36:50.618 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 15.5658ms
2023-05-12 08:36:50.618 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/index.html - - - 200 - text/html;charset=utf-8 363.0691ms
2023-05-12 08:36:50.630 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 27.9662ms
2023-05-12 08:36:50.730 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - -
2023-05-12 08:36:50.732 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-05-12 08:36:50.734 +07:00 [DBG] Request did not match any endpoints
2023-05-12 08:36:50.901 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 170.6843ms
2023-05-12 08:36:53.414 +07:00 [DBG] Connection id "0HMQIH5DK37PE" accepted.
2023-05-12 08:36:53.414 +07:00 [DBG] Connection id "0HMQIH5DK37PE" received FIN.
2023-05-12 08:36:53.415 +07:00 [DBG] Connection id "0HMQIH5DK37PE" started.
2023-05-12 08:36:53.416 +07:00 [DBG] Connection id "0HMQIH5DK37PF" accepted.
2023-05-12 08:36:53.420 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-12 08:36:53.421 +07:00 [DBG] Connection id "0HMQIH5DK37PF" started.
2023-05-12 08:36:53.427 +07:00 [DBG] Connection id "0HMQIH5DK37PE" stopped.
2023-05-12 08:36:53.430 +07:00 [DBG] Connection id "0HMQIH5DK37PE" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-12 08:36:53.434 +07:00 [DBG] Connection 0HMQIH5DK37PF established using the following protocol: "Tls12"
2023-05-12 08:36:53.449 +07:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7269/api/cities/1/pointsofinterest/1 application/json 122
2023-05-12 08:36:53.457 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2023-05-12 08:36:53.463 +07:00 [DBG] Endpoint 'APIDemo.Controllers.PointOfInterestController.UpdatePointOfInterest (APIDemo)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointofinterestId}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2023-05-12 08:36:53.466 +07:00 [DBG] Request matched endpoint 'APIDemo.Controllers.PointOfInterestController.UpdatePointOfInterest (APIDemo)'
2023-05-12 08:36:53.468 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-12 08:36:53.472 +07:00 [INF] Executing endpoint 'APIDemo.Controllers.PointOfInterestController.UpdatePointOfInterest (APIDemo)'
2023-05-12 08:36:53.504 +07:00 [INF] Route matched with {action = "UpdatePointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[APIDemo.Models.PointOfInterestDTO]] UpdatePointOfInterest(Int32, Int32, APIDemo.Models.PointOfInterestUpdateDTO) on controller APIDemo.Controllers.PointOfInterestController (APIDemo).
2023-05-12 08:36:53.511 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-12 08:36:53.514 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-12 08:36:53.516 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-12 08:36:53.520 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-12 08:36:53.526 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-12 08:36:53.530 +07:00 [DBG] Executing controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 08:36:53.686 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-05-12 08:36:53.909 +07:00 [DBG] Executed controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 08:36:53.917 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-05-12 08:36:53.922 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-05-12 08:36:53.927 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 08:36:53.929 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 08:36:53.935 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-05-12 08:36:53.940 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-05-12 08:36:53.948 +07:00 [DBG] Attempting to bind parameter 'pointofinterestId' of type 'System.Int32' ...
2023-05-12 08:36:53.954 +07:00 [DBG] Attempting to bind parameter 'pointofinterestId' of type 'System.Int32' using the name 'pointofinterestId' in request data ...
2023-05-12 08:36:53.962 +07:00 [DBG] Done attempting to bind parameter 'pointofinterestId' of type 'System.Int32'.
2023-05-12 08:36:53.973 +07:00 [DBG] Done attempting to bind parameter 'pointofinterestId' of type 'System.Int32'.
2023-05-12 08:36:53.981 +07:00 [DBG] Attempting to validate the bound parameter 'pointofinterestId' of type 'System.Int32' ...
2023-05-12 08:36:53.988 +07:00 [DBG] Done attempting to validate the bound parameter 'pointofinterestId' of type 'System.Int32'.
2023-05-12 08:36:53.994 +07:00 [DBG] Attempting to bind parameter 'pointOfIntrest' of type 'APIDemo.Models.PointOfInterestUpdateDTO' ...
2023-05-12 08:36:54.006 +07:00 [DBG] Attempting to bind parameter 'pointOfIntrest' of type 'APIDemo.Models.PointOfInterestUpdateDTO' using the name '' in request data ...
2023-05-12 08:36:54.018 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-05-12 08:36:54.030 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-05-12 08:36:54.062 +07:00 [DBG] Connection id "0HMQIH5DK37PF", Request id "0HMQIH5DK37PF:00000002": started reading request body.
2023-05-12 08:36:54.068 +07:00 [DBG] Connection id "0HMQIH5DK37PF", Request id "0HMQIH5DK37PF:00000002": done reading request body.
2023-05-12 08:36:54.244 +07:00 [DBG] Done attempting to bind parameter 'pointOfIntrest' of type 'APIDemo.Models.PointOfInterestUpdateDTO'.
2023-05-12 08:36:54.246 +07:00 [DBG] Done attempting to bind parameter 'pointOfIntrest' of type 'APIDemo.Models.PointOfInterestUpdateDTO'.
2023-05-12 08:36:54.248 +07:00 [DBG] Attempting to validate the bound parameter 'pointOfIntrest' of type 'APIDemo.Models.PointOfInterestUpdateDTO' ...
2023-05-12 08:36:54.257 +07:00 [DBG] Done attempting to validate the bound parameter 'pointOfIntrest' of type 'APIDemo.Models.PointOfInterestUpdateDTO'.
2023-05-12 08:36:55.252 +07:00 [INF] Entity Framework Core 6.0.16 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.16' with options: None
2023-05-12 08:36:55.317 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(item => item.Id == __cityId_0)'
2023-05-12 08:36:55.642 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        APIDemo.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-12 08:36:55.715 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 08:36:55.792 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (72ms).
2023-05-12 08:36:55.812 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 08:36:55.833 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 08:36:55.853 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 08:36:55.889 +07:00 [INF] Executed DbCommand (43ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 08:36:55.907 +07:00 [DBG] A data reader was disposed.
2023-05-12 08:36:55.919 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 08:36:55.931 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 08:36:55.937 +07:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(item => item.CityId == __cityId_0 && item.Id == __pointofinterestId_1)
    .FirstOrDefault()'
2023-05-12 08:36:55.991 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<PointOfInterest>(
    asyncEnumerable: new SingleQueryingEnumerable<PointOfInterest>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
            SELECT TOP(1) p.Id, p.CityId, p.Description, p.Name
            FROM PointOfInterests AS p
            WHERE (p.CityId == @__cityId_0) && (p.Id == @__pointofinterestId_1)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
        APIDemo.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-12 08:36:56.012 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 08:36:56.015 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-05-12 08:36:56.022 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 08:36:56.027 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 08:36:56.030 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointofinterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointofinterestId_1)
LIMIT 1
2023-05-12 08:36:56.040 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointofinterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointofinterestId_1)
LIMIT 1
2023-05-12 08:36:56.065 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 08:36:56.099 +07:00 [DBG] A data reader was disposed.
2023-05-12 08:36:56.101 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 08:36:56.108 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 08:36:56.225 +07:00 [INF] Executed action APIDemo.Controllers.PointOfInterestController.UpdatePointOfInterest (APIDemo) in 2690.9007ms
2023-05-12 08:36:56.229 +07:00 [INF] Executed endpoint 'APIDemo.Controllers.PointOfInterestController.UpdatePointOfInterest (APIDemo)'
2023-05-12 08:36:56.232 +07:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
PointOfInterestUpdateDTO -> Task`1
APIDemo.Models.PointOfInterestUpdateDTO -> System.Threading.Tasks.Task`1[[APIDemo.Entities.PointOfInterest, APIDemo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
   at lambda_method62(Closure , PointOfInterestUpdateDTO , Task`1 , ResolutionContext )
   at APIDemo.Controllers.PointOfInterestController.UpdatePointOfInterest(Int32 cityId, Int32 pointofinterestId, PointOfInterestUpdateDTO pointOfIntrest) in C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\Controllers\PointOfInterestController.cs:line 135
   at lambda_method5(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-05-12 08:36:56.288 +07:00 [DBG] Connection id "0HMQIH5DK37PF" completed keep alive response.
2023-05-12 08:36:56.296 +07:00 [DBG] 'CityInfoContext' disposed.
2023-05-12 08:36:56.301 +07:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7269/api/cities/1/pointsofinterest/1 application/json 122 - 500 - text/plain;+charset=utf-8 2852.9121ms
2023-05-12 08:37:00.081 +07:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7269/api/cities/1/pointsofinterest/1 application/json 122
2023-05-12 08:37:00.083 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2023-05-12 08:37:00.085 +07:00 [DBG] Endpoint 'APIDemo.Controllers.PointOfInterestController.UpdatePointOfInterest (APIDemo)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointofinterestId}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2023-05-12 08:37:00.088 +07:00 [DBG] Request matched endpoint 'APIDemo.Controllers.PointOfInterestController.UpdatePointOfInterest (APIDemo)'
2023-05-12 08:37:00.090 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-12 08:37:00.094 +07:00 [INF] Executing endpoint 'APIDemo.Controllers.PointOfInterestController.UpdatePointOfInterest (APIDemo)'
2023-05-12 08:37:00.096 +07:00 [INF] Route matched with {action = "UpdatePointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[APIDemo.Models.PointOfInterestDTO]] UpdatePointOfInterest(Int32, Int32, APIDemo.Models.PointOfInterestUpdateDTO) on controller APIDemo.Controllers.PointOfInterestController (APIDemo).
2023-05-12 08:37:00.099 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-12 08:37:00.101 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-12 08:37:00.103 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-12 08:37:00.106 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-12 08:37:00.112 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-12 08:37:00.119 +07:00 [DBG] Executing controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 08:37:00.129 +07:00 [DBG] Executed controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 08:37:00.135 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-05-12 08:37:00.146 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-05-12 08:37:00.152 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 08:37:00.157 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 08:37:00.159 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-05-12 08:37:00.162 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-05-12 08:37:00.164 +07:00 [DBG] Attempting to bind parameter 'pointofinterestId' of type 'System.Int32' ...
2023-05-12 08:37:00.166 +07:00 [DBG] Attempting to bind parameter 'pointofinterestId' of type 'System.Int32' using the name 'pointofinterestId' in request data ...
2023-05-12 08:37:00.171 +07:00 [DBG] Done attempting to bind parameter 'pointofinterestId' of type 'System.Int32'.
2023-05-12 08:37:00.173 +07:00 [DBG] Done attempting to bind parameter 'pointofinterestId' of type 'System.Int32'.
2023-05-12 08:37:00.174 +07:00 [DBG] Attempting to validate the bound parameter 'pointofinterestId' of type 'System.Int32' ...
2023-05-12 08:37:00.176 +07:00 [DBG] Done attempting to validate the bound parameter 'pointofinterestId' of type 'System.Int32'.
2023-05-12 08:37:00.178 +07:00 [DBG] Attempting to bind parameter 'pointOfIntrest' of type 'APIDemo.Models.PointOfInterestUpdateDTO' ...
2023-05-12 08:37:00.179 +07:00 [DBG] Attempting to bind parameter 'pointOfIntrest' of type 'APIDemo.Models.PointOfInterestUpdateDTO' using the name '' in request data ...
2023-05-12 08:37:00.182 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-05-12 08:37:00.183 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-05-12 08:37:00.188 +07:00 [DBG] Connection id "0HMQIH5DK37PF", Request id "0HMQIH5DK37PF:00000003": started reading request body.
2023-05-12 08:37:00.189 +07:00 [DBG] Connection id "0HMQIH5DK37PF", Request id "0HMQIH5DK37PF:00000003": done reading request body.
2023-05-12 08:37:00.191 +07:00 [DBG] Done attempting to bind parameter 'pointOfIntrest' of type 'APIDemo.Models.PointOfInterestUpdateDTO'.
2023-05-12 08:37:00.192 +07:00 [DBG] Done attempting to bind parameter 'pointOfIntrest' of type 'APIDemo.Models.PointOfInterestUpdateDTO'.
2023-05-12 08:37:00.195 +07:00 [DBG] Attempting to validate the bound parameter 'pointOfIntrest' of type 'APIDemo.Models.PointOfInterestUpdateDTO' ...
2023-05-12 08:37:00.197 +07:00 [DBG] Done attempting to validate the bound parameter 'pointOfIntrest' of type 'APIDemo.Models.PointOfInterestUpdateDTO'.
2023-05-12 08:37:00.200 +07:00 [INF] Entity Framework Core 6.0.16 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.16' with options: None
2023-05-12 08:37:00.208 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 08:37:00.210 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-12 08:37:00.211 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 08:37:00.213 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 08:37:00.215 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 08:37:00.221 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 08:37:00.225 +07:00 [DBG] A data reader was disposed.
2023-05-12 08:37:00.226 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 08:37:00.229 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 08:37:00.232 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 08:37:00.236 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2023-05-12 08:37:00.237 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 08:37:00.239 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 08:37:00.241 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointofinterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointofinterestId_1)
LIMIT 1
2023-05-12 08:37:00.246 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointofinterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointofinterestId_1)
LIMIT 1
2023-05-12 08:37:00.252 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 08:37:00.254 +07:00 [DBG] A data reader was disposed.
2023-05-12 08:37:00.256 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 08:37:00.258 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 08:37:00.298 +07:00 [INF] Executed action APIDemo.Controllers.PointOfInterestController.UpdatePointOfInterest (APIDemo) in 179.0752ms
2023-05-12 08:37:00.300 +07:00 [INF] Executed endpoint 'APIDemo.Controllers.PointOfInterestController.UpdatePointOfInterest (APIDemo)'
2023-05-12 08:37:00.302 +07:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
PointOfInterestUpdateDTO -> Task`1
APIDemo.Models.PointOfInterestUpdateDTO -> System.Threading.Tasks.Task`1[[APIDemo.Entities.PointOfInterest, APIDemo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
   at lambda_method62(Closure , PointOfInterestUpdateDTO , Task`1 , ResolutionContext )
   at APIDemo.Controllers.PointOfInterestController.UpdatePointOfInterest(Int32 cityId, Int32 pointofinterestId, PointOfInterestUpdateDTO pointOfIntrest) in C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\Controllers\PointOfInterestController.cs:line 135
   at lambda_method5(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-05-12 08:37:00.336 +07:00 [DBG] Connection id "0HMQIH5DK37PF" completed keep alive response.
2023-05-12 08:37:00.338 +07:00 [DBG] 'CityInfoContext' disposed.
2023-05-12 08:37:00.341 +07:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7269/api/cities/1/pointsofinterest/1 application/json 122 - 500 - text/plain;+charset=utf-8 260.1664ms
2023-05-12 08:38:38.154 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-05-12 08:38:38.282 +07:00 [DBG] Hosting starting
2023-05-12 08:38:38.429 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 75D11A6361D7470A96C9C9E8EC2F301CE14CF8DD)
2023-05-12 08:38:38.514 +07:00 [INF] Now listening on: https://localhost:7269
2023-05-12 08:38:38.516 +07:00 [INF] Now listening on: http://localhost:5078
2023-05-12 08:38:38.517 +07:00 [DBG] Loaded hosting startup assembly APIDemo
2023-05-12 08:38:38.518 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-05-12 08:38:38.519 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-05-12 08:38:38.520 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-12 08:38:38.521 +07:00 [INF] Hosting environment: Development
2023-05-12 08:38:38.521 +07:00 [INF] Content root path: C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\
2023-05-12 08:38:38.522 +07:00 [DBG] Hosting started
2023-05-12 08:38:38.884 +07:00 [DBG] Connection id "0HMQIH6E4AI26" received FIN.
2023-05-12 08:38:38.886 +07:00 [DBG] Connection id "0HMQIH6E4AI27" received FIN.
2023-05-12 08:38:38.888 +07:00 [DBG] Connection id "0HMQIH6E4AI27" accepted.
2023-05-12 08:38:38.888 +07:00 [DBG] Connection id "0HMQIH6E4AI26" accepted.
2023-05-12 08:38:38.891 +07:00 [DBG] Connection id "0HMQIH6E4AI27" started.
2023-05-12 08:38:38.891 +07:00 [DBG] Connection id "0HMQIH6E4AI26" started.
2023-05-12 08:38:38.913 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-12 08:38:38.913 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-12 08:38:38.955 +07:00 [DBG] Connection id "0HMQIH6E4AI26" stopped.
2023-05-12 08:38:38.955 +07:00 [DBG] Connection id "0HMQIH6E4AI27" stopped.
2023-05-12 08:38:38.961 +07:00 [DBG] Connection id "0HMQIH6E4AI26" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-12 08:38:38.961 +07:00 [DBG] Connection id "0HMQIH6E4AI27" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-12 08:38:39.122 +07:00 [DBG] Connection id "0HMQIH6E4AI28" accepted.
2023-05-12 08:38:39.124 +07:00 [DBG] Connection id "0HMQIH6E4AI28" started.
2023-05-12 08:38:39.202 +07:00 [DBG] Connection 0HMQIH6E4AI28 established using the following protocol: "Tls12"
2023-05-12 08:38:39.254 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/index.html - -
2023-05-12 08:38:39.287 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-05-12 08:38:39.312 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-05-12 08:38:39.316 +07:00 [DBG] Request did not match any endpoints
2023-05-12 08:38:39.433 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-05-12 08:38:39.589 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - -
2023-05-12 08:38:39.590 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_vs/browserLink - -
2023-05-12 08:38:39.603 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-05-12 08:38:39.611 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 20.8957ms
2023-05-12 08:38:39.611 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/index.html - - - 200 - text/html;charset=utf-8 360.4422ms
2023-05-12 08:38:39.626 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 36.3658ms
2023-05-12 08:38:39.717 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - -
2023-05-12 08:38:39.719 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-05-12 08:38:39.720 +07:00 [DBG] Request did not match any endpoints
2023-05-12 08:38:39.901 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 184.1665ms
2023-05-12 08:38:43.275 +07:00 [DBG] Connection id "0HMQIH6E4AI29" accepted.
2023-05-12 08:38:43.279 +07:00 [DBG] Connection id "0HMQIH6E4AI29" received FIN.
2023-05-12 08:38:43.280 +07:00 [DBG] Connection id "0HMQIH6E4AI29" started.
2023-05-12 08:38:43.281 +07:00 [DBG] Connection id "0HMQIH6E4AI2A" accepted.
2023-05-12 08:38:43.284 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-12 08:38:43.287 +07:00 [DBG] Connection id "0HMQIH6E4AI2A" started.
2023-05-12 08:38:43.292 +07:00 [DBG] Connection id "0HMQIH6E4AI29" stopped.
2023-05-12 08:38:43.296 +07:00 [DBG] Connection id "0HMQIH6E4AI29" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-12 08:38:43.299 +07:00 [DBG] Connection 0HMQIH6E4AI2A established using the following protocol: "Tls12"
2023-05-12 08:38:43.315 +07:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7269/api/cities/1/pointsofinterest/1 application/json 122
2023-05-12 08:38:43.328 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2023-05-12 08:38:43.336 +07:00 [DBG] Endpoint 'APIDemo.Controllers.PointOfInterestController.UpdatePointOfInterest (APIDemo)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointofinterestId}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2023-05-12 08:38:43.341 +07:00 [DBG] Request matched endpoint 'APIDemo.Controllers.PointOfInterestController.UpdatePointOfInterest (APIDemo)'
2023-05-12 08:38:43.345 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-12 08:38:43.353 +07:00 [INF] Executing endpoint 'APIDemo.Controllers.PointOfInterestController.UpdatePointOfInterest (APIDemo)'
2023-05-12 08:38:43.388 +07:00 [INF] Route matched with {action = "UpdatePointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[APIDemo.Models.PointOfInterestDTO]] UpdatePointOfInterest(Int32, Int32, APIDemo.Models.PointOfInterestUpdateDTO) on controller APIDemo.Controllers.PointOfInterestController (APIDemo).
2023-05-12 08:38:43.396 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-12 08:38:43.399 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-12 08:38:43.403 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-12 08:38:43.407 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-12 08:38:43.410 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-12 08:38:43.416 +07:00 [DBG] Executing controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 08:38:43.601 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-05-12 08:38:43.808 +07:00 [DBG] Executed controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 08:38:43.822 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-05-12 08:38:43.831 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-05-12 08:38:43.841 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 08:38:43.845 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 08:38:43.853 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-05-12 08:38:43.863 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-05-12 08:38:43.869 +07:00 [DBG] Attempting to bind parameter 'pointofinterestId' of type 'System.Int32' ...
2023-05-12 08:38:43.871 +07:00 [DBG] Attempting to bind parameter 'pointofinterestId' of type 'System.Int32' using the name 'pointofinterestId' in request data ...
2023-05-12 08:38:43.875 +07:00 [DBG] Done attempting to bind parameter 'pointofinterestId' of type 'System.Int32'.
2023-05-12 08:38:43.877 +07:00 [DBG] Done attempting to bind parameter 'pointofinterestId' of type 'System.Int32'.
2023-05-12 08:38:43.879 +07:00 [DBG] Attempting to validate the bound parameter 'pointofinterestId' of type 'System.Int32' ...
2023-05-12 08:38:43.883 +07:00 [DBG] Done attempting to validate the bound parameter 'pointofinterestId' of type 'System.Int32'.
2023-05-12 08:38:43.885 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestUpdateDTO' ...
2023-05-12 08:38:43.888 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestUpdateDTO' using the name '' in request data ...
2023-05-12 08:38:43.891 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-05-12 08:38:43.893 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-05-12 08:38:43.907 +07:00 [DBG] Connection id "0HMQIH6E4AI2A", Request id "0HMQIH6E4AI2A:00000002": started reading request body.
2023-05-12 08:38:43.910 +07:00 [DBG] Connection id "0HMQIH6E4AI2A", Request id "0HMQIH6E4AI2A:00000002": done reading request body.
2023-05-12 08:38:44.050 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestUpdateDTO'.
2023-05-12 08:38:44.052 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestUpdateDTO'.
2023-05-12 08:38:44.054 +07:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestUpdateDTO' ...
2023-05-12 08:38:44.064 +07:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestUpdateDTO'.
2023-05-12 08:38:45.074 +07:00 [INF] Entity Framework Core 6.0.16 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.16' with options: None
2023-05-12 08:38:45.158 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(item => item.Id == __cityId_0)'
2023-05-12 08:38:45.509 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        APIDemo.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-12 08:38:45.589 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 08:38:45.666 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (70ms).
2023-05-12 08:38:45.685 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 08:38:45.705 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 08:38:45.725 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 08:38:45.758 +07:00 [INF] Executed DbCommand (40ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 08:38:45.780 +07:00 [DBG] A data reader was disposed.
2023-05-12 08:38:45.792 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 08:38:45.801 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 08:38:45.812 +07:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(item => item.CityId == __cityId_0 && item.Id == __pointofinterestId_1)
    .FirstOrDefault()'
2023-05-12 08:38:45.861 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<PointOfInterest>(
    asyncEnumerable: new SingleQueryingEnumerable<PointOfInterest>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
            SELECT TOP(1) p.Id, p.CityId, p.Description, p.Name
            FROM PointOfInterests AS p
            WHERE (p.CityId == @__cityId_0) && (p.Id == @__pointofinterestId_1)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
        APIDemo.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-12 08:38:45.879 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 08:38:45.881 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-12 08:38:45.883 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 08:38:45.886 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 08:38:45.888 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointofinterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointofinterestId_1)
LIMIT 1
2023-05-12 08:38:45.896 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointofinterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointofinterestId_1)
LIMIT 1
2023-05-12 08:38:45.916 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 08:38:45.951 +07:00 [DBG] A data reader was disposed.
2023-05-12 08:38:45.953 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 08:38:45.957 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 08:38:46.093 +07:00 [INF] Executed action APIDemo.Controllers.PointOfInterestController.UpdatePointOfInterest (APIDemo) in 2666.2511ms
2023-05-12 08:38:46.103 +07:00 [INF] Executed endpoint 'APIDemo.Controllers.PointOfInterestController.UpdatePointOfInterest (APIDemo)'
2023-05-12 08:38:46.109 +07:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
PointOfInterestUpdateDTO -> Task`1
APIDemo.Models.PointOfInterestUpdateDTO -> System.Threading.Tasks.Task`1[[APIDemo.Entities.PointOfInterest, APIDemo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
   at lambda_method62(Closure , PointOfInterestUpdateDTO , Task`1 , ResolutionContext )
   at APIDemo.Controllers.PointOfInterestController.UpdatePointOfInterest(Int32 cityId, Int32 pointofinterestId, PointOfInterestUpdateDTO pointOfInterest) in C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\Controllers\PointOfInterestController.cs:line 135
   at lambda_method5(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-05-12 08:38:46.187 +07:00 [DBG] Connection id "0HMQIH6E4AI2A" completed keep alive response.
2023-05-12 08:38:46.196 +07:00 [DBG] 'CityInfoContext' disposed.
2023-05-12 08:38:46.201 +07:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7269/api/cities/1/pointsofinterest/1 application/json 122 - 500 - text/plain;+charset=utf-8 2885.9132ms
2023-05-12 08:49:52.513 +07:00 [DBG] Connection id "0HMQIH6E4AI28" received FIN.
2023-05-12 08:49:52.794 +07:00 [DBG] Connection id "0HMQIH6E4AI28" is closed. The last processed stream ID was 7.
2023-05-12 08:49:52.823 +07:00 [DBG] Connection id "0HMQIH6E4AI28" sending FIN because: "The client closed the connection."
2023-05-12 08:49:52.842 +07:00 [DBG] Connection id "0HMQIH6E4AI28" stopped.
2023-05-12 12:53:06.100 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-05-12 12:53:06.441 +07:00 [DBG] Hosting starting
2023-05-12 12:53:06.753 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 75D11A6361D7470A96C9C9E8EC2F301CE14CF8DD)
2023-05-12 12:53:06.826 +07:00 [INF] Now listening on: https://localhost:7269
2023-05-12 12:53:06.829 +07:00 [INF] Now listening on: http://localhost:5078
2023-05-12 12:53:06.830 +07:00 [DBG] Loaded hosting startup assembly APIDemo
2023-05-12 12:53:06.831 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-05-12 12:53:06.834 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-05-12 12:53:06.835 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-12 12:53:06.838 +07:00 [INF] Hosting environment: Development
2023-05-12 12:53:06.840 +07:00 [INF] Content root path: C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\
2023-05-12 12:53:06.841 +07:00 [DBG] Hosting started
2023-05-12 12:53:07.226 +07:00 [DBG] Connection id "0HMQILKKEHI44" accepted.
2023-05-12 12:53:07.226 +07:00 [DBG] Connection id "0HMQILKKEHI43" accepted.
2023-05-12 12:53:07.229 +07:00 [DBG] Connection id "0HMQILKKEHI44" started.
2023-05-12 12:53:07.229 +07:00 [DBG] Connection id "0HMQILKKEHI43" started.
2023-05-12 12:53:07.773 +07:00 [DBG] Connection id "0HMQILKKEHI45" accepted.
2023-05-12 12:53:07.780 +07:00 [DBG] Connection id "0HMQILKKEHI45" started.
2023-05-12 12:53:07.909 +07:00 [DBG] Connection 0HMQILKKEHI45 established using the following protocol: "Tls12"
2023-05-12 12:53:08.016 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger - -
2023-05-12 12:53:08.083 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-05-12 12:53:08.123 +07:00 [DBG] No candidates found for the request path '/swagger'
2023-05-12 12:53:08.126 +07:00 [DBG] Request did not match any endpoints
2023-05-12 12:53:08.257 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger - - - 301 0 - 247.1536ms
2023-05-12 12:53:08.266 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/index.html - -
2023-05-12 12:53:08.267 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-05-12 12:53:08.269 +07:00 [DBG] Request did not match any endpoints
2023-05-12 12:53:08.403 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-05-12 12:53:08.703 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/swagger-ui.css - -
2023-05-12 12:53:08.708 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/swagger-ui-bundle.js - -
2023-05-12 12:53:08.710 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/swagger-ui-standalone-preset.js - -
2023-05-12 12:53:08.710 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - -
2023-05-12 12:53:08.710 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_vs/browserLink - -
2023-05-12 12:53:08.711 +07:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2023-05-12 12:53:08.712 +07:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2023-05-12 12:53:08.714 +07:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2023-05-12 12:53:08.719 +07:00 [DBG] Request did not match any endpoints
2023-05-12 12:53:08.719 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-05-12 12:53:08.726 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 15.4168ms
2023-05-12 12:53:08.721 +07:00 [DBG] Request did not match any endpoints
2023-05-12 12:53:08.724 +07:00 [DBG] Request did not match any endpoints
2023-05-12 12:53:08.738 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/index.html - - - 200 - text/html;charset=utf-8 471.9198ms
2023-05-12 12:53:08.806 +07:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2023-05-12 12:53:08.806 +07:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2023-05-12 12:53:08.815 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 104.8731ms
2023-05-12 12:53:08.811 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/swagger-ui.css - - - 200 143632 text/css 107.4233ms
2023-05-12 12:53:08.825 +07:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2023-05-12 12:53:08.828 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 119.2243ms
2023-05-12 12:53:08.847 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 136.8439ms
2023-05-12 12:53:09.115 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - -
2023-05-12 12:53:09.116 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-05-12 12:53:09.119 +07:00 [DBG] Request did not match any endpoints
2023-05-12 12:53:09.384 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 269.2718ms
2023-05-12 12:53:17.243 +07:00 [DBG] Authentication of the HTTPS connection timed out.
2023-05-12 12:53:17.243 +07:00 [DBG] Authentication of the HTTPS connection timed out.
2023-05-12 12:53:17.250 +07:00 [DBG] Connection id "0HMQILKKEHI43" stopped.
2023-05-12 12:53:17.250 +07:00 [DBG] Connection id "0HMQILKKEHI44" stopped.
2023-05-12 12:53:17.253 +07:00 [DBG] Connection id "0HMQILKKEHI43" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-12 12:53:17.254 +07:00 [DBG] Connection id "0HMQILKKEHI44" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-12 12:53:57.118 +07:00 [DBG] Connection id "0HMQILKKEHI46" accepted.
2023-05-12 12:53:57.123 +07:00 [DBG] Connection id "0HMQILKKEHI46" received FIN.
2023-05-12 12:53:57.125 +07:00 [DBG] Connection id "0HMQILKKEHI46" started.
2023-05-12 12:53:57.126 +07:00 [DBG] Connection id "0HMQILKKEHI47" accepted.
2023-05-12 12:53:57.140 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-12 12:53:57.142 +07:00 [DBG] Connection id "0HMQILKKEHI47" started.
2023-05-12 12:53:57.182 +07:00 [DBG] Connection id "0HMQILKKEHI46" stopped.
2023-05-12 12:53:57.187 +07:00 [DBG] Connection id "0HMQILKKEHI46" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-12 12:53:57.197 +07:00 [DBG] Connection 0HMQILKKEHI47 established using the following protocol: "Tls12"
2023-05-12 12:53:57.210 +07:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7269/api/cities/1/pointsofinterest/1 application/json 122
2023-05-12 12:53:57.220 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2023-05-12 12:53:57.226 +07:00 [DBG] Endpoint 'APIDemo.Controllers.PointOfInterestController.UpdatePointOfInterest (APIDemo)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointofinterestId}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2023-05-12 12:53:57.229 +07:00 [DBG] Request matched endpoint 'APIDemo.Controllers.PointOfInterestController.UpdatePointOfInterest (APIDemo)'
2023-05-12 12:53:57.233 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-12 12:53:57.239 +07:00 [INF] Executing endpoint 'APIDemo.Controllers.PointOfInterestController.UpdatePointOfInterest (APIDemo)'
2023-05-12 12:53:57.274 +07:00 [INF] Route matched with {action = "UpdatePointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[APIDemo.Models.PointOfInterestDTO]] UpdatePointOfInterest(Int32, Int32, APIDemo.Models.PointOfInterestUpdateDTO) on controller APIDemo.Controllers.PointOfInterestController (APIDemo).
2023-05-12 12:53:57.279 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-12 12:53:57.281 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-12 12:53:57.283 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-12 12:53:57.285 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-12 12:53:57.287 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-12 12:53:57.290 +07:00 [DBG] Executing controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 12:53:57.456 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-05-12 12:53:57.741 +07:00 [DBG] Executed controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 12:53:57.748 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-05-12 12:53:57.750 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-05-12 12:53:57.753 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 12:53:57.755 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 12:53:57.756 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-05-12 12:53:57.759 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-05-12 12:53:57.763 +07:00 [DBG] Attempting to bind parameter 'pointofinterestId' of type 'System.Int32' ...
2023-05-12 12:53:57.765 +07:00 [DBG] Attempting to bind parameter 'pointofinterestId' of type 'System.Int32' using the name 'pointofinterestId' in request data ...
2023-05-12 12:53:57.767 +07:00 [DBG] Done attempting to bind parameter 'pointofinterestId' of type 'System.Int32'.
2023-05-12 12:53:57.768 +07:00 [DBG] Done attempting to bind parameter 'pointofinterestId' of type 'System.Int32'.
2023-05-12 12:53:57.770 +07:00 [DBG] Attempting to validate the bound parameter 'pointofinterestId' of type 'System.Int32' ...
2023-05-12 12:53:57.772 +07:00 [DBG] Done attempting to validate the bound parameter 'pointofinterestId' of type 'System.Int32'.
2023-05-12 12:53:57.774 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestUpdateDTO' ...
2023-05-12 12:53:57.776 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestUpdateDTO' using the name '' in request data ...
2023-05-12 12:53:57.780 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-05-12 12:53:57.785 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-05-12 12:53:57.798 +07:00 [DBG] Connection id "0HMQILKKEHI47", Request id "0HMQILKKEHI47:00000002": started reading request body.
2023-05-12 12:53:57.801 +07:00 [DBG] Connection id "0HMQILKKEHI47", Request id "0HMQILKKEHI47:00000002": done reading request body.
2023-05-12 12:53:57.954 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestUpdateDTO'.
2023-05-12 12:53:57.959 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestUpdateDTO'.
2023-05-12 12:53:57.964 +07:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestUpdateDTO' ...
2023-05-12 12:53:57.976 +07:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestUpdateDTO'.
2023-05-12 12:53:59.005 +07:00 [INF] Entity Framework Core 6.0.16 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.16' with options: None
2023-05-12 12:53:59.074 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(item => item.Id == __cityId_0)'
2023-05-12 12:53:59.421 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        APIDemo.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-12 12:53:59.501 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 12:53:59.748 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (243ms).
2023-05-12 12:53:59.767 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 12:53:59.791 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 12:53:59.811 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 12:53:59.858 +07:00 [INF] Executed DbCommand (53ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 12:53:59.877 +07:00 [DBG] A data reader was disposed.
2023-05-12 12:53:59.889 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 12:53:59.900 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 12:53:59.908 +07:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(item => item.CityId == __cityId_0 && item.Id == __pointofinterestId_1)
    .FirstOrDefault()'
2023-05-12 12:53:59.963 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<PointOfInterest>(
    asyncEnumerable: new SingleQueryingEnumerable<PointOfInterest>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
            SELECT TOP(1) p.Id, p.CityId, p.Description, p.Name
            FROM PointOfInterests AS p
            WHERE (p.CityId == @__cityId_0) && (p.Id == @__pointofinterestId_1)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
        APIDemo.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-12 12:53:59.982 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 12:53:59.986 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-05-12 12:53:59.989 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 12:53:59.994 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 12:53:59.999 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointofinterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointofinterestId_1)
LIMIT 1
2023-05-12 12:54:00.007 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointofinterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointofinterestId_1)
LIMIT 1
2023-05-12 12:54:00.027 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 12:54:00.061 +07:00 [DBG] A data reader was disposed.
2023-05-12 12:54:00.064 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 12:54:00.068 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 12:54:00.208 +07:00 [INF] Executed action APIDemo.Controllers.PointOfInterestController.UpdatePointOfInterest (APIDemo) in 2911.9857ms
2023-05-12 12:54:00.215 +07:00 [INF] Executed endpoint 'APIDemo.Controllers.PointOfInterestController.UpdatePointOfInterest (APIDemo)'
2023-05-12 12:54:00.220 +07:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
PointOfInterestUpdateDTO -> Task`1
APIDemo.Models.PointOfInterestUpdateDTO -> System.Threading.Tasks.Task`1[[APIDemo.Entities.PointOfInterest, APIDemo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
   at lambda_method62(Closure , PointOfInterestUpdateDTO , Task`1 , ResolutionContext )
   at APIDemo.Controllers.PointOfInterestController.UpdatePointOfInterest(Int32 cityId, Int32 pointofinterestId, PointOfInterestUpdateDTO pointOfInterest) in C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\Controllers\PointOfInterestController.cs:line 135
   at lambda_method5(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-05-12 12:54:00.267 +07:00 [DBG] Connection id "0HMQILKKEHI47" completed keep alive response.
2023-05-12 12:54:00.277 +07:00 [DBG] 'CityInfoContext' disposed.
2023-05-12 12:54:00.283 +07:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7269/api/cities/1/pointsofinterest/1 application/json 122 - 500 - text/plain;+charset=utf-8 3072.9123ms
2023-05-12 12:54:48.022 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-05-12 12:54:48.139 +07:00 [DBG] Hosting starting
2023-05-12 12:54:48.279 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 75D11A6361D7470A96C9C9E8EC2F301CE14CF8DD)
2023-05-12 12:54:48.332 +07:00 [INF] Now listening on: https://localhost:7269
2023-05-12 12:54:48.334 +07:00 [INF] Now listening on: http://localhost:5078
2023-05-12 12:54:48.336 +07:00 [DBG] Loaded hosting startup assembly APIDemo
2023-05-12 12:54:48.338 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-05-12 12:54:48.339 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-05-12 12:54:48.341 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-12 12:54:48.343 +07:00 [INF] Hosting environment: Development
2023-05-12 12:54:48.346 +07:00 [DBG] Connection id "0HMQILLIIU7B6" received FIN.
2023-05-12 12:54:48.347 +07:00 [INF] Content root path: C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\
2023-05-12 12:54:48.348 +07:00 [DBG] Connection id "0HMQILLIIU7B7" received FIN.
2023-05-12 12:54:48.349 +07:00 [DBG] Hosting started
2023-05-12 12:54:48.351 +07:00 [DBG] Connection id "0HMQILLIIU7B7" accepted.
2023-05-12 12:54:48.351 +07:00 [DBG] Connection id "0HMQILLIIU7B6" accepted.
2023-05-12 12:54:48.354 +07:00 [DBG] Connection id "0HMQILLIIU7B7" started.
2023-05-12 12:54:48.355 +07:00 [DBG] Connection id "0HMQILLIIU7B6" started.
2023-05-12 12:54:48.381 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-12 12:54:48.381 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-12 12:54:48.422 +07:00 [DBG] Connection id "0HMQILLIIU7B6" stopped.
2023-05-12 12:54:48.422 +07:00 [DBG] Connection id "0HMQILLIIU7B7" stopped.
2023-05-12 12:54:48.428 +07:00 [DBG] Connection id "0HMQILLIIU7B6" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-12 12:54:48.428 +07:00 [DBG] Connection id "0HMQILLIIU7B7" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-12 12:54:48.637 +07:00 [DBG] Connection id "0HMQILLIIU7B8" accepted.
2023-05-12 12:54:48.644 +07:00 [DBG] Connection id "0HMQILLIIU7B8" started.
2023-05-12 12:54:48.693 +07:00 [DBG] Connection 0HMQILLIIU7B8 established using the following protocol: "Tls12"
2023-05-12 12:54:48.743 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/index.html - -
2023-05-12 12:54:48.776 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-05-12 12:54:48.805 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-05-12 12:54:48.807 +07:00 [DBG] Request did not match any endpoints
2023-05-12 12:54:48.917 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-05-12 12:54:49.075 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_vs/browserLink - -
2023-05-12 12:54:49.075 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - -
2023-05-12 12:54:49.082 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-05-12 12:54:49.098 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 17.6199ms
2023-05-12 12:54:49.098 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/index.html - - - 200 - text/html;charset=utf-8 358.0473ms
2023-05-12 12:54:49.116 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 41.6870ms
2023-05-12 12:54:49.290 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - -
2023-05-12 12:54:49.292 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-05-12 12:54:49.295 +07:00 [DBG] Request did not match any endpoints
2023-05-12 12:54:49.456 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 165.5121ms
2023-05-12 12:54:52.456 +07:00 [DBG] Connection id "0HMQILLIIU7B9" accepted.
2023-05-12 12:54:52.457 +07:00 [DBG] Connection id "0HMQILLIIU7B9" received FIN.
2023-05-12 12:54:52.457 +07:00 [DBG] Connection id "0HMQILLIIU7B9" started.
2023-05-12 12:54:52.458 +07:00 [DBG] Connection id "0HMQILLIIU7BA" accepted.
2023-05-12 12:54:52.461 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-12 12:54:52.462 +07:00 [DBG] Connection id "0HMQILLIIU7BA" started.
2023-05-12 12:54:52.470 +07:00 [DBG] Connection id "0HMQILLIIU7B9" stopped.
2023-05-12 12:54:52.473 +07:00 [DBG] Connection id "0HMQILLIIU7B9" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-12 12:54:52.482 +07:00 [DBG] Connection 0HMQILLIIU7BA established using the following protocol: "Tls12"
2023-05-12 12:54:52.492 +07:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7269/api/cities/1/pointsofinterest/1 application/json 122
2023-05-12 12:54:52.501 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2023-05-12 12:54:52.507 +07:00 [DBG] Endpoint 'APIDemo.Controllers.PointOfInterestController.UpdatePointOfInterest (APIDemo)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointofinterestId}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2023-05-12 12:54:52.511 +07:00 [DBG] Request matched endpoint 'APIDemo.Controllers.PointOfInterestController.UpdatePointOfInterest (APIDemo)'
2023-05-12 12:54:52.517 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-12 12:54:52.521 +07:00 [INF] Executing endpoint 'APIDemo.Controllers.PointOfInterestController.UpdatePointOfInterest (APIDemo)'
2023-05-12 12:54:52.555 +07:00 [INF] Route matched with {action = "UpdatePointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[APIDemo.Models.PointOfInterestDTO]] UpdatePointOfInterest(Int32, Int32, APIDemo.Models.PointOfInterestUpdateDTO) on controller APIDemo.Controllers.PointOfInterestController (APIDemo).
2023-05-12 12:54:52.559 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-12 12:54:52.561 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-12 12:54:52.564 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-12 12:54:52.568 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-12 12:54:52.570 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-12 12:54:52.574 +07:00 [DBG] Executing controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 12:54:52.752 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-05-12 12:54:52.983 +07:00 [DBG] Executed controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 12:54:52.989 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-05-12 12:54:52.993 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-05-12 12:54:52.996 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 12:54:52.997 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 12:54:52.999 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-05-12 12:54:53.005 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-05-12 12:54:53.009 +07:00 [DBG] Attempting to bind parameter 'pointofinterestId' of type 'System.Int32' ...
2023-05-12 12:54:53.011 +07:00 [DBG] Attempting to bind parameter 'pointofinterestId' of type 'System.Int32' using the name 'pointofinterestId' in request data ...
2023-05-12 12:54:53.014 +07:00 [DBG] Done attempting to bind parameter 'pointofinterestId' of type 'System.Int32'.
2023-05-12 12:54:53.016 +07:00 [DBG] Done attempting to bind parameter 'pointofinterestId' of type 'System.Int32'.
2023-05-12 12:54:53.019 +07:00 [DBG] Attempting to validate the bound parameter 'pointofinterestId' of type 'System.Int32' ...
2023-05-12 12:54:53.021 +07:00 [DBG] Done attempting to validate the bound parameter 'pointofinterestId' of type 'System.Int32'.
2023-05-12 12:54:53.024 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestUpdateDTO' ...
2023-05-12 12:54:53.027 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestUpdateDTO' using the name '' in request data ...
2023-05-12 12:54:53.032 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-05-12 12:54:53.039 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-05-12 12:54:53.056 +07:00 [DBG] Connection id "0HMQILLIIU7BA", Request id "0HMQILLIIU7BA:00000002": started reading request body.
2023-05-12 12:54:53.062 +07:00 [DBG] Connection id "0HMQILLIIU7BA", Request id "0HMQILLIIU7BA:00000002": done reading request body.
2023-05-12 12:54:53.214 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestUpdateDTO'.
2023-05-12 12:54:53.219 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestUpdateDTO'.
2023-05-12 12:54:53.225 +07:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestUpdateDTO' ...
2023-05-12 12:54:53.236 +07:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestUpdateDTO'.
2023-05-12 12:54:54.302 +07:00 [INF] Entity Framework Core 6.0.16 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.16' with options: None
2023-05-12 12:54:54.370 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(item => item.Id == __cityId_0)'
2023-05-12 12:54:54.739 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        APIDemo.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-12 12:54:54.818 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 12:54:54.903 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (80ms).
2023-05-12 12:54:54.925 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 12:54:54.950 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 12:54:54.972 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 12:54:55.017 +07:00 [INF] Executed DbCommand (51ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 12:54:55.037 +07:00 [DBG] A data reader was disposed.
2023-05-12 12:54:55.051 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 12:54:55.067 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 12:54:55.074 +07:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(item => item.CityId == __cityId_0 && item.Id == __pointofinterestId_1)
    .FirstOrDefault()'
2023-05-12 12:54:55.134 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<PointOfInterest>(
    asyncEnumerable: new SingleQueryingEnumerable<PointOfInterest>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
            SELECT TOP(1) p.Id, p.CityId, p.Description, p.Name
            FROM PointOfInterests AS p
            WHERE (p.CityId == @__cityId_0) && (p.Id == @__pointofinterestId_1)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
        APIDemo.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-12 12:54:55.158 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 12:54:55.161 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-05-12 12:54:55.166 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 12:54:55.171 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 12:54:55.177 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointofinterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointofinterestId_1)
LIMIT 1
2023-05-12 12:54:55.186 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointofinterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointofinterestId_1)
LIMIT 1
2023-05-12 12:54:55.214 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 12:54:55.253 +07:00 [DBG] A data reader was disposed.
2023-05-12 12:54:55.256 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 12:54:55.263 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 12:54:55.394 +07:00 [INF] Executed action APIDemo.Controllers.PointOfInterestController.UpdatePointOfInterest (APIDemo) in 2815.0873ms
2023-05-12 12:54:55.399 +07:00 [INF] Executed endpoint 'APIDemo.Controllers.PointOfInterestController.UpdatePointOfInterest (APIDemo)'
2023-05-12 12:54:55.401 +07:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
PointOfInterestUpdateDTO -> Task`1
APIDemo.Models.PointOfInterestUpdateDTO -> System.Threading.Tasks.Task`1[[APIDemo.Entities.PointOfInterest, APIDemo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
   at lambda_method62(Closure , PointOfInterestUpdateDTO , Task`1 , ResolutionContext )
   at APIDemo.Controllers.PointOfInterestController.UpdatePointOfInterest(Int32 cityId, Int32 pointofinterestId, PointOfInterestUpdateDTO pointOfInterest) in C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\Controllers\PointOfInterestController.cs:line 135
   at lambda_method5(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-05-12 12:54:55.461 +07:00 [DBG] Connection id "0HMQILLIIU7BA" completed keep alive response.
2023-05-12 12:54:55.472 +07:00 [DBG] 'CityInfoContext' disposed.
2023-05-12 12:54:55.478 +07:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7269/api/cities/1/pointsofinterest/1 application/json 122 - 500 - text/plain;+charset=utf-8 2985.1250ms
2023-05-12 13:05:54.574 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-05-12 13:05:54.695 +07:00 [DBG] Hosting starting
2023-05-12 13:05:54.841 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 75D11A6361D7470A96C9C9E8EC2F301CE14CF8DD)
2023-05-12 13:05:54.889 +07:00 [INF] Now listening on: https://localhost:7269
2023-05-12 13:05:54.891 +07:00 [INF] Now listening on: http://localhost:5078
2023-05-12 13:05:54.892 +07:00 [DBG] Loaded hosting startup assembly APIDemo
2023-05-12 13:05:54.893 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-05-12 13:05:54.894 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-05-12 13:05:54.895 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-12 13:05:54.896 +07:00 [INF] Hosting environment: Development
2023-05-12 13:05:54.897 +07:00 [INF] Content root path: C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\
2023-05-12 13:05:54.898 +07:00 [DBG] Hosting started
2023-05-12 13:05:55.303 +07:00 [DBG] Connection id "0HMQILRPBH99P" received FIN.
2023-05-12 13:05:55.315 +07:00 [DBG] Connection id "0HMQILRPBH99P" accepted.
2023-05-12 13:05:55.320 +07:00 [DBG] Connection id "0HMQILRPBH99P" started.
2023-05-12 13:05:55.342 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-12 13:05:55.383 +07:00 [DBG] Connection id "0HMQILRPBH99P" stopped.
2023-05-12 13:05:55.388 +07:00 [DBG] Connection id "0HMQILRPBH99P" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-12 13:05:55.581 +07:00 [DBG] Connection id "0HMQILRPBH99Q" accepted.
2023-05-12 13:05:55.595 +07:00 [DBG] Connection id "0HMQILRPBH99Q" started.
2023-05-12 13:05:55.644 +07:00 [DBG] Connection 0HMQILRPBH99Q established using the following protocol: "Tls12"
2023-05-12 13:05:55.697 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/index.html - -
2023-05-12 13:05:55.741 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-05-12 13:05:55.770 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-05-12 13:05:55.772 +07:00 [DBG] Request did not match any endpoints
2023-05-12 13:05:55.891 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-05-12 13:05:56.056 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - -
2023-05-12 13:05:56.056 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_vs/browserLink - -
2023-05-12 13:05:56.063 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-05-12 13:05:56.073 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 16.5068ms
2023-05-12 13:05:56.073 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/index.html - - - 200 - text/html;charset=utf-8 379.9823ms
2023-05-12 13:05:56.092 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 36.5861ms
2023-05-12 13:05:56.190 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - -
2023-05-12 13:05:56.192 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-05-12 13:05:56.194 +07:00 [DBG] Request did not match any endpoints
2023-05-12 13:05:56.361 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 170.9623ms
2023-05-12 13:06:13.465 +07:00 [DBG] Connection id "0HMQILRPBH99R" accepted.
2023-05-12 13:06:13.469 +07:00 [DBG] Connection id "0HMQILRPBH99R" received FIN.
2023-05-12 13:06:13.470 +07:00 [DBG] Connection id "0HMQILRPBH99R" started.
2023-05-12 13:06:13.470 +07:00 [DBG] Connection id "0HMQILRPBH99S" accepted.
2023-05-12 13:06:13.474 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-12 13:06:13.475 +07:00 [DBG] Connection id "0HMQILRPBH99S" started.
2023-05-12 13:06:13.478 +07:00 [DBG] Connection id "0HMQILRPBH99R" stopped.
2023-05-12 13:06:13.481 +07:00 [DBG] Connection id "0HMQILRPBH99R" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-12 13:06:13.484 +07:00 [DBG] Connection 0HMQILRPBH99S established using the following protocol: "Tls12"
2023-05-12 13:06:13.500 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7269/api/cities/1/pointsofinterest/1 - -
2023-05-12 13:06:13.512 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2023-05-12 13:06:13.517 +07:00 [DBG] Endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterestsById (APIDemo)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointofinterestId}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2023-05-12 13:06:13.524 +07:00 [DBG] Request matched endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterestsById (APIDemo)'
2023-05-12 13:06:13.530 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-12 13:06:13.536 +07:00 [INF] Executing endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterestsById (APIDemo)'
2023-05-12 13:06:13.569 +07:00 [INF] Route matched with {action = "GetPointOfInterestsById", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[APIDemo.Models.PointOfInterestDTO]] GetPointOfInterestsById(Int32, Int32) on controller APIDemo.Controllers.PointOfInterestController (APIDemo).
2023-05-12 13:06:13.576 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-12 13:06:13.580 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-12 13:06:13.587 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-12 13:06:13.594 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-12 13:06:13.602 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-12 13:06:13.607 +07:00 [DBG] Executing controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 13:06:13.782 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-05-12 13:06:14.007 +07:00 [DBG] Executed controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 13:06:14.016 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-05-12 13:06:14.023 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-05-12 13:06:14.030 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 13:06:14.034 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 13:06:14.040 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-05-12 13:06:14.046 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-05-12 13:06:14.054 +07:00 [DBG] Attempting to bind parameter 'pointofinterestId' of type 'System.Int32' ...
2023-05-12 13:06:14.058 +07:00 [DBG] Attempting to bind parameter 'pointofinterestId' of type 'System.Int32' using the name 'pointofinterestId' in request data ...
2023-05-12 13:06:14.064 +07:00 [DBG] Done attempting to bind parameter 'pointofinterestId' of type 'System.Int32'.
2023-05-12 13:06:14.071 +07:00 [DBG] Done attempting to bind parameter 'pointofinterestId' of type 'System.Int32'.
2023-05-12 13:06:14.073 +07:00 [DBG] Attempting to validate the bound parameter 'pointofinterestId' of type 'System.Int32' ...
2023-05-12 13:06:14.076 +07:00 [DBG] Done attempting to validate the bound parameter 'pointofinterestId' of type 'System.Int32'.
2023-05-12 13:06:15.119 +07:00 [INF] Entity Framework Core 6.0.16 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.16' with options: None
2023-05-12 13:06:15.195 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(item => item.Id == __cityId_0)'
2023-05-12 13:06:15.545 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        APIDemo.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-12 13:06:15.644 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 13:06:15.738 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (89ms).
2023-05-12 13:06:15.761 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 13:06:15.788 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 13:06:15.814 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 13:06:15.863 +07:00 [INF] Executed DbCommand (57ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 13:06:15.887 +07:00 [DBG] A data reader was disposed.
2023-05-12 13:06:15.898 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 13:06:15.911 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 13:06:15.920 +07:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(item => item.CityId == __cityId_0 && item.Id == __pointofinterestId_1)
    .FirstOrDefault()'
2023-05-12 13:06:15.974 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<PointOfInterest>(
    asyncEnumerable: new SingleQueryingEnumerable<PointOfInterest>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
            SELECT TOP(1) p.Id, p.CityId, p.Description, p.Name
            FROM PointOfInterests AS p
            WHERE (p.CityId == @__cityId_0) && (p.Id == @__pointofinterestId_1)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
        APIDemo.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-12 13:06:15.995 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 13:06:15.996 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-12 13:06:15.999 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 13:06:16.001 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 13:06:16.004 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointofinterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointofinterestId_1)
LIMIT 1
2023-05-12 13:06:16.009 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointofinterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointofinterestId_1)
LIMIT 1
2023-05-12 13:06:16.032 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 13:06:16.063 +07:00 [DBG] A data reader was disposed.
2023-05-12 13:06:16.064 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 13:06:16.067 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 13:06:16.083 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-05-12 13:06:16.095 +07:00 [DBG] No information found on request to perform content negotiation.
2023-05-12 13:06:16.098 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-05-12 13:06:16.104 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-05-12 13:06:16.108 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-05-12 13:06:16.114 +07:00 [INF] Executing OkObjectResult, writing value of type 'APIDemo.Models.PointOfInterestDTO'.
2023-05-12 13:06:16.288 +07:00 [INF] Executed action APIDemo.Controllers.PointOfInterestController.GetPointOfInterestsById (APIDemo) in 2676.1823ms
2023-05-12 13:06:16.292 +07:00 [INF] Executed endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterestsById (APIDemo)'
2023-05-12 13:06:16.294 +07:00 [DBG] Connection id "0HMQILRPBH99S" completed keep alive response.
2023-05-12 13:06:16.302 +07:00 [DBG] 'CityInfoContext' disposed.
2023-05-12 13:06:16.310 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7269/api/cities/1/pointsofinterest/1 - - - 200 48 application/json;+charset=utf-8 2809.1764ms
2023-05-12 13:06:26.591 +07:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7269/api/cities/1/pointsofinterest/1 application/json 122
2023-05-12 13:06:26.594 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2023-05-12 13:06:26.596 +07:00 [DBG] Endpoint 'APIDemo.Controllers.PointOfInterestController.UpdatePointOfInterest (APIDemo)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointofinterestId}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2023-05-12 13:06:26.600 +07:00 [DBG] Request matched endpoint 'APIDemo.Controllers.PointOfInterestController.UpdatePointOfInterest (APIDemo)'
2023-05-12 13:06:26.601 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-12 13:06:26.603 +07:00 [INF] Executing endpoint 'APIDemo.Controllers.PointOfInterestController.UpdatePointOfInterest (APIDemo)'
2023-05-12 13:06:26.609 +07:00 [INF] Route matched with {action = "UpdatePointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[APIDemo.Models.PointOfInterestDTO]] UpdatePointOfInterest(Int32, Int32, APIDemo.Models.PointOfInterestUpdateDTO) on controller APIDemo.Controllers.PointOfInterestController (APIDemo).
2023-05-12 13:06:26.614 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-12 13:06:26.617 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-12 13:06:26.622 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-12 13:06:26.628 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-12 13:06:26.632 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-12 13:06:26.637 +07:00 [DBG] Executing controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 13:06:26.640 +07:00 [DBG] Executed controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 13:06:26.645 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-05-12 13:06:26.648 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-05-12 13:06:26.653 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 13:06:26.656 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 13:06:26.658 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-05-12 13:06:26.662 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-05-12 13:06:26.665 +07:00 [DBG] Attempting to bind parameter 'pointofinterestId' of type 'System.Int32' ...
2023-05-12 13:06:26.670 +07:00 [DBG] Attempting to bind parameter 'pointofinterestId' of type 'System.Int32' using the name 'pointofinterestId' in request data ...
2023-05-12 13:06:26.676 +07:00 [DBG] Done attempting to bind parameter 'pointofinterestId' of type 'System.Int32'.
2023-05-12 13:06:26.678 +07:00 [DBG] Done attempting to bind parameter 'pointofinterestId' of type 'System.Int32'.
2023-05-12 13:06:26.683 +07:00 [DBG] Attempting to validate the bound parameter 'pointofinterestId' of type 'System.Int32' ...
2023-05-12 13:06:26.689 +07:00 [DBG] Done attempting to validate the bound parameter 'pointofinterestId' of type 'System.Int32'.
2023-05-12 13:06:26.695 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestUpdateDTO' ...
2023-05-12 13:06:26.700 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestUpdateDTO' using the name '' in request data ...
2023-05-12 13:06:26.707 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-05-12 13:06:26.712 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-05-12 13:06:26.730 +07:00 [DBG] Connection id "0HMQILRPBH99S", Request id "0HMQILRPBH99S:00000003": started reading request body.
2023-05-12 13:06:26.735 +07:00 [DBG] Connection id "0HMQILRPBH99S", Request id "0HMQILRPBH99S:00000003": done reading request body.
2023-05-12 13:06:26.792 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestUpdateDTO'.
2023-05-12 13:06:26.797 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestUpdateDTO'.
2023-05-12 13:06:26.802 +07:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestUpdateDTO' ...
2023-05-12 13:06:26.814 +07:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestUpdateDTO'.
2023-05-12 13:06:26.824 +07:00 [INF] Entity Framework Core 6.0.16 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.16' with options: None
2023-05-12 13:06:26.835 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 13:06:26.837 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-12 13:06:26.840 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 13:06:26.842 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 13:06:26.848 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 13:06:26.857 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 13:06:26.868 +07:00 [DBG] A data reader was disposed.
2023-05-12 13:06:26.871 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 13:06:26.874 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 13:06:26.882 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 13:06:26.886 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-05-12 13:06:26.890 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 13:06:26.898 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 13:06:26.905 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointofinterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointofinterestId_1)
LIMIT 1
2023-05-12 13:06:26.921 +07:00 [INF] Executed DbCommand (16ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointofinterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointofinterestId_1)
LIMIT 1
2023-05-12 13:06:26.929 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 13:06:26.932 +07:00 [DBG] A data reader was disposed.
2023-05-12 13:06:26.935 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 13:06:26.940 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 13:06:27.054 +07:00 [INF] Executed action APIDemo.Controllers.PointOfInterestController.UpdatePointOfInterest (APIDemo) in 417.8409ms
2023-05-12 13:06:27.059 +07:00 [INF] Executed endpoint 'APIDemo.Controllers.PointOfInterestController.UpdatePointOfInterest (APIDemo)'
2023-05-12 13:06:27.061 +07:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
PointOfInterestUpdateDTO -> Task`1
APIDemo.Models.PointOfInterestUpdateDTO -> System.Threading.Tasks.Task`1[[APIDemo.Entities.PointOfInterest, APIDemo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
   at lambda_method76(Closure , PointOfInterestUpdateDTO , Task`1 , ResolutionContext )
   at APIDemo.Controllers.PointOfInterestController.UpdatePointOfInterest(Int32 cityId, Int32 pointofinterestId, PointOfInterestUpdateDTO pointOfInterest) in C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\Controllers\PointOfInterestController.cs:line 135
   at lambda_method68(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-05-12 13:06:27.115 +07:00 [DBG] Connection id "0HMQILRPBH99S" completed keep alive response.
2023-05-12 13:06:27.117 +07:00 [DBG] 'CityInfoContext' disposed.
2023-05-12 13:06:27.120 +07:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7269/api/cities/1/pointsofinterest/1 application/json 122 - 500 - text/plain;+charset=utf-8 528.4156ms
2023-05-12 13:08:48.535 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-05-12 13:08:48.657 +07:00 [DBG] Hosting starting
2023-05-12 13:08:48.805 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 75D11A6361D7470A96C9C9E8EC2F301CE14CF8DD)
2023-05-12 13:08:48.858 +07:00 [INF] Now listening on: https://localhost:7269
2023-05-12 13:08:48.860 +07:00 [INF] Now listening on: http://localhost:5078
2023-05-12 13:08:48.862 +07:00 [DBG] Loaded hosting startup assembly APIDemo
2023-05-12 13:08:48.864 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-05-12 13:08:48.866 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-05-12 13:08:48.868 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-12 13:08:48.869 +07:00 [INF] Hosting environment: Development
2023-05-12 13:08:48.870 +07:00 [INF] Content root path: C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\
2023-05-12 13:08:48.872 +07:00 [DBG] Hosting started
2023-05-12 13:08:49.201 +07:00 [DBG] Connection id "0HMQILTD5UMR3" received FIN.
2023-05-12 13:08:49.214 +07:00 [DBG] Connection id "0HMQILTD5UMR3" accepted.
2023-05-12 13:08:49.217 +07:00 [DBG] Connection id "0HMQILTD5UMR3" started.
2023-05-12 13:08:49.235 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-12 13:08:49.273 +07:00 [DBG] Connection id "0HMQILTD5UMR3" stopped.
2023-05-12 13:08:49.282 +07:00 [DBG] Connection id "0HMQILTD5UMR3" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-12 13:08:49.525 +07:00 [DBG] Connection id "0HMQILTD5UMR4" accepted.
2023-05-12 13:08:49.530 +07:00 [DBG] Connection id "0HMQILTD5UMR4" started.
2023-05-12 13:08:49.593 +07:00 [DBG] Connection 0HMQILTD5UMR4 established using the following protocol: "Tls12"
2023-05-12 13:08:49.653 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/index.html - -
2023-05-12 13:08:49.692 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-05-12 13:08:49.719 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-05-12 13:08:49.723 +07:00 [DBG] Request did not match any endpoints
2023-05-12 13:08:49.842 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-05-12 13:08:50.005 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - -
2023-05-12 13:08:50.005 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_vs/browserLink - -
2023-05-12 13:08:50.010 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-05-12 13:08:50.022 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 17.0884ms
2023-05-12 13:08:50.023 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/index.html - - - 200 - text/html;charset=utf-8 374.8772ms
2023-05-12 13:08:50.037 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 32.4568ms
2023-05-12 13:08:50.136 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - -
2023-05-12 13:08:50.137 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-05-12 13:08:50.139 +07:00 [DBG] Request did not match any endpoints
2023-05-12 13:08:50.312 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 175.9080ms
2023-05-12 13:08:52.561 +07:00 [DBG] Connection id "0HMQILTD5UMR5" accepted.
2023-05-12 13:08:52.561 +07:00 [DBG] Connection id "0HMQILTD5UMR5" received FIN.
2023-05-12 13:08:52.563 +07:00 [DBG] Connection id "0HMQILTD5UMR5" started.
2023-05-12 13:08:52.563 +07:00 [DBG] Connection id "0HMQILTD5UMR6" accepted.
2023-05-12 13:08:52.567 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-12 13:08:52.568 +07:00 [DBG] Connection id "0HMQILTD5UMR6" started.
2023-05-12 13:08:52.575 +07:00 [DBG] Connection id "0HMQILTD5UMR5" stopped.
2023-05-12 13:08:52.578 +07:00 [DBG] Connection id "0HMQILTD5UMR5" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-12 13:08:52.582 +07:00 [DBG] Connection 0HMQILTD5UMR6 established using the following protocol: "Tls12"
2023-05-12 13:08:52.597 +07:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7269/api/cities/1/pointsofinterest/1 application/json 122
2023-05-12 13:08:52.608 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2023-05-12 13:08:52.615 +07:00 [DBG] Endpoint 'APIDemo.Controllers.PointOfInterestController.UpdatePointOfInterest (APIDemo)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointofinterestId}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2023-05-12 13:08:52.621 +07:00 [DBG] Request matched endpoint 'APIDemo.Controllers.PointOfInterestController.UpdatePointOfInterest (APIDemo)'
2023-05-12 13:08:52.626 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-12 13:08:52.633 +07:00 [INF] Executing endpoint 'APIDemo.Controllers.PointOfInterestController.UpdatePointOfInterest (APIDemo)'
2023-05-12 13:08:52.669 +07:00 [INF] Route matched with {action = "UpdatePointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[APIDemo.Models.PointOfInterestDTO]] UpdatePointOfInterest(Int32, Int32, APIDemo.Models.PointOfInterestUpdateDTO) on controller APIDemo.Controllers.PointOfInterestController (APIDemo).
2023-05-12 13:08:52.674 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-12 13:08:52.678 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-12 13:08:52.683 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-12 13:08:52.686 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-12 13:08:52.690 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-12 13:08:52.694 +07:00 [DBG] Executing controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 13:08:52.867 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-05-12 13:08:53.090 +07:00 [DBG] Executed controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 13:08:53.099 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-05-12 13:08:53.105 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-05-12 13:08:53.114 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 13:08:53.118 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 13:08:53.122 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-05-12 13:08:53.130 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-05-12 13:08:53.135 +07:00 [DBG] Attempting to bind parameter 'pointofinterestId' of type 'System.Int32' ...
2023-05-12 13:08:53.138 +07:00 [DBG] Attempting to bind parameter 'pointofinterestId' of type 'System.Int32' using the name 'pointofinterestId' in request data ...
2023-05-12 13:08:53.145 +07:00 [DBG] Done attempting to bind parameter 'pointofinterestId' of type 'System.Int32'.
2023-05-12 13:08:53.149 +07:00 [DBG] Done attempting to bind parameter 'pointofinterestId' of type 'System.Int32'.
2023-05-12 13:08:53.156 +07:00 [DBG] Attempting to validate the bound parameter 'pointofinterestId' of type 'System.Int32' ...
2023-05-12 13:08:53.159 +07:00 [DBG] Done attempting to validate the bound parameter 'pointofinterestId' of type 'System.Int32'.
2023-05-12 13:08:53.163 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestUpdateDTO' ...
2023-05-12 13:08:53.169 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestUpdateDTO' using the name '' in request data ...
2023-05-12 13:08:53.177 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-05-12 13:08:53.182 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-05-12 13:08:53.199 +07:00 [DBG] Connection id "0HMQILTD5UMR6", Request id "0HMQILTD5UMR6:00000002": started reading request body.
2023-05-12 13:08:53.206 +07:00 [DBG] Connection id "0HMQILTD5UMR6", Request id "0HMQILTD5UMR6:00000002": done reading request body.
2023-05-12 13:08:53.359 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestUpdateDTO'.
2023-05-12 13:08:53.363 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestUpdateDTO'.
2023-05-12 13:08:53.367 +07:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestUpdateDTO' ...
2023-05-12 13:08:53.381 +07:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestUpdateDTO'.
2023-05-12 13:08:54.515 +07:00 [INF] Entity Framework Core 6.0.16 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.16' with options: None
2023-05-12 13:08:54.581 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(item => item.Id == __cityId_0)'
2023-05-12 13:08:54.951 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        APIDemo.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-12 13:08:55.027 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 13:08:55.106 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (75ms).
2023-05-12 13:08:55.126 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 13:08:55.150 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 13:08:55.171 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 13:08:55.217 +07:00 [INF] Executed DbCommand (51ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 13:08:55.242 +07:00 [DBG] A data reader was disposed.
2023-05-12 13:08:55.254 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 13:08:55.269 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 13:08:55.277 +07:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(item => item.CityId == __cityId_0 && item.Id == __pointofinterestId_1)
    .FirstOrDefault()'
2023-05-12 13:08:55.332 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<PointOfInterest>(
    asyncEnumerable: new SingleQueryingEnumerable<PointOfInterest>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
            SELECT TOP(1) p.Id, p.CityId, p.Description, p.Name
            FROM PointOfInterests AS p
            WHERE (p.CityId == @__cityId_0) && (p.Id == @__pointofinterestId_1)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
        APIDemo.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-12 13:08:55.355 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 13:08:55.359 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-05-12 13:08:55.363 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 13:08:55.369 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 13:08:55.375 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointofinterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointofinterestId_1)
LIMIT 1
2023-05-12 13:08:55.382 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointofinterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointofinterestId_1)
LIMIT 1
2023-05-12 13:08:55.406 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 13:08:55.442 +07:00 [DBG] A data reader was disposed.
2023-05-12 13:08:55.445 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 13:08:55.449 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 13:08:55.607 +07:00 [INF] Executed action APIDemo.Controllers.PointOfInterestController.UpdatePointOfInterest (APIDemo) in 2899.8241ms
2023-05-12 13:08:55.618 +07:00 [INF] Executed endpoint 'APIDemo.Controllers.PointOfInterestController.UpdatePointOfInterest (APIDemo)'
2023-05-12 13:08:55.624 +07:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
PointOfInterestUpdateDTO -> Task`1
APIDemo.Models.PointOfInterestUpdateDTO -> System.Threading.Tasks.Task`1[[APIDemo.Entities.PointOfInterest, APIDemo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
   at lambda_method62(Closure , PointOfInterestUpdateDTO , Task`1 , ResolutionContext )
   at APIDemo.Controllers.PointOfInterestController.UpdatePointOfInterest(Int32 cityId, Int32 pointofinterestId, PointOfInterestUpdateDTO pointOfInterest) in C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\Controllers\PointOfInterestController.cs:line 135
   at lambda_method5(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-05-12 13:08:55.678 +07:00 [DBG] Connection id "0HMQILTD5UMR6" completed keep alive response.
2023-05-12 13:08:55.687 +07:00 [DBG] 'CityInfoContext' disposed.
2023-05-12 13:08:55.692 +07:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7269/api/cities/1/pointsofinterest/1 application/json 122 - 500 - text/plain;+charset=utf-8 3094.8243ms
2023-05-12 13:10:22.793 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-05-12 13:10:22.912 +07:00 [DBG] Hosting starting
2023-05-12 13:10:23.054 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 75D11A6361D7470A96C9C9E8EC2F301CE14CF8DD)
2023-05-12 13:10:23.087 +07:00 [INF] Now listening on: https://localhost:7269
2023-05-12 13:10:23.089 +07:00 [INF] Now listening on: http://localhost:5078
2023-05-12 13:10:23.090 +07:00 [DBG] Loaded hosting startup assembly APIDemo
2023-05-12 13:10:23.092 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-05-12 13:10:23.093 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-05-12 13:10:23.095 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-12 13:10:23.096 +07:00 [INF] Hosting environment: Development
2023-05-12 13:10:23.097 +07:00 [INF] Content root path: C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\
2023-05-12 13:10:23.098 +07:00 [DBG] Hosting started
2023-05-12 13:10:23.332 +07:00 [DBG] Connection id "0HMQILU97L8CO" received FIN.
2023-05-12 13:10:23.354 +07:00 [DBG] Connection id "0HMQILU97L8CO" accepted.
2023-05-12 13:10:23.357 +07:00 [DBG] Connection id "0HMQILU97L8CO" started.
2023-05-12 13:10:23.375 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-12 13:10:23.417 +07:00 [DBG] Connection id "0HMQILU97L8CO" stopped.
2023-05-12 13:10:23.421 +07:00 [DBG] Connection id "0HMQILU97L8CO" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-12 13:10:23.606 +07:00 [DBG] Connection id "0HMQILU97L8CP" accepted.
2023-05-12 13:10:23.608 +07:00 [DBG] Connection id "0HMQILU97L8CP" started.
2023-05-12 13:10:23.670 +07:00 [DBG] Connection 0HMQILU97L8CP established using the following protocol: "Tls12"
2023-05-12 13:10:23.726 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/index.html - -
2023-05-12 13:10:23.764 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-05-12 13:10:23.790 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-05-12 13:10:23.792 +07:00 [DBG] Request did not match any endpoints
2023-05-12 13:10:23.912 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-05-12 13:10:24.073 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - -
2023-05-12 13:10:24.073 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_vs/browserLink - -
2023-05-12 13:10:24.079 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-05-12 13:10:24.089 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 15.9796ms
2023-05-12 13:10:24.090 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/index.html - - - 200 - text/html;charset=utf-8 368.9010ms
2023-05-12 13:10:24.103 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 30.6637ms
2023-05-12 13:10:24.207 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - -
2023-05-12 13:10:24.208 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-05-12 13:10:24.210 +07:00 [DBG] Request did not match any endpoints
2023-05-12 13:10:24.391 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 184.0855ms
2023-05-12 13:10:28.195 +07:00 [DBG] Connection id "0HMQILU97L8CQ" accepted.
2023-05-12 13:10:28.196 +07:00 [DBG] Connection id "0HMQILU97L8CQ" received FIN.
2023-05-12 13:10:28.197 +07:00 [DBG] Connection id "0HMQILU97L8CQ" started.
2023-05-12 13:10:28.198 +07:00 [DBG] Connection id "0HMQILU97L8CR" accepted.
2023-05-12 13:10:28.203 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-12 13:10:28.204 +07:00 [DBG] Connection id "0HMQILU97L8CR" started.
2023-05-12 13:10:28.211 +07:00 [DBG] Connection id "0HMQILU97L8CQ" stopped.
2023-05-12 13:10:28.219 +07:00 [DBG] Connection id "0HMQILU97L8CQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-12 13:10:28.225 +07:00 [DBG] Connection 0HMQILU97L8CR established using the following protocol: "Tls12"
2023-05-12 13:10:28.241 +07:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7269/api/cities/1/pointsofinterest/1 application/json 122
2023-05-12 13:10:28.255 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2023-05-12 13:10:28.262 +07:00 [DBG] Endpoint 'APIDemo.Controllers.PointOfInterestController.UpdatePointOfInterest (APIDemo)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointofinterestId}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2023-05-12 13:10:28.266 +07:00 [DBG] Request matched endpoint 'APIDemo.Controllers.PointOfInterestController.UpdatePointOfInterest (APIDemo)'
2023-05-12 13:10:28.271 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-12 13:10:28.277 +07:00 [INF] Executing endpoint 'APIDemo.Controllers.PointOfInterestController.UpdatePointOfInterest (APIDemo)'
2023-05-12 13:10:28.312 +07:00 [INF] Route matched with {action = "UpdatePointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdatePointOfInterest(Int32, Int32, APIDemo.Models.PointOfInterestUpdateDTO) on controller APIDemo.Controllers.PointOfInterestController (APIDemo).
2023-05-12 13:10:28.321 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-12 13:10:28.327 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-12 13:10:28.332 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-12 13:10:28.341 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-12 13:10:28.345 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-12 13:10:28.354 +07:00 [DBG] Executing controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 13:10:28.530 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-05-12 13:10:28.753 +07:00 [DBG] Executed controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 13:10:28.761 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-05-12 13:10:28.765 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-05-12 13:10:28.769 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 13:10:28.772 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 13:10:28.778 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-05-12 13:10:28.781 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-05-12 13:10:28.787 +07:00 [DBG] Attempting to bind parameter 'pointofinterestId' of type 'System.Int32' ...
2023-05-12 13:10:28.789 +07:00 [DBG] Attempting to bind parameter 'pointofinterestId' of type 'System.Int32' using the name 'pointofinterestId' in request data ...
2023-05-12 13:10:28.796 +07:00 [DBG] Done attempting to bind parameter 'pointofinterestId' of type 'System.Int32'.
2023-05-12 13:10:28.798 +07:00 [DBG] Done attempting to bind parameter 'pointofinterestId' of type 'System.Int32'.
2023-05-12 13:10:28.802 +07:00 [DBG] Attempting to validate the bound parameter 'pointofinterestId' of type 'System.Int32' ...
2023-05-12 13:10:28.806 +07:00 [DBG] Done attempting to validate the bound parameter 'pointofinterestId' of type 'System.Int32'.
2023-05-12 13:10:28.812 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestUpdateDTO' ...
2023-05-12 13:10:28.818 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestUpdateDTO' using the name '' in request data ...
2023-05-12 13:10:28.827 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-05-12 13:10:28.831 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-05-12 13:10:28.847 +07:00 [DBG] Connection id "0HMQILU97L8CR", Request id "0HMQILU97L8CR:00000002": started reading request body.
2023-05-12 13:10:28.852 +07:00 [DBG] Connection id "0HMQILU97L8CR", Request id "0HMQILU97L8CR:00000002": done reading request body.
2023-05-12 13:10:29.008 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestUpdateDTO'.
2023-05-12 13:10:29.011 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestUpdateDTO'.
2023-05-12 13:10:29.013 +07:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestUpdateDTO' ...
2023-05-12 13:10:29.023 +07:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestUpdateDTO'.
2023-05-12 13:10:30.074 +07:00 [INF] Entity Framework Core 6.0.16 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.16' with options: None
2023-05-12 13:10:30.141 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(item => item.Id == __cityId_0)'
2023-05-12 13:10:30.508 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        APIDemo.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-12 13:10:30.587 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 13:10:30.676 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (84ms).
2023-05-12 13:10:30.696 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 13:10:30.722 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 13:10:30.746 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 13:10:30.792 +07:00 [INF] Executed DbCommand (50ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 13:10:30.811 +07:00 [DBG] A data reader was disposed.
2023-05-12 13:10:30.821 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 13:10:30.832 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 13:10:30.842 +07:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(item => item.CityId == __cityId_0 && item.Id == __pointofinterestId_1)
    .FirstOrDefault()'
2023-05-12 13:10:30.897 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<PointOfInterest>(
    asyncEnumerable: new SingleQueryingEnumerable<PointOfInterest>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
            SELECT TOP(1) p.Id, p.CityId, p.Description, p.Name
            FROM PointOfInterests AS p
            WHERE (p.CityId == @__cityId_0) && (p.Id == @__pointofinterestId_1)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
        APIDemo.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-12 13:10:30.915 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 13:10:30.917 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-12 13:10:30.919 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 13:10:30.924 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 13:10:30.927 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointofinterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointofinterestId_1)
LIMIT 1
2023-05-12 13:10:30.931 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointofinterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointofinterestId_1)
LIMIT 1
2023-05-12 13:10:30.953 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 13:10:30.989 +07:00 [DBG] A data reader was disposed.
2023-05-12 13:10:30.991 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 13:10:30.994 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 13:10:31.130 +07:00 [INF] Executed action APIDemo.Controllers.PointOfInterestController.UpdatePointOfInterest (APIDemo) in 2770.3777ms
2023-05-12 13:10:31.134 +07:00 [INF] Executed endpoint 'APIDemo.Controllers.PointOfInterestController.UpdatePointOfInterest (APIDemo)'
2023-05-12 13:10:31.136 +07:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
PointOfInterestUpdateDTO -> Task`1
APIDemo.Models.PointOfInterestUpdateDTO -> System.Threading.Tasks.Task`1[[APIDemo.Entities.PointOfInterest, APIDemo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
   at lambda_method62(Closure , PointOfInterestUpdateDTO , Task`1 , ResolutionContext )
   at APIDemo.Controllers.PointOfInterestController.UpdatePointOfInterest(Int32 cityId, Int32 pointofinterestId, PointOfInterestUpdateDTO pointOfInterest) in C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\Controllers\PointOfInterestController.cs:line 135
   at lambda_method5(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-05-12 13:10:31.187 +07:00 [DBG] Connection id "0HMQILU97L8CR" completed keep alive response.
2023-05-12 13:10:31.198 +07:00 [DBG] 'CityInfoContext' disposed.
2023-05-12 13:10:31.203 +07:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7269/api/cities/1/pointsofinterest/1 application/json 122 - 500 - text/plain;+charset=utf-8 2961.6796ms
2023-05-12 13:11:59.319 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-05-12 13:11:59.437 +07:00 [DBG] Hosting starting
2023-05-12 13:11:59.583 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 75D11A6361D7470A96C9C9E8EC2F301CE14CF8DD)
2023-05-12 13:11:59.618 +07:00 [INF] Now listening on: https://localhost:7269
2023-05-12 13:11:59.619 +07:00 [INF] Now listening on: http://localhost:5078
2023-05-12 13:11:59.621 +07:00 [DBG] Loaded hosting startup assembly APIDemo
2023-05-12 13:11:59.623 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-05-12 13:11:59.624 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-05-12 13:11:59.625 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-12 13:11:59.626 +07:00 [INF] Hosting environment: Development
2023-05-12 13:11:59.627 +07:00 [INF] Content root path: C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\
2023-05-12 13:11:59.628 +07:00 [DBG] Hosting started
2023-05-12 13:11:59.818 +07:00 [DBG] Connection id "0HMQILV5VPH15" accepted.
2023-05-12 13:11:59.823 +07:00 [DBG] Connection id "0HMQILV5VPH16" received FIN.
2023-05-12 13:11:59.824 +07:00 [DBG] Connection id "0HMQILV5VPH15" started.
2023-05-12 13:11:59.826 +07:00 [DBG] Connection id "0HMQILV5VPH16" accepted.
2023-05-12 13:11:59.826 +07:00 [DBG] Connection id "0HMQILV5VPH15" received FIN.
2023-05-12 13:11:59.828 +07:00 [DBG] Connection id "0HMQILV5VPH16" started.
2023-05-12 13:11:59.845 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-12 13:11:59.845 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-12 13:11:59.884 +07:00 [DBG] Connection id "0HMQILV5VPH15" stopped.
2023-05-12 13:11:59.892 +07:00 [DBG] Connection id "0HMQILV5VPH16" stopped.
2023-05-12 13:11:59.896 +07:00 [DBG] Connection id "0HMQILV5VPH16" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-12 13:11:59.896 +07:00 [DBG] Connection id "0HMQILV5VPH15" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-12 13:12:00.126 +07:00 [DBG] Connection id "0HMQILV5VPH17" accepted.
2023-05-12 13:12:00.135 +07:00 [DBG] Connection id "0HMQILV5VPH17" started.
2023-05-12 13:12:00.200 +07:00 [DBG] Connection 0HMQILV5VPH17 established using the following protocol: "Tls12"
2023-05-12 13:12:00.266 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/index.html - -
2023-05-12 13:12:00.309 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-05-12 13:12:00.339 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-05-12 13:12:00.340 +07:00 [DBG] Request did not match any endpoints
2023-05-12 13:12:00.464 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-05-12 13:12:00.626 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - -
2023-05-12 13:12:00.626 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_vs/browserLink - -
2023-05-12 13:12:00.633 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-05-12 13:12:00.640 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 13.6978ms
2023-05-12 13:12:00.640 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/index.html - - - 200 - text/html;charset=utf-8 380.1900ms
2023-05-12 13:12:00.655 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 29.2795ms
2023-05-12 13:12:00.752 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - -
2023-05-12 13:12:00.754 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-05-12 13:12:00.755 +07:00 [DBG] Request did not match any endpoints
2023-05-12 13:12:00.955 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 203.4993ms
2023-05-12 13:12:07.516 +07:00 [DBG] Connection id "0HMQILV5VPH18" accepted.
2023-05-12 13:12:07.516 +07:00 [DBG] Connection id "0HMQILV5VPH18" received FIN.
2023-05-12 13:12:07.518 +07:00 [DBG] Connection id "0HMQILV5VPH18" started.
2023-05-12 13:12:07.518 +07:00 [DBG] Connection id "0HMQILV5VPH19" accepted.
2023-05-12 13:12:07.522 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-12 13:12:07.523 +07:00 [DBG] Connection id "0HMQILV5VPH19" started.
2023-05-12 13:12:07.529 +07:00 [DBG] Connection id "0HMQILV5VPH18" stopped.
2023-05-12 13:12:07.532 +07:00 [DBG] Connection id "0HMQILV5VPH18" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-12 13:12:07.546 +07:00 [DBG] Connection 0HMQILV5VPH19 established using the following protocol: "Tls12"
2023-05-12 13:12:07.562 +07:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7269/api/cities/1/pointsofinterest/1 application/json 122
2023-05-12 13:12:07.572 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2023-05-12 13:12:07.581 +07:00 [DBG] Endpoint 'APIDemo.Controllers.PointOfInterestController.UpdatePointOfInterest (APIDemo)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointofinterestId}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2023-05-12 13:12:07.585 +07:00 [DBG] Request matched endpoint 'APIDemo.Controllers.PointOfInterestController.UpdatePointOfInterest (APIDemo)'
2023-05-12 13:12:07.589 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-12 13:12:07.595 +07:00 [INF] Executing endpoint 'APIDemo.Controllers.PointOfInterestController.UpdatePointOfInterest (APIDemo)'
2023-05-12 13:12:07.629 +07:00 [INF] Route matched with {action = "UpdatePointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdatePointOfInterest(Int32, Int32, APIDemo.Models.PointOfInterestUpdateDTO) on controller APIDemo.Controllers.PointOfInterestController (APIDemo).
2023-05-12 13:12:07.635 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-12 13:12:07.637 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-12 13:12:07.639 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-12 13:12:07.641 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-12 13:12:07.644 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-12 13:12:07.646 +07:00 [DBG] Executing controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 13:12:07.814 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-05-12 13:12:08.036 +07:00 [DBG] Executed controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 13:12:08.044 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-05-12 13:12:08.049 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-05-12 13:12:08.053 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 13:12:08.057 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 13:12:08.060 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-05-12 13:12:08.066 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-05-12 13:12:08.069 +07:00 [DBG] Attempting to bind parameter 'pointofinterestId' of type 'System.Int32' ...
2023-05-12 13:12:08.073 +07:00 [DBG] Attempting to bind parameter 'pointofinterestId' of type 'System.Int32' using the name 'pointofinterestId' in request data ...
2023-05-12 13:12:08.076 +07:00 [DBG] Done attempting to bind parameter 'pointofinterestId' of type 'System.Int32'.
2023-05-12 13:12:08.078 +07:00 [DBG] Done attempting to bind parameter 'pointofinterestId' of type 'System.Int32'.
2023-05-12 13:12:08.080 +07:00 [DBG] Attempting to validate the bound parameter 'pointofinterestId' of type 'System.Int32' ...
2023-05-12 13:12:08.082 +07:00 [DBG] Done attempting to validate the bound parameter 'pointofinterestId' of type 'System.Int32'.
2023-05-12 13:12:08.084 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestUpdateDTO' ...
2023-05-12 13:12:08.089 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestUpdateDTO' using the name '' in request data ...
2023-05-12 13:12:08.093 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-05-12 13:12:08.096 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-05-12 13:12:08.108 +07:00 [DBG] Connection id "0HMQILV5VPH19", Request id "0HMQILV5VPH19:00000002": started reading request body.
2023-05-12 13:12:08.111 +07:00 [DBG] Connection id "0HMQILV5VPH19", Request id "0HMQILV5VPH19:00000002": done reading request body.
2023-05-12 13:12:08.259 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestUpdateDTO'.
2023-05-12 13:12:08.262 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestUpdateDTO'.
2023-05-12 13:12:08.267 +07:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestUpdateDTO' ...
2023-05-12 13:12:08.280 +07:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestUpdateDTO'.
2023-05-12 13:12:09.324 +07:00 [INF] Entity Framework Core 6.0.16 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.16' with options: None
2023-05-12 13:12:09.389 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(item => item.Id == __cityId_0)'
2023-05-12 13:12:09.769 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        APIDemo.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-12 13:12:09.847 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 13:12:09.925 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (74ms).
2023-05-12 13:12:09.945 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 13:12:09.974 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 13:12:09.999 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 13:12:10.041 +07:00 [INF] Executed DbCommand (50ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 13:12:10.064 +07:00 [DBG] A data reader was disposed.
2023-05-12 13:12:10.075 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 13:12:10.085 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 13:12:10.091 +07:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(item => item.CityId == __cityId_0 && item.Id == __pointofinterestId_1)
    .FirstOrDefault()'
2023-05-12 13:12:10.144 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<PointOfInterest>(
    asyncEnumerable: new SingleQueryingEnumerable<PointOfInterest>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
            SELECT TOP(1) p.Id, p.CityId, p.Description, p.Name
            FROM PointOfInterests AS p
            WHERE (p.CityId == @__cityId_0) && (p.Id == @__pointofinterestId_1)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
        APIDemo.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-12 13:12:10.166 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 13:12:10.170 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2023-05-12 13:12:10.174 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 13:12:10.177 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 13:12:10.181 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointofinterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointofinterestId_1)
LIMIT 1
2023-05-12 13:12:10.189 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointofinterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointofinterestId_1)
LIMIT 1
2023-05-12 13:12:10.218 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 13:12:10.253 +07:00 [DBG] A data reader was disposed.
2023-05-12 13:12:10.257 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 13:12:10.261 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 13:12:10.394 +07:00 [INF] Executed action APIDemo.Controllers.PointOfInterestController.UpdatePointOfInterest (APIDemo) in 2741.7958ms
2023-05-12 13:12:10.397 +07:00 [INF] Executed endpoint 'APIDemo.Controllers.PointOfInterestController.UpdatePointOfInterest (APIDemo)'
2023-05-12 13:12:10.400 +07:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
PointOfInterestUpdateDTO -> Task`1
APIDemo.Models.PointOfInterestUpdateDTO -> System.Threading.Tasks.Task`1[[APIDemo.Entities.PointOfInterest, APIDemo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
   at lambda_method62(Closure , PointOfInterestUpdateDTO , Task`1 , ResolutionContext )
   at APIDemo.Controllers.PointOfInterestController.UpdatePointOfInterest(Int32 cityId, Int32 pointofinterestId, PointOfInterestUpdateDTO pointOfInterest) in C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\Controllers\PointOfInterestController.cs:line 136
   at lambda_method5(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-05-12 13:12:10.448 +07:00 [DBG] Connection id "0HMQILV5VPH19" completed keep alive response.
2023-05-12 13:12:10.457 +07:00 [DBG] 'CityInfoContext' disposed.
2023-05-12 13:12:10.465 +07:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7269/api/cities/1/pointsofinterest/1 application/json 122 - 500 - text/plain;+charset=utf-8 2903.5994ms
2023-05-12 13:14:01.499 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-05-12 13:14:01.628 +07:00 [DBG] Hosting starting
2023-05-12 13:14:01.771 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 75D11A6361D7470A96C9C9E8EC2F301CE14CF8DD)
2023-05-12 13:14:01.810 +07:00 [INF] Now listening on: https://localhost:7269
2023-05-12 13:14:01.812 +07:00 [INF] Now listening on: http://localhost:5078
2023-05-12 13:14:01.813 +07:00 [DBG] Loaded hosting startup assembly APIDemo
2023-05-12 13:14:01.814 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-05-12 13:14:01.816 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-05-12 13:14:01.817 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-12 13:14:01.818 +07:00 [INF] Hosting environment: Development
2023-05-12 13:14:01.819 +07:00 [INF] Content root path: C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\
2023-05-12 13:14:01.821 +07:00 [DBG] Hosting started
2023-05-12 13:14:02.121 +07:00 [DBG] Connection id "0HMQIM0AE6A3A" received FIN.
2023-05-12 13:14:02.133 +07:00 [DBG] Connection id "0HMQIM0AE6A3A" accepted.
2023-05-12 13:14:02.136 +07:00 [DBG] Connection id "0HMQIM0AE6A3A" started.
2023-05-12 13:14:02.156 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-12 13:14:02.198 +07:00 [DBG] Connection id "0HMQIM0AE6A3A" stopped.
2023-05-12 13:14:02.204 +07:00 [DBG] Connection id "0HMQIM0AE6A3A" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-12 13:14:02.406 +07:00 [DBG] Connection id "0HMQIM0AE6A3B" accepted.
2023-05-12 13:14:02.410 +07:00 [DBG] Connection id "0HMQIM0AE6A3B" started.
2023-05-12 13:14:02.471 +07:00 [DBG] Connection 0HMQIM0AE6A3B established using the following protocol: "Tls12"
2023-05-12 13:14:02.529 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/index.html - -
2023-05-12 13:14:02.571 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-05-12 13:14:02.602 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-05-12 13:14:02.606 +07:00 [DBG] Request did not match any endpoints
2023-05-12 13:14:02.741 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-05-12 13:14:02.906 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - -
2023-05-12 13:14:02.906 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_vs/browserLink - -
2023-05-12 13:14:02.915 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-05-12 13:14:02.929 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/index.html - - - 200 - text/html;charset=utf-8 404.4520ms
2023-05-12 13:14:02.929 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 21.2271ms
2023-05-12 13:14:02.944 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 38.0154ms
2023-05-12 13:14:03.035 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - -
2023-05-12 13:14:03.036 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-05-12 13:14:03.037 +07:00 [DBG] Request did not match any endpoints
2023-05-12 13:14:03.214 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 178.3099ms
2023-05-12 13:14:05.738 +07:00 [DBG] Connection id "0HMQIM0AE6A3C" accepted.
2023-05-12 13:14:05.738 +07:00 [DBG] Connection id "0HMQIM0AE6A3C" received FIN.
2023-05-12 13:14:05.740 +07:00 [DBG] Connection id "0HMQIM0AE6A3C" started.
2023-05-12 13:14:05.740 +07:00 [DBG] Connection id "0HMQIM0AE6A3D" accepted.
2023-05-12 13:14:05.744 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-12 13:14:05.746 +07:00 [DBG] Connection id "0HMQIM0AE6A3D" started.
2023-05-12 13:14:05.751 +07:00 [DBG] Connection id "0HMQIM0AE6A3C" stopped.
2023-05-12 13:14:05.754 +07:00 [DBG] Connection id "0HMQIM0AE6A3C" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-12 13:14:05.757 +07:00 [DBG] Connection 0HMQIM0AE6A3D established using the following protocol: "Tls12"
2023-05-12 13:14:05.770 +07:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7269/api/cities/1/pointsofinterest/1 application/json 122
2023-05-12 13:14:05.778 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2023-05-12 13:14:05.784 +07:00 [DBG] Endpoint 'APIDemo.Controllers.PointOfInterestController.UpdatePointOfInterest (APIDemo)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointofinterestId}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2023-05-12 13:14:05.787 +07:00 [DBG] Request matched endpoint 'APIDemo.Controllers.PointOfInterestController.UpdatePointOfInterest (APIDemo)'
2023-05-12 13:14:05.790 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-12 13:14:05.793 +07:00 [INF] Executing endpoint 'APIDemo.Controllers.PointOfInterestController.UpdatePointOfInterest (APIDemo)'
2023-05-12 13:14:05.828 +07:00 [INF] Route matched with {action = "UpdatePointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdatePointOfInterest(Int32, Int32, APIDemo.Models.PointOfInterestUpdateDTO) on controller APIDemo.Controllers.PointOfInterestController (APIDemo).
2023-05-12 13:14:05.835 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-12 13:14:05.838 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-12 13:14:05.844 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-12 13:14:05.848 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-12 13:14:05.852 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-12 13:14:05.861 +07:00 [DBG] Executing controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 13:14:06.031 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-05-12 13:14:06.252 +07:00 [DBG] Executed controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 13:14:06.258 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-05-12 13:14:06.262 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-05-12 13:14:06.265 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 13:14:06.266 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 13:14:06.269 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-05-12 13:14:06.273 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-05-12 13:14:06.276 +07:00 [DBG] Attempting to bind parameter 'pointofinterestId' of type 'System.Int32' ...
2023-05-12 13:14:06.278 +07:00 [DBG] Attempting to bind parameter 'pointofinterestId' of type 'System.Int32' using the name 'pointofinterestId' in request data ...
2023-05-12 13:14:06.283 +07:00 [DBG] Done attempting to bind parameter 'pointofinterestId' of type 'System.Int32'.
2023-05-12 13:14:06.290 +07:00 [DBG] Done attempting to bind parameter 'pointofinterestId' of type 'System.Int32'.
2023-05-12 13:14:06.295 +07:00 [DBG] Attempting to validate the bound parameter 'pointofinterestId' of type 'System.Int32' ...
2023-05-12 13:14:06.300 +07:00 [DBG] Done attempting to validate the bound parameter 'pointofinterestId' of type 'System.Int32'.
2023-05-12 13:14:06.305 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestUpdateDTO' ...
2023-05-12 13:14:06.314 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestUpdateDTO' using the name '' in request data ...
2023-05-12 13:14:06.329 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-05-12 13:14:06.338 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-05-12 13:14:06.350 +07:00 [DBG] Connection id "0HMQIM0AE6A3D", Request id "0HMQIM0AE6A3D:00000002": started reading request body.
2023-05-12 13:14:06.353 +07:00 [DBG] Connection id "0HMQIM0AE6A3D", Request id "0HMQIM0AE6A3D:00000002": done reading request body.
2023-05-12 13:14:06.502 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestUpdateDTO'.
2023-05-12 13:14:06.506 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestUpdateDTO'.
2023-05-12 13:14:06.511 +07:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestUpdateDTO' ...
2023-05-12 13:14:06.521 +07:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestUpdateDTO'.
2023-05-12 13:14:07.565 +07:00 [INF] Entity Framework Core 6.0.16 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.16' with options: None
2023-05-12 13:14:07.636 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(item => item.Id == __cityId_0)'
2023-05-12 13:14:07.995 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        APIDemo.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-12 13:14:08.079 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 13:14:08.222 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (139ms).
2023-05-12 13:14:08.248 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 13:14:08.275 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 13:14:08.298 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 13:14:08.347 +07:00 [INF] Executed DbCommand (54ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 13:14:08.364 +07:00 [DBG] A data reader was disposed.
2023-05-12 13:14:08.374 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 13:14:08.383 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 13:14:08.389 +07:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(item => item.CityId == __cityId_0 && item.Id == __pointofinterestId_1)
    .FirstOrDefault()'
2023-05-12 13:14:08.439 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<PointOfInterest>(
    asyncEnumerable: new SingleQueryingEnumerable<PointOfInterest>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
            SELECT TOP(1) p.Id, p.CityId, p.Description, p.Name
            FROM PointOfInterests AS p
            WHERE (p.CityId == @__cityId_0) && (p.Id == @__pointofinterestId_1)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
        APIDemo.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-12 13:14:08.461 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 13:14:08.465 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2023-05-12 13:14:08.467 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 13:14:08.469 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 13:14:08.471 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointofinterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointofinterestId_1)
LIMIT 1
2023-05-12 13:14:08.475 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointofinterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointofinterestId_1)
LIMIT 1
2023-05-12 13:14:08.499 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 13:14:08.534 +07:00 [DBG] A data reader was disposed.
2023-05-12 13:14:08.536 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 13:14:08.540 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 13:16:01.682 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-05-12 13:16:01.810 +07:00 [DBG] Hosting starting
2023-05-12 13:16:01.952 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 75D11A6361D7470A96C9C9E8EC2F301CE14CF8DD)
2023-05-12 13:16:01.993 +07:00 [INF] Now listening on: https://localhost:7269
2023-05-12 13:16:01.994 +07:00 [INF] Now listening on: http://localhost:5078
2023-05-12 13:16:01.996 +07:00 [DBG] Loaded hosting startup assembly APIDemo
2023-05-12 13:16:01.997 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-05-12 13:16:01.998 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-05-12 13:16:01.999 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-12 13:16:02.001 +07:00 [INF] Hosting environment: Development
2023-05-12 13:16:02.002 +07:00 [INF] Content root path: C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\
2023-05-12 13:16:02.003 +07:00 [DBG] Hosting started
2023-05-12 13:16:02.209 +07:00 [DBG] Connection id "0HMQIM1E7ED89" received FIN.
2023-05-12 13:16:02.209 +07:00 [DBG] Connection id "0HMQIM1E7ED88" received FIN.
2023-05-12 13:16:02.235 +07:00 [DBG] Connection id "0HMQIM1E7ED89" accepted.
2023-05-12 13:16:02.235 +07:00 [DBG] Connection id "0HMQIM1E7ED88" accepted.
2023-05-12 13:16:02.237 +07:00 [DBG] Connection id "0HMQIM1E7ED89" started.
2023-05-12 13:16:02.237 +07:00 [DBG] Connection id "0HMQIM1E7ED88" started.
2023-05-12 13:16:02.256 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-12 13:16:02.256 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-12 13:16:02.302 +07:00 [DBG] Connection id "0HMQIM1E7ED88" stopped.
2023-05-12 13:16:02.302 +07:00 [DBG] Connection id "0HMQIM1E7ED89" stopped.
2023-05-12 13:16:02.306 +07:00 [DBG] Connection id "0HMQIM1E7ED88" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-12 13:16:02.306 +07:00 [DBG] Connection id "0HMQIM1E7ED89" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-12 13:16:02.508 +07:00 [DBG] Connection id "0HMQIM1E7ED8A" accepted.
2023-05-12 13:16:02.510 +07:00 [DBG] Connection id "0HMQIM1E7ED8A" started.
2023-05-12 13:16:02.577 +07:00 [DBG] Connection 0HMQIM1E7ED8A established using the following protocol: "Tls12"
2023-05-12 13:16:02.636 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/index.html - -
2023-05-12 13:16:02.675 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-05-12 13:16:02.712 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-05-12 13:16:02.715 +07:00 [DBG] Request did not match any endpoints
2023-05-12 13:16:02.838 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-05-12 13:16:02.996 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - -
2023-05-12 13:16:02.996 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_vs/browserLink - -
2023-05-12 13:16:03.003 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-05-12 13:16:03.010 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 13.5659ms
2023-05-12 13:16:03.011 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/index.html - - - 200 - text/html;charset=utf-8 381.8696ms
2023-05-12 13:16:03.025 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 29.4465ms
2023-05-12 13:16:03.138 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - -
2023-05-12 13:16:03.140 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-05-12 13:16:03.141 +07:00 [DBG] Request did not match any endpoints
2023-05-12 13:16:03.337 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 198.8479ms
2023-05-12 13:16:10.533 +07:00 [DBG] Connection id "0HMQIM1E7ED8B" accepted.
2023-05-12 13:16:10.534 +07:00 [DBG] Connection id "0HMQIM1E7ED8B" received FIN.
2023-05-12 13:16:10.535 +07:00 [DBG] Connection id "0HMQIM1E7ED8B" started.
2023-05-12 13:16:10.536 +07:00 [DBG] Connection id "0HMQIM1E7ED8C" accepted.
2023-05-12 13:16:10.538 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-12 13:16:10.539 +07:00 [DBG] Connection id "0HMQIM1E7ED8C" started.
2023-05-12 13:16:10.543 +07:00 [DBG] Connection id "0HMQIM1E7ED8B" stopped.
2023-05-12 13:16:10.545 +07:00 [DBG] Connection id "0HMQIM1E7ED8B" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-12 13:16:10.550 +07:00 [DBG] Connection 0HMQIM1E7ED8C established using the following protocol: "Tls12"
2023-05-12 13:16:10.564 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7269/api/cities/1/pointsofinterest/1 - -
2023-05-12 13:16:10.573 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2023-05-12 13:16:10.578 +07:00 [DBG] Endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterestsById (APIDemo)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointofinterestId}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2023-05-12 13:16:10.583 +07:00 [DBG] Request matched endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterestsById (APIDemo)'
2023-05-12 13:16:10.586 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-12 13:16:10.589 +07:00 [INF] Executing endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterestsById (APIDemo)'
2023-05-12 13:16:10.621 +07:00 [INF] Route matched with {action = "GetPointOfInterestsById", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[APIDemo.Models.PointOfInterestDTO]] GetPointOfInterestsById(Int32, Int32) on controller APIDemo.Controllers.PointOfInterestController (APIDemo).
2023-05-12 13:16:10.626 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-12 13:16:10.628 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-12 13:16:10.630 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-12 13:16:10.634 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-12 13:16:10.636 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-12 13:16:10.640 +07:00 [DBG] Executing controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 13:16:10.814 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-05-12 13:16:11.032 +07:00 [DBG] Executed controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 13:16:11.039 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-05-12 13:16:11.042 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-05-12 13:16:11.045 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 13:16:11.046 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 13:16:11.049 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-05-12 13:16:11.055 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-05-12 13:16:11.058 +07:00 [DBG] Attempting to bind parameter 'pointofinterestId' of type 'System.Int32' ...
2023-05-12 13:16:11.060 +07:00 [DBG] Attempting to bind parameter 'pointofinterestId' of type 'System.Int32' using the name 'pointofinterestId' in request data ...
2023-05-12 13:16:11.062 +07:00 [DBG] Done attempting to bind parameter 'pointofinterestId' of type 'System.Int32'.
2023-05-12 13:16:11.064 +07:00 [DBG] Done attempting to bind parameter 'pointofinterestId' of type 'System.Int32'.
2023-05-12 13:16:11.069 +07:00 [DBG] Attempting to validate the bound parameter 'pointofinterestId' of type 'System.Int32' ...
2023-05-12 13:16:11.071 +07:00 [DBG] Done attempting to validate the bound parameter 'pointofinterestId' of type 'System.Int32'.
2023-05-12 13:16:12.135 +07:00 [INF] Entity Framework Core 6.0.16 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.16' with options: None
2023-05-12 13:16:12.207 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(item => item.Id == __cityId_0)'
2023-05-12 13:16:12.569 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        APIDemo.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-12 13:16:12.652 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 13:16:12.737 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (82ms).
2023-05-12 13:16:12.760 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 13:16:12.786 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 13:16:12.809 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 13:16:12.853 +07:00 [INF] Executed DbCommand (49ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 13:16:12.877 +07:00 [DBG] A data reader was disposed.
2023-05-12 13:16:12.890 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 13:16:12.904 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 13:16:12.914 +07:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(item => item.CityId == __cityId_0 && item.Id == __pointofinterestId_1)
    .FirstOrDefault()'
2023-05-12 13:16:12.966 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<PointOfInterest>(
    asyncEnumerable: new SingleQueryingEnumerable<PointOfInterest>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
            SELECT TOP(1) p.Id, p.CityId, p.Description, p.Name
            FROM PointOfInterests AS p
            WHERE (p.CityId == @__cityId_0) && (p.Id == @__pointofinterestId_1)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
        APIDemo.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-12 13:16:12.988 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 13:16:12.992 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-05-12 13:16:12.996 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 13:16:12.999 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 13:16:13.002 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointofinterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointofinterestId_1)
LIMIT 1
2023-05-12 13:16:13.010 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointofinterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointofinterestId_1)
LIMIT 1
2023-05-12 13:16:13.034 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 13:16:13.067 +07:00 [DBG] A data reader was disposed.
2023-05-12 13:16:13.068 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 13:16:13.072 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 13:18:14.249 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-05-12 13:18:14.376 +07:00 [DBG] Hosting starting
2023-05-12 13:18:14.522 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 75D11A6361D7470A96C9C9E8EC2F301CE14CF8DD)
2023-05-12 13:18:14.563 +07:00 [INF] Now listening on: https://localhost:7269
2023-05-12 13:18:14.565 +07:00 [INF] Now listening on: http://localhost:5078
2023-05-12 13:18:14.566 +07:00 [DBG] Loaded hosting startup assembly APIDemo
2023-05-12 13:18:14.568 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-05-12 13:18:14.569 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-05-12 13:18:14.571 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-12 13:18:14.573 +07:00 [INF] Hosting environment: Development
2023-05-12 13:18:14.574 +07:00 [INF] Content root path: C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\
2023-05-12 13:18:14.576 +07:00 [DBG] Hosting started
2023-05-12 13:18:14.637 +07:00 [DBG] Connection id "0HMQIM2LMC7O3" received FIN.
2023-05-12 13:18:14.648 +07:00 [DBG] Connection id "0HMQIM2LMC7O3" accepted.
2023-05-12 13:18:14.650 +07:00 [DBG] Connection id "0HMQIM2LMC7O3" started.
2023-05-12 13:18:14.668 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-12 13:18:14.708 +07:00 [DBG] Connection id "0HMQIM2LMC7O3" stopped.
2023-05-12 13:18:14.712 +07:00 [DBG] Connection id "0HMQIM2LMC7O3" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-12 13:18:14.950 +07:00 [DBG] Connection id "0HMQIM2LMC7O4" accepted.
2023-05-12 13:18:14.955 +07:00 [DBG] Connection id "0HMQIM2LMC7O4" started.
2023-05-12 13:18:15.020 +07:00 [DBG] Connection 0HMQIM2LMC7O4 established using the following protocol: "Tls12"
2023-05-12 13:18:15.111 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/index.html - -
2023-05-12 13:18:15.155 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-05-12 13:18:15.187 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-05-12 13:18:15.190 +07:00 [DBG] Request did not match any endpoints
2023-05-12 13:18:15.318 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-05-12 13:18:15.490 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - -
2023-05-12 13:18:15.490 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_vs/browserLink - -
2023-05-12 13:18:15.496 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-05-12 13:18:15.503 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 13.0099ms
2023-05-12 13:18:15.506 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/index.html - - - 200 - text/html;charset=utf-8 403.7538ms
2023-05-12 13:18:15.520 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 30.2530ms
2023-05-12 13:18:15.627 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - -
2023-05-12 13:18:15.629 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-05-12 13:18:15.632 +07:00 [DBG] Request did not match any endpoints
2023-05-12 13:18:15.813 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 186.5395ms
2023-05-12 13:18:20.733 +07:00 [DBG] Connection id "0HMQIM2LMC7O5" accepted.
2023-05-12 13:18:20.734 +07:00 [DBG] Connection id "0HMQIM2LMC7O5" started.
2023-05-12 13:18:20.735 +07:00 [DBG] Connection id "0HMQIM2LMC7O5" received FIN.
2023-05-12 13:18:20.735 +07:00 [DBG] Connection id "0HMQIM2LMC7O6" accepted.
2023-05-12 13:18:20.740 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-12 13:18:20.741 +07:00 [DBG] Connection id "0HMQIM2LMC7O6" started.
2023-05-12 13:18:20.748 +07:00 [DBG] Connection id "0HMQIM2LMC7O5" stopped.
2023-05-12 13:18:20.754 +07:00 [DBG] Connection id "0HMQIM2LMC7O5" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-12 13:18:20.757 +07:00 [DBG] Connection 0HMQIM2LMC7O6 established using the following protocol: "Tls12"
2023-05-12 13:18:20.769 +07:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7269/api/cities/1/pointsofinterest/1 application/json 122
2023-05-12 13:18:20.778 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2023-05-12 13:18:20.783 +07:00 [DBG] Endpoint 'APIDemo.Controllers.PointOfInterestController.UpdatePointOfInterest (APIDemo)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointofinterestId}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2023-05-12 13:18:20.786 +07:00 [DBG] Request matched endpoint 'APIDemo.Controllers.PointOfInterestController.UpdatePointOfInterest (APIDemo)'
2023-05-12 13:18:20.790 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-12 13:18:20.794 +07:00 [INF] Executing endpoint 'APIDemo.Controllers.PointOfInterestController.UpdatePointOfInterest (APIDemo)'
2023-05-12 13:18:20.826 +07:00 [INF] Route matched with {action = "UpdatePointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdatePointOfInterest(Int32, Int32, APIDemo.Models.PointOfInterestUpdateDTO) on controller APIDemo.Controllers.PointOfInterestController (APIDemo).
2023-05-12 13:18:20.834 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-12 13:18:20.837 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-12 13:18:20.841 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-12 13:18:20.850 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-12 13:18:20.853 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-12 13:18:20.857 +07:00 [DBG] Executing controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 13:18:21.035 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-05-12 13:18:21.258 +07:00 [DBG] Executed controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 13:18:21.265 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-05-12 13:18:21.269 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-05-12 13:18:21.274 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 13:18:21.279 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 13:18:21.284 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-05-12 13:18:21.292 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-05-12 13:18:21.300 +07:00 [DBG] Attempting to bind parameter 'pointofinterestId' of type 'System.Int32' ...
2023-05-12 13:18:21.305 +07:00 [DBG] Attempting to bind parameter 'pointofinterestId' of type 'System.Int32' using the name 'pointofinterestId' in request data ...
2023-05-12 13:18:21.309 +07:00 [DBG] Done attempting to bind parameter 'pointofinterestId' of type 'System.Int32'.
2023-05-12 13:18:21.311 +07:00 [DBG] Done attempting to bind parameter 'pointofinterestId' of type 'System.Int32'.
2023-05-12 13:18:21.314 +07:00 [DBG] Attempting to validate the bound parameter 'pointofinterestId' of type 'System.Int32' ...
2023-05-12 13:18:21.316 +07:00 [DBG] Done attempting to validate the bound parameter 'pointofinterestId' of type 'System.Int32'.
2023-05-12 13:18:21.321 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestUpdateDTO' ...
2023-05-12 13:18:21.328 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestUpdateDTO' using the name '' in request data ...
2023-05-12 13:18:21.337 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-05-12 13:18:21.342 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-05-12 13:18:21.358 +07:00 [DBG] Connection id "0HMQIM2LMC7O6", Request id "0HMQIM2LMC7O6:00000002": started reading request body.
2023-05-12 13:18:21.363 +07:00 [DBG] Connection id "0HMQIM2LMC7O6", Request id "0HMQIM2LMC7O6:00000002": done reading request body.
2023-05-12 13:18:21.516 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestUpdateDTO'.
2023-05-12 13:18:21.518 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestUpdateDTO'.
2023-05-12 13:18:21.520 +07:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestUpdateDTO' ...
2023-05-12 13:18:21.530 +07:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestUpdateDTO'.
2023-05-12 13:18:21.534 +07:00 [FTL] 1
2023-05-12 13:18:21.535 +07:00 [FTL] 1
2023-05-12 13:18:22.564 +07:00 [INF] Entity Framework Core 6.0.16 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.16' with options: None
2023-05-12 13:18:22.662 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(item => item.Id == __cityId_0)'
2023-05-12 13:18:23.017 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        APIDemo.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-12 13:18:23.100 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 13:18:23.185 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (80ms).
2023-05-12 13:18:23.206 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 13:18:23.229 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 13:18:23.252 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 13:18:23.292 +07:00 [INF] Executed DbCommand (47ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 13:18:23.313 +07:00 [DBG] A data reader was disposed.
2023-05-12 13:18:23.326 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 13:18:23.338 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 13:18:23.348 +07:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(item => item.CityId == __cityId_0 && item.Id == __pointofinterestId_1)
    .FirstOrDefault()'
2023-05-12 13:18:23.405 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<PointOfInterest>(
    asyncEnumerable: new SingleQueryingEnumerable<PointOfInterest>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
            SELECT TOP(1) p.Id, p.CityId, p.Description, p.Name
            FROM PointOfInterests AS p
            WHERE (p.CityId == @__cityId_0) && (p.Id == @__pointofinterestId_1)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
        APIDemo.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-12 13:18:23.428 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 13:18:23.431 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-05-12 13:18:23.434 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 13:18:23.439 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 13:18:23.441 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointofinterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointofinterestId_1)
LIMIT 1
2023-05-12 13:18:23.445 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointofinterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointofinterestId_1)
LIMIT 1
2023-05-12 13:18:23.469 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 13:18:23.502 +07:00 [DBG] A data reader was disposed.
2023-05-12 13:18:23.504 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 13:18:23.506 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 13:19:36.158 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-05-12 13:19:36.289 +07:00 [DBG] Hosting starting
2023-05-12 13:19:36.434 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 75D11A6361D7470A96C9C9E8EC2F301CE14CF8DD)
2023-05-12 13:19:36.484 +07:00 [INF] Now listening on: https://localhost:7269
2023-05-12 13:19:36.485 +07:00 [INF] Now listening on: http://localhost:5078
2023-05-12 13:19:36.486 +07:00 [DBG] Loaded hosting startup assembly APIDemo
2023-05-12 13:19:36.487 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-05-12 13:19:36.488 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-05-12 13:19:36.490 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-12 13:19:36.492 +07:00 [INF] Hosting environment: Development
2023-05-12 13:19:36.493 +07:00 [INF] Content root path: C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\
2023-05-12 13:19:36.494 +07:00 [DBG] Hosting started
2023-05-12 13:19:36.559 +07:00 [DBG] Connection id "0HMQIM3E3KP7S" received FIN.
2023-05-12 13:19:36.572 +07:00 [DBG] Connection id "0HMQIM3E3KP7S" accepted.
2023-05-12 13:19:36.574 +07:00 [DBG] Connection id "0HMQIM3E3KP7S" started.
2023-05-12 13:19:36.592 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-12 13:19:36.633 +07:00 [DBG] Connection id "0HMQIM3E3KP7S" stopped.
2023-05-12 13:19:36.637 +07:00 [DBG] Connection id "0HMQIM3E3KP7S" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-12 13:19:36.838 +07:00 [DBG] Connection id "0HMQIM3E3KP7T" accepted.
2023-05-12 13:19:36.842 +07:00 [DBG] Connection id "0HMQIM3E3KP7T" started.
2023-05-12 13:19:36.909 +07:00 [DBG] Connection 0HMQIM3E3KP7T established using the following protocol: "Tls12"
2023-05-12 13:19:36.964 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/index.html - -
2023-05-12 13:19:37.000 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-05-12 13:19:37.030 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-05-12 13:19:37.032 +07:00 [DBG] Request did not match any endpoints
2023-05-12 13:19:37.164 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-05-12 13:19:37.319 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - -
2023-05-12 13:19:37.319 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_vs/browserLink - -
2023-05-12 13:19:37.325 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-05-12 13:19:37.334 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 14.7730ms
2023-05-12 13:19:37.334 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/index.html - - - 200 - text/html;charset=utf-8 374.2869ms
2023-05-12 13:19:37.347 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 28.4308ms
2023-05-12 13:19:37.441 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - -
2023-05-12 13:19:37.443 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-05-12 13:19:37.445 +07:00 [DBG] Request did not match any endpoints
2023-05-12 13:19:37.632 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 190.3796ms
2023-05-12 13:19:39.580 +07:00 [DBG] Connection id "0HMQIM3E3KP7U" accepted.
2023-05-12 13:19:39.580 +07:00 [DBG] Connection id "0HMQIM3E3KP7U" received FIN.
2023-05-12 13:19:39.584 +07:00 [DBG] Connection id "0HMQIM3E3KP7V" accepted.
2023-05-12 13:19:39.584 +07:00 [DBG] Connection id "0HMQIM3E3KP7U" started.
2023-05-12 13:19:39.587 +07:00 [DBG] Connection id "0HMQIM3E3KP7V" started.
2023-05-12 13:19:39.590 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-12 13:19:39.602 +07:00 [DBG] Connection id "0HMQIM3E3KP7U" stopped.
2023-05-12 13:19:39.603 +07:00 [DBG] Connection 0HMQIM3E3KP7V established using the following protocol: "Tls12"
2023-05-12 13:19:39.604 +07:00 [DBG] Connection id "0HMQIM3E3KP7U" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-12 13:19:39.621 +07:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7269/api/cities/1/pointsofinterest/1 application/json 122
2023-05-12 13:19:39.629 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2023-05-12 13:19:39.635 +07:00 [DBG] Endpoint 'APIDemo.Controllers.PointOfInterestController.UpdatePointOfInterest (APIDemo)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointofinterestId}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2023-05-12 13:19:39.637 +07:00 [DBG] Request matched endpoint 'APIDemo.Controllers.PointOfInterestController.UpdatePointOfInterest (APIDemo)'
2023-05-12 13:19:39.641 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-12 13:19:39.644 +07:00 [INF] Executing endpoint 'APIDemo.Controllers.PointOfInterestController.UpdatePointOfInterest (APIDemo)'
2023-05-12 13:19:39.676 +07:00 [INF] Route matched with {action = "UpdatePointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdatePointOfInterest(Int32, Int32, APIDemo.Models.PointOfInterestUpdateDTO) on controller APIDemo.Controllers.PointOfInterestController (APIDemo).
2023-05-12 13:19:39.680 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-12 13:19:39.682 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-12 13:19:39.684 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-12 13:19:39.689 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-12 13:19:39.691 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-12 13:19:39.694 +07:00 [DBG] Executing controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 13:19:39.878 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-05-12 13:19:40.124 +07:00 [DBG] Executed controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 13:19:40.135 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-05-12 13:19:40.143 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-05-12 13:19:40.150 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 13:19:40.156 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 13:19:40.161 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-05-12 13:19:40.168 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-05-12 13:19:40.173 +07:00 [DBG] Attempting to bind parameter 'pointofinterestId' of type 'System.Int32' ...
2023-05-12 13:19:40.176 +07:00 [DBG] Attempting to bind parameter 'pointofinterestId' of type 'System.Int32' using the name 'pointofinterestId' in request data ...
2023-05-12 13:19:40.179 +07:00 [DBG] Done attempting to bind parameter 'pointofinterestId' of type 'System.Int32'.
2023-05-12 13:19:40.182 +07:00 [DBG] Done attempting to bind parameter 'pointofinterestId' of type 'System.Int32'.
2023-05-12 13:19:40.186 +07:00 [DBG] Attempting to validate the bound parameter 'pointofinterestId' of type 'System.Int32' ...
2023-05-12 13:19:40.189 +07:00 [DBG] Done attempting to validate the bound parameter 'pointofinterestId' of type 'System.Int32'.
2023-05-12 13:19:40.192 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestUpdateDTO' ...
2023-05-12 13:19:40.195 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestUpdateDTO' using the name '' in request data ...
2023-05-12 13:19:40.203 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-05-12 13:19:40.206 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-05-12 13:19:40.218 +07:00 [DBG] Connection id "0HMQIM3E3KP7V", Request id "0HMQIM3E3KP7V:00000002": started reading request body.
2023-05-12 13:19:40.223 +07:00 [DBG] Connection id "0HMQIM3E3KP7V", Request id "0HMQIM3E3KP7V:00000002": done reading request body.
2023-05-12 13:19:40.385 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestUpdateDTO'.
2023-05-12 13:19:40.387 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestUpdateDTO'.
2023-05-12 13:19:40.390 +07:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestUpdateDTO' ...
2023-05-12 13:19:40.400 +07:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestUpdateDTO'.
2023-05-12 13:19:40.405 +07:00 [FTL] 1
2023-05-12 13:19:40.406 +07:00 [FTL] 1
2023-05-12 13:19:41.540 +07:00 [INF] Entity Framework Core 6.0.16 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.16' with options: None
2023-05-12 13:19:41.607 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(item => item.Id == __cityId_0)'
2023-05-12 13:19:42.036 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        APIDemo.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-12 13:19:42.120 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 13:19:42.202 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (78ms).
2023-05-12 13:19:42.225 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 13:19:42.249 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 13:19:42.273 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 13:19:42.320 +07:00 [INF] Executed DbCommand (52ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 13:19:42.341 +07:00 [DBG] A data reader was disposed.
2023-05-12 13:19:42.354 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 13:19:42.363 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 13:19:42.374 +07:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(item => item.CityId == __cityId_0 && item.Id == __pointofinterestId_1)
    .FirstOrDefault()'
2023-05-12 13:19:42.448 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<PointOfInterest>(
    asyncEnumerable: new SingleQueryingEnumerable<PointOfInterest>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
            SELECT TOP(1) p.Id, p.CityId, p.Description, p.Name
            FROM PointOfInterests AS p
            WHERE (p.CityId == @__cityId_0) && (p.Id == @__pointofinterestId_1)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
        APIDemo.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-12 13:19:42.467 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 13:19:42.469 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-12 13:19:42.470 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 13:19:42.473 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 13:19:42.475 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointofinterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointofinterestId_1)
LIMIT 1
2023-05-12 13:19:42.484 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointofinterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointofinterestId_1)
LIMIT 1
2023-05-12 13:19:42.505 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 13:19:42.543 +07:00 [DBG] A data reader was disposed.
2023-05-12 13:19:42.546 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 13:19:42.550 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 13:19:42.572 +07:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2023-05-12 13:19:42.579 +07:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2023-05-12 13:19:42.600 +07:00 [DBG] The unchanged property 'PointOfInterest.Description' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-05-12 13:19:42.622 +07:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 13:19:42.630 +07:00 [DBG] The unchanged property 'PointOfInterest.Name' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-05-12 13:19:42.638 +07:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2023-05-12 13:19:42.670 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 13:19:42.673 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 13:19:42.680 +07:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-05-12 13:19:42.688 +07:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-05-12 13:19:42.750 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 13:19:42.754 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-05-12 13:19:42.760 +07:00 [DBG] Executing DbCommand [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 59), @p1='?' (Size = 22)], CommandType='"Text"', CommandTimeout='30']
UPDATE "PointOfInterests" SET "Description" = @p0, "Name" = @p1
WHERE "Id" = @p2;
SELECT changes();
2023-05-12 13:19:42.774 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 59), @p1='?' (Size = 22)], CommandType='"Text"', CommandTimeout='30']
UPDATE "PointOfInterests" SET "Description" = @p0, "Name" = @p1
WHERE "Id" = @p2;
SELECT changes();
2023-05-12 13:19:42.791 +07:00 [DBG] A data reader was disposed.
2023-05-12 13:19:42.801 +07:00 [DBG] Committing transaction.
2023-05-12 13:19:42.816 +07:00 [DBG] Committed transaction.
2023-05-12 13:19:42.824 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 13:19:42.831 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 13:19:42.839 +07:00 [DBG] Disposing transaction.
2023-05-12 13:19:42.850 +07:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 13:19:42.864 +07:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2023-05-12 13:19:42.875 +07:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2023-05-12 13:19:42.883 +07:00 [INF] Executed action APIDemo.Controllers.PointOfInterestController.UpdatePointOfInterest (APIDemo) in 3183.8161ms
2023-05-12 13:19:42.887 +07:00 [INF] Executed endpoint 'APIDemo.Controllers.PointOfInterestController.UpdatePointOfInterest (APIDemo)'
2023-05-12 13:19:42.891 +07:00 [DBG] Connection id "0HMQIM3E3KP7V" completed keep alive response.
2023-05-12 13:19:42.898 +07:00 [DBG] 'CityInfoContext' disposed.
2023-05-12 13:19:42.904 +07:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7269/api/cities/1/pointsofinterest/1 application/json 122 - 204 - - 3283.8063ms
2023-05-12 13:19:50.350 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7269/api/cities/1/pointsofinterest/1 application/json 122
2023-05-12 13:19:50.353 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2023-05-12 13:19:50.354 +07:00 [DBG] Endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterestsById (APIDemo)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointofinterestId}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2023-05-12 13:19:50.357 +07:00 [DBG] Request matched endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterestsById (APIDemo)'
2023-05-12 13:19:50.360 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-12 13:19:50.362 +07:00 [INF] Executing endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterestsById (APIDemo)'
2023-05-12 13:19:50.370 +07:00 [INF] Route matched with {action = "GetPointOfInterestsById", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[APIDemo.Models.PointOfInterestDTO]] GetPointOfInterestsById(Int32, Int32) on controller APIDemo.Controllers.PointOfInterestController (APIDemo).
2023-05-12 13:19:50.373 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-12 13:19:50.376 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-12 13:19:50.380 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-12 13:19:50.384 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-12 13:19:50.386 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-12 13:19:50.388 +07:00 [DBG] Executing controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 13:19:50.391 +07:00 [DBG] Executed controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 13:19:50.395 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-05-12 13:19:50.397 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-05-12 13:19:50.399 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 13:19:50.401 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 13:19:50.403 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-05-12 13:19:50.405 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-05-12 13:19:50.407 +07:00 [DBG] Attempting to bind parameter 'pointofinterestId' of type 'System.Int32' ...
2023-05-12 13:19:50.411 +07:00 [DBG] Attempting to bind parameter 'pointofinterestId' of type 'System.Int32' using the name 'pointofinterestId' in request data ...
2023-05-12 13:19:50.414 +07:00 [DBG] Done attempting to bind parameter 'pointofinterestId' of type 'System.Int32'.
2023-05-12 13:19:50.416 +07:00 [DBG] Done attempting to bind parameter 'pointofinterestId' of type 'System.Int32'.
2023-05-12 13:19:50.418 +07:00 [DBG] Attempting to validate the bound parameter 'pointofinterestId' of type 'System.Int32' ...
2023-05-12 13:19:50.420 +07:00 [DBG] Done attempting to validate the bound parameter 'pointofinterestId' of type 'System.Int32'.
2023-05-12 13:19:50.426 +07:00 [INF] Entity Framework Core 6.0.16 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.16' with options: None
2023-05-12 13:19:50.434 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 13:19:50.435 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-12 13:19:50.438 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 13:19:50.439 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 13:19:50.447 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 13:19:50.460 +07:00 [INF] Executed DbCommand (14ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 13:19:50.467 +07:00 [DBG] A data reader was disposed.
2023-05-12 13:19:50.468 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 13:19:50.477 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 13:19:50.482 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 13:19:50.484 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-05-12 13:19:50.489 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 13:19:50.494 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 13:19:50.499 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointofinterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointofinterestId_1)
LIMIT 1
2023-05-12 13:19:50.506 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointofinterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointofinterestId_1)
LIMIT 1
2023-05-12 13:19:50.515 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 13:19:50.522 +07:00 [DBG] A data reader was disposed.
2023-05-12 13:19:50.524 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 13:19:50.528 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 13:20:07.401 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-05-12 13:20:07.409 +07:00 [DBG] No information found on request to perform content negotiation.
2023-05-12 13:20:07.410 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-05-12 13:20:07.413 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-05-12 13:20:07.417 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-05-12 13:20:07.420 +07:00 [INF] Executing OkObjectResult, writing value of type 'APIDemo.Models.PointOfInterestDTO'.
2023-05-12 13:20:07.477 +07:00 [INF] Executed action APIDemo.Controllers.PointOfInterestController.GetPointOfInterestsById (APIDemo) in 17089.2585ms
2023-05-12 13:20:07.482 +07:00 [INF] Executed endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterestsById (APIDemo)'
2023-05-12 13:20:07.484 +07:00 [DBG] Connection id "0HMQIM3E3KP7V" completed keep alive response.
2023-05-12 13:20:07.486 +07:00 [DBG] 'CityInfoContext' disposed.
2023-05-12 13:20:07.489 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7269/api/cities/1/pointsofinterest/1 application/json 122 - 200 116 application/json;+charset=utf-8 17138.3140ms
2023-05-12 13:20:07.494 +07:00 [DBG] Connection id "0HMQIM3E3KP7V", Request id "0HMQIM3E3KP7V:00000003": started reading request body.
2023-05-12 13:20:07.496 +07:00 [DBG] Connection id "0HMQIM3E3KP7V", Request id "0HMQIM3E3KP7V:00000003": done reading request body.
2023-05-12 13:21:15.195 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-05-12 13:21:15.310 +07:00 [DBG] Hosting starting
2023-05-12 13:21:15.494 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 75D11A6361D7470A96C9C9E8EC2F301CE14CF8DD)
2023-05-12 13:21:15.545 +07:00 [INF] Now listening on: https://localhost:7269
2023-05-12 13:21:15.546 +07:00 [INF] Now listening on: http://localhost:5078
2023-05-12 13:21:15.548 +07:00 [DBG] Loaded hosting startup assembly APIDemo
2023-05-12 13:21:15.550 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-05-12 13:21:15.551 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-05-12 13:21:15.554 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-12 13:21:15.557 +07:00 [INF] Hosting environment: Development
2023-05-12 13:21:15.561 +07:00 [INF] Content root path: C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\
2023-05-12 13:21:15.563 +07:00 [DBG] Hosting started
2023-05-12 13:21:15.697 +07:00 [DBG] Connection id "0HMQIM4BL34M5" received FIN.
2023-05-12 13:21:15.735 +07:00 [DBG] Connection id "0HMQIM4BL34M5" accepted.
2023-05-12 13:21:15.740 +07:00 [DBG] Connection id "0HMQIM4BL34M5" started.
2023-05-12 13:21:15.767 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-12 13:21:15.813 +07:00 [DBG] Connection id "0HMQIM4BL34M5" stopped.
2023-05-12 13:21:15.817 +07:00 [DBG] Connection id "0HMQIM4BL34M5" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-12 13:21:16.031 +07:00 [DBG] Connection id "0HMQIM4BL34M6" accepted.
2023-05-12 13:21:16.034 +07:00 [DBG] Connection id "0HMQIM4BL34M6" started.
2023-05-12 13:21:16.094 +07:00 [DBG] Connection 0HMQIM4BL34M6 established using the following protocol: "Tls12"
2023-05-12 13:21:16.151 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/index.html - -
2023-05-12 13:21:16.190 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-05-12 13:21:16.226 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-05-12 13:21:16.230 +07:00 [DBG] Request did not match any endpoints
2023-05-12 13:21:16.348 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-05-12 13:21:16.511 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - -
2023-05-12 13:21:16.511 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_vs/browserLink - -
2023-05-12 13:21:16.522 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-05-12 13:21:16.526 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 14.2747ms
2023-05-12 13:21:16.527 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/index.html - - - 200 - text/html;charset=utf-8 381.3243ms
2023-05-12 13:21:16.540 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 28.3176ms
2023-05-12 13:21:16.637 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - -
2023-05-12 13:21:16.639 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-05-12 13:21:16.643 +07:00 [DBG] Request did not match any endpoints
2023-05-12 13:21:16.823 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 185.8789ms
2023-05-12 13:21:22.588 +07:00 [DBG] Connection id "0HMQIM4BL34M7" accepted.
2023-05-12 13:21:22.588 +07:00 [DBG] Connection id "0HMQIM4BL34M7" received FIN.
2023-05-12 13:21:22.591 +07:00 [DBG] Connection id "0HMQIM4BL34M7" started.
2023-05-12 13:21:22.592 +07:00 [DBG] Connection id "0HMQIM4BL34M8" accepted.
2023-05-12 13:21:22.599 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-12 13:21:22.601 +07:00 [DBG] Connection id "0HMQIM4BL34M8" started.
2023-05-12 13:21:22.611 +07:00 [DBG] Connection id "0HMQIM4BL34M7" stopped.
2023-05-12 13:21:22.617 +07:00 [DBG] Connection id "0HMQIM4BL34M7" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-12 13:21:22.620 +07:00 [DBG] Connection 0HMQIM4BL34M8 established using the following protocol: "Tls12"
2023-05-12 13:21:22.638 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7269/api/cities/1/pointsofinterest/1 - -
2023-05-12 13:21:22.649 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2023-05-12 13:21:22.655 +07:00 [DBG] Endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterestsById (APIDemo)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointofinterestId}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2023-05-12 13:21:22.659 +07:00 [DBG] Request matched endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterestsById (APIDemo)'
2023-05-12 13:21:22.667 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-12 13:21:22.674 +07:00 [INF] Executing endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterestsById (APIDemo)'
2023-05-12 13:21:22.706 +07:00 [INF] Route matched with {action = "GetPointOfInterestsById", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[APIDemo.Models.PointOfInterestDTO]] GetPointOfInterestsById(Int32, Int32) on controller APIDemo.Controllers.PointOfInterestController (APIDemo).
2023-05-12 13:21:22.716 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-12 13:21:22.720 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-12 13:21:22.728 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-12 13:21:22.735 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-12 13:21:22.737 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-12 13:21:22.749 +07:00 [DBG] Executing controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 13:21:22.919 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-05-12 13:21:23.148 +07:00 [DBG] Executed controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 13:21:23.154 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-05-12 13:21:23.158 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-05-12 13:21:23.160 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 13:21:23.161 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 13:21:23.163 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-05-12 13:21:23.166 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-05-12 13:21:23.170 +07:00 [DBG] Attempting to bind parameter 'pointofinterestId' of type 'System.Int32' ...
2023-05-12 13:21:23.172 +07:00 [DBG] Attempting to bind parameter 'pointofinterestId' of type 'System.Int32' using the name 'pointofinterestId' in request data ...
2023-05-12 13:21:23.175 +07:00 [DBG] Done attempting to bind parameter 'pointofinterestId' of type 'System.Int32'.
2023-05-12 13:21:23.176 +07:00 [DBG] Done attempting to bind parameter 'pointofinterestId' of type 'System.Int32'.
2023-05-12 13:21:23.178 +07:00 [DBG] Attempting to validate the bound parameter 'pointofinterestId' of type 'System.Int32' ...
2023-05-12 13:21:23.180 +07:00 [DBG] Done attempting to validate the bound parameter 'pointofinterestId' of type 'System.Int32'.
2023-05-12 13:21:24.213 +07:00 [INF] Entity Framework Core 6.0.16 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.16' with options: None
2023-05-12 13:21:24.279 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(item => item.Id == __cityId_0)'
2023-05-12 13:21:24.633 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        APIDemo.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-12 13:21:24.713 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 13:21:24.800 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (81ms).
2023-05-12 13:21:24.823 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 13:21:24.850 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 13:21:24.874 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 13:21:24.991 +07:00 [INF] Executed DbCommand (111ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 13:21:25.035 +07:00 [DBG] A data reader was disposed.
2023-05-12 13:21:25.047 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 13:21:25.057 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 13:21:25.066 +07:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(item => item.CityId == __cityId_0 && item.Id == __pointofinterestId_1)
    .FirstOrDefault()'
2023-05-12 13:21:25.122 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<PointOfInterest>(
    asyncEnumerable: new SingleQueryingEnumerable<PointOfInterest>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
            SELECT TOP(1) p.Id, p.CityId, p.Description, p.Name
            FROM PointOfInterests AS p
            WHERE (p.CityId == @__cityId_0) && (p.Id == @__pointofinterestId_1)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
        APIDemo.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-12 13:21:25.143 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 13:21:25.147 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-05-12 13:21:25.150 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 13:21:25.157 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 13:21:25.163 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointofinterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointofinterestId_1)
LIMIT 1
2023-05-12 13:21:25.170 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointofinterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointofinterestId_1)
LIMIT 1
2023-05-12 13:21:25.196 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 13:21:25.228 +07:00 [DBG] A data reader was disposed.
2023-05-12 13:21:25.230 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 13:21:25.235 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 13:21:25.253 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-05-12 13:21:25.267 +07:00 [DBG] No information found on request to perform content negotiation.
2023-05-12 13:21:25.269 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-05-12 13:21:25.272 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-05-12 13:21:25.275 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-05-12 13:21:25.281 +07:00 [INF] Executing OkObjectResult, writing value of type 'APIDemo.Models.PointOfInterestDTO'.
2023-05-12 13:21:25.441 +07:00 [INF] Executed action APIDemo.Controllers.PointOfInterestController.GetPointOfInterestsById (APIDemo) in 2688.4472ms
2023-05-12 13:21:25.446 +07:00 [INF] Executed endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterestsById (APIDemo)'
2023-05-12 13:21:25.447 +07:00 [DBG] Connection id "0HMQIM4BL34M8" completed keep alive response.
2023-05-12 13:21:25.454 +07:00 [DBG] 'CityInfoContext' disposed.
2023-05-12 13:21:25.459 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7269/api/cities/1/pointsofinterest/1 - - - 200 116 application/json;+charset=utf-8 2821.6788ms
2023-05-12 13:21:31.722 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7269/api/cities/1/pointsofinterest/1 application/json 123
2023-05-12 13:21:31.725 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2023-05-12 13:21:31.727 +07:00 [DBG] Endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterestsById (APIDemo)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointofinterestId}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2023-05-12 13:21:31.731 +07:00 [DBG] Request matched endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterestsById (APIDemo)'
2023-05-12 13:21:31.735 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-12 13:21:31.737 +07:00 [INF] Executing endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterestsById (APIDemo)'
2023-05-12 13:21:31.739 +07:00 [INF] Route matched with {action = "GetPointOfInterestsById", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[APIDemo.Models.PointOfInterestDTO]] GetPointOfInterestsById(Int32, Int32) on controller APIDemo.Controllers.PointOfInterestController (APIDemo).
2023-05-12 13:21:31.742 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-12 13:21:31.744 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-12 13:21:31.750 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-12 13:21:31.755 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-12 13:21:31.757 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-12 13:21:31.760 +07:00 [DBG] Executing controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 13:21:31.764 +07:00 [DBG] Executed controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 13:21:31.766 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-05-12 13:21:31.767 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-05-12 13:21:31.769 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 13:21:31.771 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 13:21:31.774 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-05-12 13:21:31.776 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-05-12 13:21:31.780 +07:00 [DBG] Attempting to bind parameter 'pointofinterestId' of type 'System.Int32' ...
2023-05-12 13:21:31.783 +07:00 [DBG] Attempting to bind parameter 'pointofinterestId' of type 'System.Int32' using the name 'pointofinterestId' in request data ...
2023-05-12 13:21:31.786 +07:00 [DBG] Done attempting to bind parameter 'pointofinterestId' of type 'System.Int32'.
2023-05-12 13:21:31.788 +07:00 [DBG] Done attempting to bind parameter 'pointofinterestId' of type 'System.Int32'.
2023-05-12 13:21:31.790 +07:00 [DBG] Attempting to validate the bound parameter 'pointofinterestId' of type 'System.Int32' ...
2023-05-12 13:21:31.792 +07:00 [DBG] Done attempting to validate the bound parameter 'pointofinterestId' of type 'System.Int32'.
2023-05-12 13:21:31.800 +07:00 [INF] Entity Framework Core 6.0.16 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.16' with options: None
2023-05-12 13:21:31.807 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 13:21:31.808 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-12 13:21:31.811 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 13:21:31.813 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 13:21:31.816 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 13:21:31.822 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 13:21:31.828 +07:00 [DBG] A data reader was disposed.
2023-05-12 13:21:31.829 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 13:21:31.832 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 13:21:31.835 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 13:21:31.837 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-12 13:21:31.839 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 13:21:31.843 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 13:21:31.845 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointofinterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointofinterestId_1)
LIMIT 1
2023-05-12 13:21:31.851 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointofinterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointofinterestId_1)
LIMIT 1
2023-05-12 13:21:31.859 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 13:21:31.867 +07:00 [DBG] A data reader was disposed.
2023-05-12 13:21:31.869 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 13:21:31.874 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 13:21:31.879 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-05-12 13:21:31.887 +07:00 [DBG] No information found on request to perform content negotiation.
2023-05-12 13:21:31.891 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-05-12 13:21:31.894 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-05-12 13:21:31.898 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-05-12 13:21:31.902 +07:00 [INF] Executing OkObjectResult, writing value of type 'APIDemo.Models.PointOfInterestDTO'.
2023-05-12 13:21:31.906 +07:00 [INF] Executed action APIDemo.Controllers.PointOfInterestController.GetPointOfInterestsById (APIDemo) in 146.7591ms
2023-05-12 13:21:31.909 +07:00 [INF] Executed endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterestsById (APIDemo)'
2023-05-12 13:21:31.912 +07:00 [DBG] Connection id "0HMQIM4BL34M8" completed keep alive response.
2023-05-12 13:21:31.915 +07:00 [DBG] 'CityInfoContext' disposed.
2023-05-12 13:21:31.918 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7269/api/cities/1/pointsofinterest/1 application/json 123 - 200 116 application/json;+charset=utf-8 195.8586ms
2023-05-12 13:21:31.923 +07:00 [DBG] Connection id "0HMQIM4BL34M8", Request id "0HMQIM4BL34M8:00000003": started reading request body.
2023-05-12 13:21:31.926 +07:00 [DBG] Connection id "0HMQIM4BL34M8", Request id "0HMQIM4BL34M8:00000003": done reading request body.
2023-05-12 13:21:37.143 +07:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7269/api/cities/1/pointsofinterest/1 application/json 123
2023-05-12 13:21:37.144 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2023-05-12 13:21:37.146 +07:00 [DBG] Endpoint 'APIDemo.Controllers.PointOfInterestController.UpdatePointOfInterest (APIDemo)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointofinterestId}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2023-05-12 13:21:37.149 +07:00 [DBG] Request matched endpoint 'APIDemo.Controllers.PointOfInterestController.UpdatePointOfInterest (APIDemo)'
2023-05-12 13:21:37.152 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-12 13:21:37.155 +07:00 [INF] Executing endpoint 'APIDemo.Controllers.PointOfInterestController.UpdatePointOfInterest (APIDemo)'
2023-05-12 13:21:37.160 +07:00 [INF] Route matched with {action = "UpdatePointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdatePointOfInterest(Int32, Int32, APIDemo.Models.PointOfInterestUpdateDTO) on controller APIDemo.Controllers.PointOfInterestController (APIDemo).
2023-05-12 13:21:37.163 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-12 13:21:37.167 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-12 13:21:37.169 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-12 13:21:37.172 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-12 13:21:37.174 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-12 13:21:37.176 +07:00 [DBG] Executing controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 13:21:37.180 +07:00 [DBG] Executed controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 13:21:37.184 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-05-12 13:21:37.186 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-05-12 13:21:37.188 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 13:21:37.190 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 13:21:37.191 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-05-12 13:21:37.193 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-05-12 13:21:37.195 +07:00 [DBG] Attempting to bind parameter 'pointofinterestId' of type 'System.Int32' ...
2023-05-12 13:21:37.199 +07:00 [DBG] Attempting to bind parameter 'pointofinterestId' of type 'System.Int32' using the name 'pointofinterestId' in request data ...
2023-05-12 13:21:37.202 +07:00 [DBG] Done attempting to bind parameter 'pointofinterestId' of type 'System.Int32'.
2023-05-12 13:21:37.207 +07:00 [DBG] Done attempting to bind parameter 'pointofinterestId' of type 'System.Int32'.
2023-05-12 13:21:37.213 +07:00 [DBG] Attempting to validate the bound parameter 'pointofinterestId' of type 'System.Int32' ...
2023-05-12 13:21:37.217 +07:00 [DBG] Done attempting to validate the bound parameter 'pointofinterestId' of type 'System.Int32'.
2023-05-12 13:21:37.221 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestUpdateDTO' ...
2023-05-12 13:21:37.229 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestUpdateDTO' using the name '' in request data ...
2023-05-12 13:21:37.236 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-05-12 13:21:37.243 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-05-12 13:21:37.258 +07:00 [DBG] Connection id "0HMQIM4BL34M8", Request id "0HMQIM4BL34M8:00000004": started reading request body.
2023-05-12 13:21:37.263 +07:00 [DBG] Connection id "0HMQIM4BL34M8", Request id "0HMQIM4BL34M8:00000004": done reading request body.
2023-05-12 13:21:37.322 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestUpdateDTO'.
2023-05-12 13:21:37.327 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestUpdateDTO'.
2023-05-12 13:21:37.332 +07:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestUpdateDTO' ...
2023-05-12 13:21:37.344 +07:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestUpdateDTO'.
2023-05-12 13:21:37.353 +07:00 [FTL] 1
2023-05-12 13:21:37.356 +07:00 [FTL] 1
2023-05-12 13:21:37.412 +07:00 [INF] Entity Framework Core 6.0.16 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.16' with options: None
2023-05-12 13:21:37.416 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 13:21:37.418 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-12 13:21:37.419 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 13:21:37.422 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 13:21:37.425 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 13:21:37.428 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 13:21:37.431 +07:00 [DBG] A data reader was disposed.
2023-05-12 13:21:37.438 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 13:21:37.443 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 13:21:37.450 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 13:21:37.451 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-12 13:21:37.454 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 13:21:37.457 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 13:21:37.460 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointofinterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointofinterestId_1)
LIMIT 1
2023-05-12 13:21:37.467 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointofinterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointofinterestId_1)
LIMIT 1
2023-05-12 13:21:37.473 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 13:21:37.479 +07:00 [DBG] A data reader was disposed.
2023-05-12 13:21:37.485 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 13:21:37.490 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 13:21:37.495 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 13:21:37.499 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2023-05-12 13:21:37.502 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 13:21:37.507 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 13:21:37.515 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointofinterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointofinterestId_1)
LIMIT 1
2023-05-12 13:21:37.521 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointofinterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointofinterestId_1)
LIMIT 1
2023-05-12 13:21:37.535 +07:00 [DBG] A data reader was disposed.
2023-05-12 13:21:37.536 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 13:21:37.539 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 13:21:37.556 +07:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2023-05-12 13:21:37.564 +07:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2023-05-12 13:21:37.585 +07:00 [DBG] The unchanged property 'PointOfInterest.Name' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-05-12 13:21:37.604 +07:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 13:21:37.617 +07:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2023-05-12 13:21:37.645 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 13:21:37.650 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 13:21:37.656 +07:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-05-12 13:21:37.666 +07:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-05-12 13:21:37.728 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 13:21:37.731 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-05-12 13:21:37.735 +07:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 23)], CommandType='"Text"', CommandTimeout='30']
UPDATE "PointOfInterests" SET "Name" = @p0
WHERE "Id" = @p1;
SELECT changes();
2023-05-12 13:21:37.744 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 23)], CommandType='"Text"', CommandTimeout='30']
UPDATE "PointOfInterests" SET "Name" = @p0
WHERE "Id" = @p1;
SELECT changes();
2023-05-12 13:21:37.758 +07:00 [DBG] A data reader was disposed.
2023-05-12 13:21:37.767 +07:00 [DBG] Committing transaction.
2023-05-12 13:21:37.781 +07:00 [DBG] Committed transaction.
2023-05-12 13:21:37.792 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 13:21:37.798 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 13:21:37.807 +07:00 [DBG] Disposing transaction.
2023-05-12 13:21:37.818 +07:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 13:21:37.830 +07:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2023-05-12 13:21:37.837 +07:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2023-05-12 13:21:37.841 +07:00 [INF] Executed action APIDemo.Controllers.PointOfInterestController.UpdatePointOfInterest (APIDemo) in 665.2333ms
2023-05-12 13:21:37.847 +07:00 [INF] Executed endpoint 'APIDemo.Controllers.PointOfInterestController.UpdatePointOfInterest (APIDemo)'
2023-05-12 13:21:37.851 +07:00 [DBG] Connection id "0HMQIM4BL34M8" completed keep alive response.
2023-05-12 13:21:37.854 +07:00 [DBG] 'CityInfoContext' disposed.
2023-05-12 13:21:37.858 +07:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7269/api/cities/1/pointsofinterest/1 application/json 123 - 204 - - 714.4639ms
2023-05-12 13:21:42.567 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7269/api/cities/1/pointsofinterest/1 - -
2023-05-12 13:21:42.569 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2023-05-12 13:21:42.573 +07:00 [DBG] Endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterestsById (APIDemo)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointofinterestId}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2023-05-12 13:21:42.582 +07:00 [DBG] Request matched endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterestsById (APIDemo)'
2023-05-12 13:21:42.586 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-12 13:21:42.589 +07:00 [INF] Executing endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterestsById (APIDemo)'
2023-05-12 13:21:42.594 +07:00 [INF] Route matched with {action = "GetPointOfInterestsById", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[APIDemo.Models.PointOfInterestDTO]] GetPointOfInterestsById(Int32, Int32) on controller APIDemo.Controllers.PointOfInterestController (APIDemo).
2023-05-12 13:21:42.602 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-12 13:21:42.608 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-12 13:21:42.616 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-12 13:21:42.622 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-12 13:21:42.630 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-12 13:21:42.636 +07:00 [DBG] Executing controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 13:21:42.643 +07:00 [DBG] Executed controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 13:21:42.648 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-05-12 13:21:42.652 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-05-12 13:21:42.659 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 13:21:42.665 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 13:21:42.669 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-05-12 13:21:42.672 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-05-12 13:21:42.676 +07:00 [DBG] Attempting to bind parameter 'pointofinterestId' of type 'System.Int32' ...
2023-05-12 13:21:42.678 +07:00 [DBG] Attempting to bind parameter 'pointofinterestId' of type 'System.Int32' using the name 'pointofinterestId' in request data ...
2023-05-12 13:21:42.684 +07:00 [DBG] Done attempting to bind parameter 'pointofinterestId' of type 'System.Int32'.
2023-05-12 13:21:42.688 +07:00 [DBG] Done attempting to bind parameter 'pointofinterestId' of type 'System.Int32'.
2023-05-12 13:21:42.694 +07:00 [DBG] Attempting to validate the bound parameter 'pointofinterestId' of type 'System.Int32' ...
2023-05-12 13:21:42.700 +07:00 [DBG] Done attempting to validate the bound parameter 'pointofinterestId' of type 'System.Int32'.
2023-05-12 13:21:42.703 +07:00 [INF] Entity Framework Core 6.0.16 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.16' with options: None
2023-05-12 13:21:42.712 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 13:21:42.716 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2023-05-12 13:21:42.719 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 13:21:42.726 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 13:21:42.732 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 13:21:42.741 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 13:21:42.750 +07:00 [DBG] A data reader was disposed.
2023-05-12 13:21:42.752 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 13:21:42.761 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 13:21:42.767 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 13:21:42.772 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2023-05-12 13:21:42.777 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 13:21:42.782 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 13:21:42.790 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointofinterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointofinterestId_1)
LIMIT 1
2023-05-12 13:21:42.799 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointofinterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointofinterestId_1)
LIMIT 1
2023-05-12 13:21:42.810 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 13:21:42.815 +07:00 [DBG] A data reader was disposed.
2023-05-12 13:21:42.822 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 13:21:42.828 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 13:21:42.834 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-05-12 13:21:42.843 +07:00 [DBG] No information found on request to perform content negotiation.
2023-05-12 13:21:42.848 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-05-12 13:21:42.853 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-05-12 13:21:42.856 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-05-12 13:21:42.863 +07:00 [INF] Executing OkObjectResult, writing value of type 'APIDemo.Models.PointOfInterestDTO'.
2023-05-12 13:21:42.868 +07:00 [INF] Executed action APIDemo.Controllers.PointOfInterestController.GetPointOfInterestsById (APIDemo) in 232.0433ms
2023-05-12 13:21:42.871 +07:00 [INF] Executed endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterestsById (APIDemo)'
2023-05-12 13:21:42.874 +07:00 [DBG] Connection id "0HMQIM4BL34M8" completed keep alive response.
2023-05-12 13:21:42.879 +07:00 [DBG] 'CityInfoContext' disposed.
2023-05-12 13:21:42.881 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7269/api/cities/1/pointsofinterest/1 - - - 200 117 application/json;+charset=utf-8 313.4838ms
2023-05-12 13:22:21.432 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-05-12 13:22:21.548 +07:00 [DBG] Hosting starting
2023-05-12 13:22:21.699 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 75D11A6361D7470A96C9C9E8EC2F301CE14CF8DD)
2023-05-12 13:22:21.746 +07:00 [INF] Now listening on: https://localhost:7269
2023-05-12 13:22:21.748 +07:00 [INF] Now listening on: http://localhost:5078
2023-05-12 13:22:21.749 +07:00 [DBG] Loaded hosting startup assembly APIDemo
2023-05-12 13:22:21.750 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-05-12 13:22:21.752 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-05-12 13:22:21.754 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-12 13:22:21.755 +07:00 [INF] Hosting environment: Development
2023-05-12 13:22:21.756 +07:00 [INF] Content root path: C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\
2023-05-12 13:22:21.757 +07:00 [DBG] Hosting started
2023-05-12 13:22:21.853 +07:00 [DBG] Connection id "0HMQIM4VC0DUN" received FIN.
2023-05-12 13:22:21.868 +07:00 [DBG] Connection id "0HMQIM4VC0DUN" accepted.
2023-05-12 13:22:21.870 +07:00 [DBG] Connection id "0HMQIM4VC0DUN" started.
2023-05-12 13:22:21.904 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-12 13:22:21.953 +07:00 [DBG] Connection id "0HMQIM4VC0DUN" stopped.
2023-05-12 13:22:21.963 +07:00 [DBG] Connection id "0HMQIM4VC0DUN" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-12 13:22:22.233 +07:00 [DBG] Connection id "0HMQIM4VC0DUO" accepted.
2023-05-12 13:22:22.236 +07:00 [DBG] Connection id "0HMQIM4VC0DUO" started.
2023-05-12 13:22:22.307 +07:00 [DBG] Connection 0HMQIM4VC0DUO established using the following protocol: "Tls12"
2023-05-12 13:22:22.373 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/index.html - -
2023-05-12 13:22:22.411 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-05-12 13:22:22.441 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-05-12 13:22:22.443 +07:00 [DBG] Request did not match any endpoints
2023-05-12 13:22:22.564 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-05-12 13:22:22.733 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - -
2023-05-12 13:22:22.733 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_vs/browserLink - -
2023-05-12 13:22:22.739 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-05-12 13:22:22.751 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 16.7865ms
2023-05-12 13:22:22.751 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/index.html - - - 200 - text/html;charset=utf-8 382.7405ms
2023-05-12 13:22:22.766 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 33.0884ms
2023-05-12 13:22:22.861 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - -
2023-05-12 13:22:22.862 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-05-12 13:22:22.865 +07:00 [DBG] Request did not match any endpoints
2023-05-12 13:22:23.044 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 182.5853ms
2023-05-12 13:22:25.469 +07:00 [DBG] Connection id "0HMQIM4VC0DUP" accepted.
2023-05-12 13:22:25.470 +07:00 [DBG] Connection id "0HMQIM4VC0DUP" received FIN.
2023-05-12 13:22:25.472 +07:00 [DBG] Connection id "0HMQIM4VC0DUP" started.
2023-05-12 13:22:25.473 +07:00 [DBG] Connection id "0HMQIM4VC0DUQ" accepted.
2023-05-12 13:22:25.479 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-12 13:22:25.481 +07:00 [DBG] Connection id "0HMQIM4VC0DUQ" started.
2023-05-12 13:22:25.487 +07:00 [DBG] Connection id "0HMQIM4VC0DUP" stopped.
2023-05-12 13:22:25.494 +07:00 [DBG] Connection id "0HMQIM4VC0DUP" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-12 13:22:25.495 +07:00 [DBG] Connection 0HMQIM4VC0DUQ established using the following protocol: "Tls12"
2023-05-12 13:22:25.507 +07:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7269/api/cities/1/pointsofinterest/1 application/json 123
2023-05-12 13:22:25.516 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2023-05-12 13:22:25.521 +07:00 [DBG] Endpoint 'APIDemo.Controllers.PointOfInterestController.UpdatePointOfInterest (APIDemo)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointofinterestId}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2023-05-12 13:22:25.525 +07:00 [DBG] Request matched endpoint 'APIDemo.Controllers.PointOfInterestController.UpdatePointOfInterest (APIDemo)'
2023-05-12 13:22:25.527 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-12 13:22:25.531 +07:00 [INF] Executing endpoint 'APIDemo.Controllers.PointOfInterestController.UpdatePointOfInterest (APIDemo)'
2023-05-12 13:22:25.565 +07:00 [INF] Route matched with {action = "UpdatePointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdatePointOfInterest(Int32, Int32, APIDemo.Models.PointOfInterestUpdateDTO) on controller APIDemo.Controllers.PointOfInterestController (APIDemo).
2023-05-12 13:22:25.569 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-12 13:22:25.571 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-12 13:22:25.574 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-12 13:22:25.577 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-12 13:22:25.579 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-12 13:22:25.582 +07:00 [DBG] Executing controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 13:22:25.759 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-05-12 13:22:25.997 +07:00 [DBG] Executed controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 13:22:26.006 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-05-12 13:22:26.011 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-05-12 13:22:26.019 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 13:22:26.023 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 13:22:26.028 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-05-12 13:22:26.035 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-05-12 13:22:26.043 +07:00 [DBG] Attempting to bind parameter 'pointofinterestId' of type 'System.Int32' ...
2023-05-12 13:22:26.048 +07:00 [DBG] Attempting to bind parameter 'pointofinterestId' of type 'System.Int32' using the name 'pointofinterestId' in request data ...
2023-05-12 13:22:26.055 +07:00 [DBG] Done attempting to bind parameter 'pointofinterestId' of type 'System.Int32'.
2023-05-12 13:22:26.061 +07:00 [DBG] Done attempting to bind parameter 'pointofinterestId' of type 'System.Int32'.
2023-05-12 13:22:26.064 +07:00 [DBG] Attempting to validate the bound parameter 'pointofinterestId' of type 'System.Int32' ...
2023-05-12 13:22:26.068 +07:00 [DBG] Done attempting to validate the bound parameter 'pointofinterestId' of type 'System.Int32'.
2023-05-12 13:22:26.073 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestUpdateDTO' ...
2023-05-12 13:22:26.081 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestUpdateDTO' using the name '' in request data ...
2023-05-12 13:22:26.088 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-05-12 13:22:26.094 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-05-12 13:22:26.106 +07:00 [DBG] Connection id "0HMQIM4VC0DUQ", Request id "0HMQIM4VC0DUQ:00000002": started reading request body.
2023-05-12 13:22:26.110 +07:00 [DBG] Connection id "0HMQIM4VC0DUQ", Request id "0HMQIM4VC0DUQ:00000002": done reading request body.
2023-05-12 13:22:26.264 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestUpdateDTO'.
2023-05-12 13:22:26.269 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestUpdateDTO'.
2023-05-12 13:22:26.274 +07:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestUpdateDTO' ...
2023-05-12 13:22:26.284 +07:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestUpdateDTO'.
2023-05-12 13:22:27.348 +07:00 [INF] Entity Framework Core 6.0.16 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.16' with options: None
2023-05-12 13:22:27.419 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(item => item.Id == __cityId_0)'
2023-05-12 13:22:27.789 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        APIDemo.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-12 13:22:27.868 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 13:22:27.955 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (82ms).
2023-05-12 13:22:27.979 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 13:22:28.001 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 13:22:28.025 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 13:22:28.064 +07:00 [INF] Executed DbCommand (46ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 13:22:28.085 +07:00 [DBG] A data reader was disposed.
2023-05-12 13:22:28.098 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 13:22:28.111 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 13:22:28.121 +07:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(item => item.CityId == __cityId_0 && item.Id == __pointofinterestId_1)
    .FirstOrDefault()'
2023-05-12 13:22:28.175 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<PointOfInterest>(
    asyncEnumerable: new SingleQueryingEnumerable<PointOfInterest>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
            SELECT TOP(1) p.Id, p.CityId, p.Description, p.Name
            FROM PointOfInterests AS p
            WHERE (p.CityId == @__cityId_0) && (p.Id == @__pointofinterestId_1)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
        APIDemo.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-12 13:22:28.197 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 13:22:28.201 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-05-12 13:22:28.206 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 13:22:28.211 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 13:22:28.216 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointofinterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointofinterestId_1)
LIMIT 1
2023-05-12 13:22:28.221 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointofinterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointofinterestId_1)
LIMIT 1
2023-05-12 13:22:28.252 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 13:22:28.286 +07:00 [DBG] A data reader was disposed.
2023-05-12 13:22:28.289 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 13:22:28.293 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 13:22:28.302 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 13:22:28.308 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2023-05-12 13:22:28.311 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 13:22:28.317 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 13:22:28.324 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointofinterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointofinterestId_1)
LIMIT 1
2023-05-12 13:22:28.331 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointofinterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointofinterestId_1)
LIMIT 1
2023-05-12 13:22:28.343 +07:00 [DBG] A data reader was disposed.
2023-05-12 13:22:28.344 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 13:22:28.348 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 13:23:12.621 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-05-12 13:23:12.746 +07:00 [DBG] Hosting starting
2023-05-12 13:23:12.883 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 75D11A6361D7470A96C9C9E8EC2F301CE14CF8DD)
2023-05-12 13:23:12.929 +07:00 [INF] Now listening on: https://localhost:7269
2023-05-12 13:23:12.931 +07:00 [INF] Now listening on: http://localhost:5078
2023-05-12 13:23:12.932 +07:00 [DBG] Loaded hosting startup assembly APIDemo
2023-05-12 13:23:12.933 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-05-12 13:23:12.934 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-05-12 13:23:12.936 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-12 13:23:12.937 +07:00 [INF] Hosting environment: Development
2023-05-12 13:23:12.938 +07:00 [INF] Content root path: C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\
2023-05-12 13:23:12.939 +07:00 [DBG] Hosting started
2023-05-12 13:23:13.316 +07:00 [DBG] Connection id "0HMQIM5EMOOJU" accepted.
2023-05-12 13:23:13.323 +07:00 [DBG] Connection id "0HMQIM5EMOOJU" started.
2023-05-12 13:23:13.324 +07:00 [DBG] Connection id "0HMQIM5EMOOJU" received FIN.
2023-05-12 13:23:13.340 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-12 13:23:13.382 +07:00 [DBG] Connection id "0HMQIM5EMOOJU" stopped.
2023-05-12 13:23:13.386 +07:00 [DBG] Connection id "0HMQIM5EMOOJU" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-12 13:23:13.595 +07:00 [DBG] Connection id "0HMQIM5EMOOJV" accepted.
2023-05-12 13:23:13.600 +07:00 [DBG] Connection id "0HMQIM5EMOOJV" started.
2023-05-12 13:23:13.673 +07:00 [DBG] Connection 0HMQIM5EMOOJV established using the following protocol: "Tls12"
2023-05-12 13:23:13.730 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/index.html - -
2023-05-12 13:23:13.767 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-05-12 13:23:13.794 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-05-12 13:23:13.799 +07:00 [DBG] Request did not match any endpoints
2023-05-12 13:23:13.928 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-05-12 13:23:14.091 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_vs/browserLink - -
2023-05-12 13:23:14.091 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - -
2023-05-12 13:23:14.099 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-05-12 13:23:14.113 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 20.9732ms
2023-05-12 13:23:14.113 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/index.html - - - 200 - text/html;charset=utf-8 386.9834ms
2023-05-12 13:23:14.130 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 38.6666ms
2023-05-12 13:23:14.220 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - -
2023-05-12 13:23:14.222 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-05-12 13:23:14.224 +07:00 [DBG] Request did not match any endpoints
2023-05-12 13:23:14.397 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 177.0541ms
2023-05-12 13:23:19.222 +07:00 [DBG] Connection id "0HMQIM5EMOOK0" accepted.
2023-05-12 13:23:19.224 +07:00 [DBG] Connection id "0HMQIM5EMOOK0" received FIN.
2023-05-12 13:23:19.227 +07:00 [DBG] Connection id "0HMQIM5EMOOK0" started.
2023-05-12 13:23:19.228 +07:00 [DBG] Connection id "0HMQIM5EMOOK1" accepted.
2023-05-12 13:23:19.241 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-12 13:23:19.246 +07:00 [DBG] Connection id "0HMQIM5EMOOK1" started.
2023-05-12 13:23:19.262 +07:00 [DBG] Connection id "0HMQIM5EMOOK0" stopped.
2023-05-12 13:23:19.274 +07:00 [DBG] Connection id "0HMQIM5EMOOK0" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-12 13:23:19.278 +07:00 [DBG] Connection 0HMQIM5EMOOK1 established using the following protocol: "Tls12"
2023-05-12 13:23:19.305 +07:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7269/api/cities/1/pointsofinterest/1 application/json 123
2023-05-12 13:23:19.314 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2023-05-12 13:23:19.322 +07:00 [DBG] Endpoint 'APIDemo.Controllers.PointOfInterestController.UpdatePointOfInterest (APIDemo)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointofinterestId}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2023-05-12 13:23:19.324 +07:00 [DBG] Request matched endpoint 'APIDemo.Controllers.PointOfInterestController.UpdatePointOfInterest (APIDemo)'
2023-05-12 13:23:19.328 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-12 13:23:19.334 +07:00 [INF] Executing endpoint 'APIDemo.Controllers.PointOfInterestController.UpdatePointOfInterest (APIDemo)'
2023-05-12 13:23:19.370 +07:00 [INF] Route matched with {action = "UpdatePointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdatePointOfInterest(Int32, Int32, APIDemo.Models.PointOfInterestUpdateDTO) on controller APIDemo.Controllers.PointOfInterestController (APIDemo).
2023-05-12 13:23:19.377 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-12 13:23:19.380 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-12 13:23:19.384 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-12 13:23:19.390 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-12 13:23:19.396 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-12 13:23:19.401 +07:00 [DBG] Executing controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 13:23:19.574 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-05-12 13:23:19.796 +07:00 [DBG] Executed controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 13:23:19.804 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-05-12 13:23:19.809 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-05-12 13:23:19.813 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 13:23:19.817 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 13:23:19.821 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-05-12 13:23:19.825 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-05-12 13:23:19.831 +07:00 [DBG] Attempting to bind parameter 'pointofinterestId' of type 'System.Int32' ...
2023-05-12 13:23:19.836 +07:00 [DBG] Attempting to bind parameter 'pointofinterestId' of type 'System.Int32' using the name 'pointofinterestId' in request data ...
2023-05-12 13:23:19.840 +07:00 [DBG] Done attempting to bind parameter 'pointofinterestId' of type 'System.Int32'.
2023-05-12 13:23:19.843 +07:00 [DBG] Done attempting to bind parameter 'pointofinterestId' of type 'System.Int32'.
2023-05-12 13:23:19.846 +07:00 [DBG] Attempting to validate the bound parameter 'pointofinterestId' of type 'System.Int32' ...
2023-05-12 13:23:19.853 +07:00 [DBG] Done attempting to validate the bound parameter 'pointofinterestId' of type 'System.Int32'.
2023-05-12 13:23:19.858 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestUpdateDTO' ...
2023-05-12 13:23:19.863 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestUpdateDTO' using the name '' in request data ...
2023-05-12 13:23:19.869 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-05-12 13:23:19.874 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-05-12 13:23:19.889 +07:00 [DBG] Connection id "0HMQIM5EMOOK1", Request id "0HMQIM5EMOOK1:00000002": started reading request body.
2023-05-12 13:23:19.895 +07:00 [DBG] Connection id "0HMQIM5EMOOK1", Request id "0HMQIM5EMOOK1:00000002": done reading request body.
2023-05-12 13:23:20.048 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestUpdateDTO'.
2023-05-12 13:23:20.051 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestUpdateDTO'.
2023-05-12 13:23:20.053 +07:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestUpdateDTO' ...
2023-05-12 13:23:20.064 +07:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestUpdateDTO'.
2023-05-12 13:23:21.220 +07:00 [INF] Entity Framework Core 6.0.16 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.16' with options: None
2023-05-12 13:23:21.289 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(item => item.Id == __cityId_0)'
2023-05-12 13:23:21.644 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        APIDemo.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-12 13:23:21.725 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 13:23:21.803 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (72ms).
2023-05-12 13:23:21.825 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 13:23:21.851 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 13:23:21.874 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 13:23:21.922 +07:00 [INF] Executed DbCommand (54ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 13:23:21.945 +07:00 [DBG] A data reader was disposed.
2023-05-12 13:23:21.955 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 13:23:21.963 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 13:23:21.971 +07:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(item => item.CityId == __cityId_0 && item.Id == __pointofinterestId_1)
    .FirstOrDefault()'
2023-05-12 13:23:22.025 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<PointOfInterest>(
    asyncEnumerable: new SingleQueryingEnumerable<PointOfInterest>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
            SELECT TOP(1) p.Id, p.CityId, p.Description, p.Name
            FROM PointOfInterests AS p
            WHERE (p.CityId == @__cityId_0) && (p.Id == @__pointofinterestId_1)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
        APIDemo.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-12 13:23:22.047 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 13:23:22.051 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-05-12 13:23:22.053 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 13:23:22.056 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 13:23:22.062 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointofinterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointofinterestId_1)
LIMIT 1
2023-05-12 13:23:22.069 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointofinterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointofinterestId_1)
LIMIT 1
2023-05-12 13:23:22.097 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 13:23:22.134 +07:00 [DBG] A data reader was disposed.
2023-05-12 13:23:22.136 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 13:23:22.139 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 13:23:22.148 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 13:23:22.151 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-05-12 13:23:22.156 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 13:23:22.160 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 13:23:22.164 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointofinterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointofinterestId_1)
LIMIT 1
2023-05-12 13:23:22.172 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointofinterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointofinterestId_1)
LIMIT 1
2023-05-12 13:23:22.181 +07:00 [DBG] A data reader was disposed.
2023-05-12 13:23:22.184 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 13:23:22.190 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 13:24:14.158 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-05-12 13:24:14.271 +07:00 [DBG] Hosting starting
2023-05-12 13:24:14.418 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 75D11A6361D7470A96C9C9E8EC2F301CE14CF8DD)
2023-05-12 13:24:14.465 +07:00 [INF] Now listening on: https://localhost:7269
2023-05-12 13:24:14.466 +07:00 [INF] Now listening on: http://localhost:5078
2023-05-12 13:24:14.467 +07:00 [DBG] Loaded hosting startup assembly APIDemo
2023-05-12 13:24:14.469 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-05-12 13:24:14.470 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-05-12 13:24:14.471 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-12 13:24:14.473 +07:00 [INF] Hosting environment: Development
2023-05-12 13:24:14.474 +07:00 [INF] Content root path: C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\
2023-05-12 13:24:14.475 +07:00 [DBG] Hosting started
2023-05-12 13:24:14.612 +07:00 [DBG] Connection id "0HMQIM60VBNUG" received FIN.
2023-05-12 13:24:14.625 +07:00 [DBG] Connection id "0HMQIM60VBNUG" accepted.
2023-05-12 13:24:14.628 +07:00 [DBG] Connection id "0HMQIM60VBNUG" started.
2023-05-12 13:24:14.648 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-12 13:24:14.687 +07:00 [DBG] Connection id "0HMQIM60VBNUG" stopped.
2023-05-12 13:24:14.691 +07:00 [DBG] Connection id "0HMQIM60VBNUG" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-12 13:24:14.913 +07:00 [DBG] Connection id "0HMQIM60VBNUH" accepted.
2023-05-12 13:24:14.914 +07:00 [DBG] Connection id "0HMQIM60VBNUH" started.
2023-05-12 13:24:14.970 +07:00 [DBG] Connection 0HMQIM60VBNUH established using the following protocol: "Tls12"
2023-05-12 13:24:15.024 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/index.html - -
2023-05-12 13:24:15.069 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-05-12 13:24:15.097 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-05-12 13:24:15.099 +07:00 [DBG] Request did not match any endpoints
2023-05-12 13:24:15.213 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-05-12 13:24:15.387 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - -
2023-05-12 13:24:15.387 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_vs/browserLink - -
2023-05-12 13:24:15.400 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-05-12 13:24:15.404 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 16.4117ms
2023-05-12 13:24:15.405 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/index.html - - - 200 - text/html;charset=utf-8 386.7581ms
2023-05-12 13:24:15.417 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 30.7045ms
2023-05-12 13:24:15.514 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - -
2023-05-12 13:24:15.515 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-05-12 13:24:15.516 +07:00 [DBG] Request did not match any endpoints
2023-05-12 13:24:15.689 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 175.5816ms
2023-05-12 13:24:18.772 +07:00 [DBG] Connection id "0HMQIM60VBNUI" accepted.
2023-05-12 13:24:18.772 +07:00 [DBG] Connection id "0HMQIM60VBNUI" received FIN.
2023-05-12 13:24:18.775 +07:00 [DBG] Connection id "0HMQIM60VBNUI" started.
2023-05-12 13:24:18.776 +07:00 [DBG] Connection id "0HMQIM60VBNUJ" accepted.
2023-05-12 13:24:18.782 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-12 13:24:18.783 +07:00 [DBG] Connection id "0HMQIM60VBNUJ" started.
2023-05-12 13:24:18.791 +07:00 [DBG] Connection id "0HMQIM60VBNUI" stopped.
2023-05-12 13:24:18.798 +07:00 [DBG] Connection id "0HMQIM60VBNUI" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-12 13:24:18.799 +07:00 [DBG] Connection 0HMQIM60VBNUJ established using the following protocol: "Tls12"
2023-05-12 13:24:18.818 +07:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7269/api/cities/1/pointsofinterest/1 application/json 122
2023-05-12 13:24:18.830 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2023-05-12 13:24:18.836 +07:00 [DBG] Endpoint 'APIDemo.Controllers.PointOfInterestController.UpdatePointOfInterest (APIDemo)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointofinterestId}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2023-05-12 13:24:18.840 +07:00 [DBG] Request matched endpoint 'APIDemo.Controllers.PointOfInterestController.UpdatePointOfInterest (APIDemo)'
2023-05-12 13:24:18.847 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-12 13:24:18.852 +07:00 [INF] Executing endpoint 'APIDemo.Controllers.PointOfInterestController.UpdatePointOfInterest (APIDemo)'
2023-05-12 13:24:18.890 +07:00 [INF] Route matched with {action = "UpdatePointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdatePointOfInterest(Int32, Int32, APIDemo.Models.PointOfInterestUpdateDTO) on controller APIDemo.Controllers.PointOfInterestController (APIDemo).
2023-05-12 13:24:18.898 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-12 13:24:18.904 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-12 13:24:18.911 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-12 13:24:18.918 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-12 13:24:18.925 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-12 13:24:18.930 +07:00 [DBG] Executing controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 13:24:19.107 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-05-12 13:24:19.331 +07:00 [DBG] Executed controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 13:24:19.337 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-05-12 13:24:19.340 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-05-12 13:24:19.343 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 13:24:19.346 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 13:24:19.350 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-05-12 13:24:19.354 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-05-12 13:24:19.358 +07:00 [DBG] Attempting to bind parameter 'pointofinterestId' of type 'System.Int32' ...
2023-05-12 13:24:19.361 +07:00 [DBG] Attempting to bind parameter 'pointofinterestId' of type 'System.Int32' using the name 'pointofinterestId' in request data ...
2023-05-12 13:24:19.363 +07:00 [DBG] Done attempting to bind parameter 'pointofinterestId' of type 'System.Int32'.
2023-05-12 13:24:19.366 +07:00 [DBG] Done attempting to bind parameter 'pointofinterestId' of type 'System.Int32'.
2023-05-12 13:24:19.368 +07:00 [DBG] Attempting to validate the bound parameter 'pointofinterestId' of type 'System.Int32' ...
2023-05-12 13:24:19.370 +07:00 [DBG] Done attempting to validate the bound parameter 'pointofinterestId' of type 'System.Int32'.
2023-05-12 13:24:19.372 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestUpdateDTO' ...
2023-05-12 13:24:19.374 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestUpdateDTO' using the name '' in request data ...
2023-05-12 13:24:19.377 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-05-12 13:24:19.379 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-05-12 13:24:19.397 +07:00 [DBG] Connection id "0HMQIM60VBNUJ", Request id "0HMQIM60VBNUJ:00000002": started reading request body.
2023-05-12 13:24:19.402 +07:00 [DBG] Connection id "0HMQIM60VBNUJ", Request id "0HMQIM60VBNUJ:00000002": done reading request body.
2023-05-12 13:24:19.561 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestUpdateDTO'.
2023-05-12 13:24:19.566 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestUpdateDTO'.
2023-05-12 13:24:19.570 +07:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestUpdateDTO' ...
2023-05-12 13:24:19.582 +07:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestUpdateDTO'.
2023-05-12 13:24:20.647 +07:00 [INF] Entity Framework Core 6.0.16 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.16' with options: None
2023-05-12 13:24:20.716 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(item => item.Id == __cityId_0)'
2023-05-12 13:24:21.103 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        APIDemo.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-12 13:24:21.184 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 13:24:21.265 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (77ms).
2023-05-12 13:24:21.288 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 13:24:21.311 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 13:24:21.336 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 13:24:21.375 +07:00 [INF] Executed DbCommand (47ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 13:24:21.396 +07:00 [DBG] A data reader was disposed.
2023-05-12 13:24:21.408 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 13:24:21.417 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 13:24:21.424 +07:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(item => item.CityId == __cityId_0 && item.Id == __pointofinterestId_1)
    .FirstOrDefault()'
2023-05-12 13:24:21.475 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<PointOfInterest>(
    asyncEnumerable: new SingleQueryingEnumerable<PointOfInterest>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
            SELECT TOP(1) p.Id, p.CityId, p.Description, p.Name
            FROM PointOfInterests AS p
            WHERE (p.CityId == @__cityId_0) && (p.Id == @__pointofinterestId_1)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
        APIDemo.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-12 13:24:21.501 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 13:24:21.504 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-05-12 13:24:21.508 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 13:24:21.513 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 13:24:21.522 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointofinterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointofinterestId_1)
LIMIT 1
2023-05-12 13:24:21.536 +07:00 [INF] Executed DbCommand (14ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointofinterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointofinterestId_1)
LIMIT 1
2023-05-12 13:24:21.569 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 13:24:21.603 +07:00 [DBG] A data reader was disposed.
2023-05-12 13:24:21.604 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 13:24:21.606 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 13:24:21.612 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 13:24:21.613 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-12 13:24:21.615 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 13:24:21.617 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 13:24:21.618 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointofinterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointofinterestId_1)
LIMIT 1
2023-05-12 13:24:21.622 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointofinterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointofinterestId_1)
LIMIT 1
2023-05-12 13:24:21.630 +07:00 [DBG] A data reader was disposed.
2023-05-12 13:24:21.631 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 13:24:21.634 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 13:24:23.347 +07:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2023-05-12 13:24:23.352 +07:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2023-05-12 13:24:23.371 +07:00 [DBG] The unchanged property 'PointOfInterest.Name' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-05-12 13:24:23.387 +07:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 13:24:23.396 +07:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2023-05-12 13:24:23.424 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 13:24:23.428 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 13:24:23.439 +07:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-05-12 13:24:23.448 +07:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-05-12 13:24:23.514 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 13:24:23.517 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-05-12 13:24:23.521 +07:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 22)], CommandType='"Text"', CommandTimeout='30']
UPDATE "PointOfInterests" SET "Name" = @p0
WHERE "Id" = @p1;
SELECT changes();
2023-05-12 13:24:23.532 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 22)], CommandType='"Text"', CommandTimeout='30']
UPDATE "PointOfInterests" SET "Name" = @p0
WHERE "Id" = @p1;
SELECT changes();
2023-05-12 13:24:23.552 +07:00 [DBG] A data reader was disposed.
2023-05-12 13:24:23.564 +07:00 [DBG] Committing transaction.
2023-05-12 13:24:23.575 +07:00 [DBG] Committed transaction.
2023-05-12 13:24:23.584 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 13:24:23.589 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 13:24:23.599 +07:00 [DBG] Disposing transaction.
2023-05-12 13:24:23.609 +07:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 13:24:23.616 +07:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2023-05-12 13:24:23.792 +07:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2023-05-12 13:24:23.801 +07:00 [INF] Executed action APIDemo.Controllers.PointOfInterestController.UpdatePointOfInterest (APIDemo) in 4864.7255ms
2023-05-12 13:24:23.807 +07:00 [INF] Executed endpoint 'APIDemo.Controllers.PointOfInterestController.UpdatePointOfInterest (APIDemo)'
2023-05-12 13:24:23.812 +07:00 [DBG] Connection id "0HMQIM60VBNUJ" completed keep alive response.
2023-05-12 13:24:23.821 +07:00 [DBG] 'CityInfoContext' disposed.
2023-05-12 13:24:23.829 +07:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7269/api/cities/1/pointsofinterest/1 application/json 122 - 204 - - 5010.6370ms
2023-05-12 13:24:29.392 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7269/api/cities/1/pointsofinterest/1 - -
2023-05-12 13:24:29.395 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2023-05-12 13:24:29.397 +07:00 [DBG] Endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterestsById (APIDemo)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointofinterestId}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2023-05-12 13:24:29.401 +07:00 [DBG] Request matched endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterestsById (APIDemo)'
2023-05-12 13:24:29.405 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-12 13:24:29.407 +07:00 [INF] Executing endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterestsById (APIDemo)'
2023-05-12 13:24:29.413 +07:00 [INF] Route matched with {action = "GetPointOfInterestsById", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[APIDemo.Models.PointOfInterestDTO]] GetPointOfInterestsById(Int32, Int32) on controller APIDemo.Controllers.PointOfInterestController (APIDemo).
2023-05-12 13:24:29.416 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-12 13:24:29.418 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-12 13:24:29.423 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-12 13:24:29.427 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-12 13:24:29.430 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-12 13:24:29.432 +07:00 [DBG] Executing controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 13:24:29.435 +07:00 [DBG] Executed controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 13:24:29.438 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-05-12 13:24:29.440 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-05-12 13:24:29.442 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 13:24:29.443 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 13:24:29.446 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-05-12 13:24:29.448 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-05-12 13:24:29.449 +07:00 [DBG] Attempting to bind parameter 'pointofinterestId' of type 'System.Int32' ...
2023-05-12 13:24:29.453 +07:00 [DBG] Attempting to bind parameter 'pointofinterestId' of type 'System.Int32' using the name 'pointofinterestId' in request data ...
2023-05-12 13:24:29.455 +07:00 [DBG] Done attempting to bind parameter 'pointofinterestId' of type 'System.Int32'.
2023-05-12 13:24:29.457 +07:00 [DBG] Done attempting to bind parameter 'pointofinterestId' of type 'System.Int32'.
2023-05-12 13:24:29.459 +07:00 [DBG] Attempting to validate the bound parameter 'pointofinterestId' of type 'System.Int32' ...
2023-05-12 13:24:29.462 +07:00 [DBG] Done attempting to validate the bound parameter 'pointofinterestId' of type 'System.Int32'.
2023-05-12 13:24:29.467 +07:00 [INF] Entity Framework Core 6.0.16 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.16' with options: None
2023-05-12 13:24:29.470 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 13:24:29.472 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-12 13:24:29.474 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 13:24:29.475 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 13:24:29.478 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 13:24:29.481 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 13:24:29.487 +07:00 [DBG] A data reader was disposed.
2023-05-12 13:24:29.488 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 13:24:29.491 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 13:24:29.493 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 13:24:29.494 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-12 13:24:29.496 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 13:24:29.500 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 13:24:29.503 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointofinterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointofinterestId_1)
LIMIT 1
2023-05-12 13:24:29.507 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointofinterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointofinterestId_1)
LIMIT 1
2023-05-12 13:24:29.512 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 13:24:29.516 +07:00 [DBG] A data reader was disposed.
2023-05-12 13:24:29.517 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 13:24:29.519 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 13:24:29.526 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-05-12 13:24:29.535 +07:00 [DBG] No information found on request to perform content negotiation.
2023-05-12 13:24:29.536 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-05-12 13:24:29.537 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-05-12 13:24:29.540 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-05-12 13:24:29.543 +07:00 [INF] Executing OkObjectResult, writing value of type 'APIDemo.Models.PointOfInterestDTO'.
2023-05-12 13:24:29.602 +07:00 [INF] Executed action APIDemo.Controllers.PointOfInterestController.GetPointOfInterestsById (APIDemo) in 169.6876ms
2023-05-12 13:24:29.605 +07:00 [INF] Executed endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterestsById (APIDemo)'
2023-05-12 13:24:29.607 +07:00 [DBG] Connection id "0HMQIM60VBNUJ" completed keep alive response.
2023-05-12 13:24:29.609 +07:00 [DBG] 'CityInfoContext' disposed.
2023-05-12 13:24:29.611 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7269/api/cities/1/pointsofinterest/1 - - - 200 116 application/json;+charset=utf-8 218.9744ms
2023-05-12 13:24:36.167 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-05-12 13:24:36.293 +07:00 [DBG] Hosting starting
2023-05-12 13:24:36.436 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 75D11A6361D7470A96C9C9E8EC2F301CE14CF8DD)
2023-05-12 13:24:36.490 +07:00 [INF] Now listening on: https://localhost:7269
2023-05-12 13:24:36.492 +07:00 [INF] Now listening on: http://localhost:5078
2023-05-12 13:24:36.493 +07:00 [DBG] Loaded hosting startup assembly APIDemo
2023-05-12 13:24:36.494 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-05-12 13:24:36.496 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-05-12 13:24:36.497 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-12 13:24:36.498 +07:00 [INF] Hosting environment: Development
2023-05-12 13:24:36.499 +07:00 [INF] Content root path: C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\
2023-05-12 13:24:36.500 +07:00 [DBG] Hosting started
2023-05-12 13:24:36.880 +07:00 [DBG] Connection id "0HMQIM67JNFQC" received FIN.
2023-05-12 13:24:36.885 +07:00 [DBG] Connection id "0HMQIM67JNFQC" accepted.
2023-05-12 13:24:36.888 +07:00 [DBG] Connection id "0HMQIM67JNFQC" started.
2023-05-12 13:24:36.907 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-12 13:24:36.954 +07:00 [DBG] Connection id "0HMQIM67JNFQC" stopped.
2023-05-12 13:24:36.958 +07:00 [DBG] Connection id "0HMQIM67JNFQC" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-12 13:24:37.214 +07:00 [DBG] Connection id "0HMQIM67JNFQD" accepted.
2023-05-12 13:24:37.218 +07:00 [DBG] Connection id "0HMQIM67JNFQD" started.
2023-05-12 13:24:37.327 +07:00 [DBG] Connection 0HMQIM67JNFQD established using the following protocol: "Tls12"
2023-05-12 13:24:37.354 +07:00 [DBG] Connection id "0HMQIM67JNFQE" accepted.
2023-05-12 13:24:37.356 +07:00 [DBG] Connection id "0HMQIM67JNFQE" received FIN.
2023-05-12 13:24:37.357 +07:00 [DBG] Connection id "0HMQIM67JNFQE" started.
2023-05-12 13:24:37.359 +07:00 [DBG] Connection id "0HMQIM67JNFQF" accepted.
2023-05-12 13:24:37.363 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-12 13:24:37.366 +07:00 [DBG] Connection id "0HMQIM67JNFQF" started.
2023-05-12 13:24:37.378 +07:00 [DBG] Connection id "0HMQIM67JNFQE" stopped.
2023-05-12 13:24:37.382 +07:00 [DBG] Connection id "0HMQIM67JNFQE" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-12 13:24:37.405 +07:00 [DBG] Connection 0HMQIM67JNFQF established using the following protocol: "Tls12"
2023-05-12 13:24:37.425 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/index.html - -
2023-05-12 13:24:37.425 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7269/api/cities/1/pointsofinterest/1 - -
2023-05-12 13:24:37.443 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-05-12 13:24:37.478 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-05-12 13:24:37.482 +07:00 [DBG] Request did not match any endpoints
2023-05-12 13:24:37.490 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2023-05-12 13:24:37.501 +07:00 [DBG] Endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterestsById (APIDemo)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointofinterestId}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2023-05-12 13:24:37.507 +07:00 [DBG] Request matched endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterestsById (APIDemo)'
2023-05-12 13:24:37.537 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-12 13:24:37.540 +07:00 [INF] Executing endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterestsById (APIDemo)'
2023-05-12 13:24:37.582 +07:00 [INF] Route matched with {action = "GetPointOfInterestsById", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[APIDemo.Models.PointOfInterestDTO]] GetPointOfInterestsById(Int32, Int32) on controller APIDemo.Controllers.PointOfInterestController (APIDemo).
2023-05-12 13:24:37.586 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-12 13:24:37.588 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-12 13:24:37.590 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-12 13:24:37.592 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-12 13:24:37.594 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-12 13:24:37.597 +07:00 [DBG] Executing controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 13:24:37.612 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-05-12 13:24:37.819 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_vs/browserLink - -
2023-05-12 13:24:37.819 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - -
2023-05-12 13:24:37.824 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-05-12 13:24:37.826 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-05-12 13:24:37.839 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 18.4536ms
2023-05-12 13:24:37.839 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/index.html - - - 200 - text/html;charset=utf-8 420.8651ms
2023-05-12 13:24:37.855 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 36.1911ms
2023-05-12 13:24:37.975 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - -
2023-05-12 13:24:37.976 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-05-12 13:24:37.978 +07:00 [DBG] Request did not match any endpoints
2023-05-12 13:24:38.300 +07:00 [DBG] Executed controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 13:24:38.307 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-05-12 13:24:38.310 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-05-12 13:24:38.313 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 13:24:38.315 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 13:24:38.317 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-05-12 13:24:38.320 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-05-12 13:24:38.323 +07:00 [DBG] Attempting to bind parameter 'pointofinterestId' of type 'System.Int32' ...
2023-05-12 13:24:38.324 +07:00 [DBG] Attempting to bind parameter 'pointofinterestId' of type 'System.Int32' using the name 'pointofinterestId' in request data ...
2023-05-12 13:24:38.326 +07:00 [DBG] Done attempting to bind parameter 'pointofinterestId' of type 'System.Int32'.
2023-05-12 13:24:38.327 +07:00 [DBG] Done attempting to bind parameter 'pointofinterestId' of type 'System.Int32'.
2023-05-12 13:24:38.331 +07:00 [DBG] Attempting to validate the bound parameter 'pointofinterestId' of type 'System.Int32' ...
2023-05-12 13:24:38.332 +07:00 [DBG] Done attempting to validate the bound parameter 'pointofinterestId' of type 'System.Int32'.
2023-05-12 13:24:38.335 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 359.3988ms
2023-05-12 13:24:39.381 +07:00 [INF] Entity Framework Core 6.0.16 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.16' with options: None
2023-05-12 13:24:39.454 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(item => item.Id == __cityId_0)'
2023-05-12 13:24:39.812 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        APIDemo.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-12 13:24:39.892 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 13:24:39.976 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (80ms).
2023-05-12 13:24:39.997 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 13:24:40.022 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 13:24:40.045 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 13:24:40.086 +07:00 [INF] Executed DbCommand (46ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 13:24:40.109 +07:00 [DBG] A data reader was disposed.
2023-05-12 13:24:40.121 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 13:24:40.134 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 13:24:40.142 +07:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(item => item.CityId == __cityId_0 && item.Id == __pointofinterestId_1)
    .FirstOrDefault()'
2023-05-12 13:24:40.196 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<PointOfInterest>(
    asyncEnumerable: new SingleQueryingEnumerable<PointOfInterest>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
            SELECT TOP(1) p.Id, p.CityId, p.Description, p.Name
            FROM PointOfInterests AS p
            WHERE (p.CityId == @__cityId_0) && (p.Id == @__pointofinterestId_1)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
        APIDemo.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-12 13:24:40.222 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 13:24:40.224 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-05-12 13:24:40.229 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 13:24:40.232 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 13:24:40.236 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointofinterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointofinterestId_1)
LIMIT 1
2023-05-12 13:24:40.241 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointofinterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointofinterestId_1)
LIMIT 1
2023-05-12 13:24:40.269 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 13:24:40.303 +07:00 [DBG] A data reader was disposed.
2023-05-12 13:24:40.305 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 13:24:40.309 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 13:24:40.326 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-05-12 13:24:40.336 +07:00 [DBG] No information found on request to perform content negotiation.
2023-05-12 13:24:40.340 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-05-12 13:24:40.344 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-05-12 13:24:40.348 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-05-12 13:24:40.353 +07:00 [INF] Executing OkObjectResult, writing value of type 'APIDemo.Models.PointOfInterestDTO'.
2023-05-12 13:24:40.525 +07:00 [INF] Executed action APIDemo.Controllers.PointOfInterestController.GetPointOfInterestsById (APIDemo) in 2922.3614ms
2023-05-12 13:24:40.530 +07:00 [INF] Executed endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterestsById (APIDemo)'
2023-05-12 13:24:40.531 +07:00 [DBG] Connection id "0HMQIM67JNFQF" completed keep alive response.
2023-05-12 13:24:40.537 +07:00 [DBG] 'CityInfoContext' disposed.
2023-05-12 13:24:40.542 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7269/api/cities/1/pointsofinterest/1 - - - 200 116 application/json;+charset=utf-8 3117.0926ms
2023-05-12 13:24:45.853 +07:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7269/api/cities/1/pointsofinterest/1 application/json 122
2023-05-12 13:24:45.856 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2023-05-12 13:24:45.859 +07:00 [DBG] Endpoint 'APIDemo.Controllers.PointOfInterestController.UpdatePointOfInterest (APIDemo)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointofinterestId}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2023-05-12 13:24:45.866 +07:00 [DBG] Request matched endpoint 'APIDemo.Controllers.PointOfInterestController.UpdatePointOfInterest (APIDemo)'
2023-05-12 13:24:45.869 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-12 13:24:45.871 +07:00 [INF] Executing endpoint 'APIDemo.Controllers.PointOfInterestController.UpdatePointOfInterest (APIDemo)'
2023-05-12 13:24:45.878 +07:00 [INF] Route matched with {action = "UpdatePointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdatePointOfInterest(Int32, Int32, APIDemo.Models.PointOfInterestUpdateDTO) on controller APIDemo.Controllers.PointOfInterestController (APIDemo).
2023-05-12 13:24:45.885 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-12 13:24:45.891 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-12 13:24:45.898 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-12 13:24:45.905 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-12 13:24:45.912 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-12 13:24:45.917 +07:00 [DBG] Executing controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 13:24:45.922 +07:00 [DBG] Executed controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 13:24:45.929 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-05-12 13:24:45.932 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-05-12 13:24:45.938 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 13:24:45.945 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 13:24:45.948 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-05-12 13:24:45.952 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-05-12 13:24:45.959 +07:00 [DBG] Attempting to bind parameter 'pointofinterestId' of type 'System.Int32' ...
2023-05-12 13:24:45.963 +07:00 [DBG] Attempting to bind parameter 'pointofinterestId' of type 'System.Int32' using the name 'pointofinterestId' in request data ...
2023-05-12 13:24:45.967 +07:00 [DBG] Done attempting to bind parameter 'pointofinterestId' of type 'System.Int32'.
2023-05-12 13:24:45.974 +07:00 [DBG] Done attempting to bind parameter 'pointofinterestId' of type 'System.Int32'.
2023-05-12 13:24:45.979 +07:00 [DBG] Attempting to validate the bound parameter 'pointofinterestId' of type 'System.Int32' ...
2023-05-12 13:24:45.982 +07:00 [DBG] Done attempting to validate the bound parameter 'pointofinterestId' of type 'System.Int32'.
2023-05-12 13:24:45.985 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestUpdateDTO' ...
2023-05-12 13:24:45.996 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestUpdateDTO' using the name '' in request data ...
2023-05-12 13:24:46.000 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-05-12 13:24:46.008 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-05-12 13:24:46.022 +07:00 [DBG] Connection id "0HMQIM67JNFQF", Request id "0HMQIM67JNFQF:00000003": started reading request body.
2023-05-12 13:24:46.026 +07:00 [DBG] Connection id "0HMQIM67JNFQF", Request id "0HMQIM67JNFQF:00000003": done reading request body.
2023-05-12 13:24:46.083 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestUpdateDTO'.
2023-05-12 13:24:46.085 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestUpdateDTO'.
2023-05-12 13:24:46.087 +07:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestUpdateDTO' ...
2023-05-12 13:24:46.096 +07:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestUpdateDTO'.
2023-05-12 13:24:46.102 +07:00 [INF] Entity Framework Core 6.0.16 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.16' with options: None
2023-05-12 13:24:46.109 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 13:24:46.110 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-12 13:24:46.114 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 13:24:46.117 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 13:24:46.119 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 13:24:46.123 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 13:24:46.130 +07:00 [DBG] A data reader was disposed.
2023-05-12 13:24:46.132 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 13:24:46.135 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 13:24:46.137 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 13:24:46.138 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-12 13:24:46.140 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 13:24:46.144 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 13:24:46.147 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointofinterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointofinterestId_1)
LIMIT 1
2023-05-12 13:24:46.152 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointofinterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointofinterestId_1)
LIMIT 1
2023-05-12 13:24:46.158 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 13:24:46.163 +07:00 [DBG] A data reader was disposed.
2023-05-12 13:24:46.164 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 13:24:46.166 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 13:24:46.168 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 13:24:46.169 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-12 13:24:46.173 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 13:24:46.177 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 13:24:46.180 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointofinterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointofinterestId_1)
LIMIT 1
2023-05-12 13:24:46.184 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointofinterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointofinterestId_1)
LIMIT 1
2023-05-12 13:24:46.194 +07:00 [DBG] A data reader was disposed.
2023-05-12 13:24:46.198 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 13:24:46.201 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 13:25:24.595 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-05-12 13:25:24.733 +07:00 [DBG] Hosting starting
2023-05-12 13:25:24.878 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 75D11A6361D7470A96C9C9E8EC2F301CE14CF8DD)
2023-05-12 13:25:24.931 +07:00 [INF] Now listening on: https://localhost:7269
2023-05-12 13:25:24.933 +07:00 [INF] Now listening on: http://localhost:5078
2023-05-12 13:25:24.934 +07:00 [DBG] Loaded hosting startup assembly APIDemo
2023-05-12 13:25:24.936 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-05-12 13:25:24.937 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-05-12 13:25:24.939 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-12 13:25:24.940 +07:00 [INF] Hosting environment: Development
2023-05-12 13:25:24.942 +07:00 [INF] Content root path: C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\
2023-05-12 13:25:24.943 +07:00 [DBG] Hosting started
2023-05-12 13:25:25.113 +07:00 [DBG] Connection id "0HMQIM6LVN0DE" received FIN.
2023-05-12 13:25:25.136 +07:00 [DBG] Connection id "0HMQIM6LVN0DE" accepted.
2023-05-12 13:25:25.139 +07:00 [DBG] Connection id "0HMQIM6LVN0DE" started.
2023-05-12 13:25:25.163 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-12 13:25:25.198 +07:00 [DBG] Connection id "0HMQIM6LVN0DE" stopped.
2023-05-12 13:25:25.203 +07:00 [DBG] Connection id "0HMQIM6LVN0DE" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-12 13:25:25.407 +07:00 [DBG] Connection id "0HMQIM6LVN0DF" accepted.
2023-05-12 13:25:25.415 +07:00 [DBG] Connection id "0HMQIM6LVN0DF" started.
2023-05-12 13:25:25.473 +07:00 [DBG] Connection 0HMQIM6LVN0DF established using the following protocol: "Tls12"
2023-05-12 13:25:25.532 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/index.html - -
2023-05-12 13:25:25.570 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-05-12 13:25:25.601 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-05-12 13:25:25.603 +07:00 [DBG] Request did not match any endpoints
2023-05-12 13:25:25.720 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-05-12 13:25:25.885 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - -
2023-05-12 13:25:25.885 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_vs/browserLink - -
2023-05-12 13:25:25.893 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-05-12 13:25:25.900 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 14.0799ms
2023-05-12 13:25:25.900 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/index.html - - - 200 - text/html;charset=utf-8 372.7616ms
2023-05-12 13:25:25.919 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 33.7500ms
2023-05-12 13:25:26.018 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - -
2023-05-12 13:25:26.019 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-05-12 13:25:26.021 +07:00 [DBG] Request did not match any endpoints
2023-05-12 13:25:26.190 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 171.7875ms
2023-05-12 13:25:28.808 +07:00 [DBG] Connection id "0HMQIM6LVN0DG" accepted.
2023-05-12 13:25:28.809 +07:00 [DBG] Connection id "0HMQIM6LVN0DG" received FIN.
2023-05-12 13:25:28.811 +07:00 [DBG] Connection id "0HMQIM6LVN0DG" started.
2023-05-12 13:25:28.812 +07:00 [DBG] Connection id "0HMQIM6LVN0DH" accepted.
2023-05-12 13:25:28.821 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-12 13:25:28.823 +07:00 [DBG] Connection id "0HMQIM6LVN0DH" started.
2023-05-12 13:25:28.834 +07:00 [DBG] Connection id "0HMQIM6LVN0DG" stopped.
2023-05-12 13:25:28.839 +07:00 [DBG] Connection id "0HMQIM6LVN0DG" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-12 13:25:28.848 +07:00 [DBG] Connection 0HMQIM6LVN0DH established using the following protocol: "Tls12"
2023-05-12 13:25:28.861 +07:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7269/api/cities/1/pointsofinterest/1 application/json 128
2023-05-12 13:25:28.872 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2023-05-12 13:25:28.880 +07:00 [DBG] Endpoint 'APIDemo.Controllers.PointOfInterestController.UpdatePointOfInterest (APIDemo)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointofinterestId}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2023-05-12 13:25:28.884 +07:00 [DBG] Request matched endpoint 'APIDemo.Controllers.PointOfInterestController.UpdatePointOfInterest (APIDemo)'
2023-05-12 13:25:28.889 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-12 13:25:28.896 +07:00 [INF] Executing endpoint 'APIDemo.Controllers.PointOfInterestController.UpdatePointOfInterest (APIDemo)'
2023-05-12 13:25:28.934 +07:00 [INF] Route matched with {action = "UpdatePointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdatePointOfInterest(Int32, Int32, APIDemo.Models.PointOfInterestUpdateDTO) on controller APIDemo.Controllers.PointOfInterestController (APIDemo).
2023-05-12 13:25:28.942 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-12 13:25:28.945 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-12 13:25:28.950 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-12 13:25:28.958 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-12 13:25:28.962 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-12 13:25:28.967 +07:00 [DBG] Executing controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 13:25:29.142 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-05-12 13:25:29.365 +07:00 [DBG] Executed controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 13:25:29.375 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-05-12 13:25:29.382 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-05-12 13:25:29.389 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 13:25:29.394 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 13:25:29.399 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-05-12 13:25:29.408 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-05-12 13:25:29.415 +07:00 [DBG] Attempting to bind parameter 'pointofinterestId' of type 'System.Int32' ...
2023-05-12 13:25:29.423 +07:00 [DBG] Attempting to bind parameter 'pointofinterestId' of type 'System.Int32' using the name 'pointofinterestId' in request data ...
2023-05-12 13:25:29.427 +07:00 [DBG] Done attempting to bind parameter 'pointofinterestId' of type 'System.Int32'.
2023-05-12 13:25:29.431 +07:00 [DBG] Done attempting to bind parameter 'pointofinterestId' of type 'System.Int32'.
2023-05-12 13:25:29.437 +07:00 [DBG] Attempting to validate the bound parameter 'pointofinterestId' of type 'System.Int32' ...
2023-05-12 13:25:29.442 +07:00 [DBG] Done attempting to validate the bound parameter 'pointofinterestId' of type 'System.Int32'.
2023-05-12 13:25:29.447 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestUpdateDTO' ...
2023-05-12 13:25:29.456 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestUpdateDTO' using the name '' in request data ...
2023-05-12 13:25:29.460 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-05-12 13:25:29.463 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-05-12 13:25:29.477 +07:00 [DBG] Connection id "0HMQIM6LVN0DH", Request id "0HMQIM6LVN0DH:00000002": started reading request body.
2023-05-12 13:25:29.480 +07:00 [DBG] Connection id "0HMQIM6LVN0DH", Request id "0HMQIM6LVN0DH:00000002": done reading request body.
2023-05-12 13:25:29.633 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestUpdateDTO'.
2023-05-12 13:25:29.636 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestUpdateDTO'.
2023-05-12 13:25:29.640 +07:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestUpdateDTO' ...
2023-05-12 13:25:29.652 +07:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestUpdateDTO'.
2023-05-12 13:25:30.717 +07:00 [INF] Entity Framework Core 6.0.16 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.16' with options: None
2023-05-12 13:25:30.786 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(item => item.Id == __cityId_0)'
2023-05-12 13:25:31.142 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        APIDemo.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-12 13:25:31.227 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 13:25:31.306 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (74ms).
2023-05-12 13:25:31.327 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 13:25:31.349 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 13:25:31.369 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 13:25:31.410 +07:00 [INF] Executed DbCommand (46ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 13:25:31.436 +07:00 [DBG] A data reader was disposed.
2023-05-12 13:25:31.447 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 13:25:31.458 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 13:25:31.469 +07:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(item => item.CityId == __cityId_0 && item.Id == __pointofinterestId_1)
    .FirstOrDefault()'
2023-05-12 13:25:31.524 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<PointOfInterest>(
    asyncEnumerable: new SingleQueryingEnumerable<PointOfInterest>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
            SELECT TOP(1) p.Id, p.CityId, p.Description, p.Name
            FROM PointOfInterests AS p
            WHERE (p.CityId == @__cityId_0) && (p.Id == @__pointofinterestId_1)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
        APIDemo.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-12 13:25:31.544 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 13:25:31.548 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-05-12 13:25:31.552 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 13:25:31.556 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 13:25:31.563 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointofinterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointofinterestId_1)
LIMIT 1
2023-05-12 13:25:31.571 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointofinterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointofinterestId_1)
LIMIT 1
2023-05-12 13:25:31.600 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 13:25:31.636 +07:00 [DBG] A data reader was disposed.
2023-05-12 13:25:31.638 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 13:25:31.643 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 13:25:31.653 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 13:25:31.655 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-05-12 13:25:31.660 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 13:25:31.665 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 13:25:31.673 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointofinterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointofinterestId_1)
LIMIT 1
2023-05-12 13:25:31.680 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointofinterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointofinterestId_1)
LIMIT 1
2023-05-12 13:25:31.689 +07:00 [DBG] A data reader was disposed.
2023-05-12 13:25:31.692 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 13:25:31.698 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 13:26:25.712 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-05-12 13:26:25.831 +07:00 [DBG] Hosting starting
2023-05-12 13:26:25.971 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 75D11A6361D7470A96C9C9E8EC2F301CE14CF8DD)
2023-05-12 13:26:26.010 +07:00 [INF] Now listening on: https://localhost:7269
2023-05-12 13:26:26.011 +07:00 [INF] Now listening on: http://localhost:5078
2023-05-12 13:26:26.013 +07:00 [DBG] Loaded hosting startup assembly APIDemo
2023-05-12 13:26:26.014 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-05-12 13:26:26.015 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-05-12 13:26:26.017 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-12 13:26:26.018 +07:00 [INF] Hosting environment: Development
2023-05-12 13:26:26.019 +07:00 [INF] Content root path: C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\
2023-05-12 13:26:26.020 +07:00 [DBG] Hosting started
2023-05-12 13:26:26.182 +07:00 [DBG] Connection id "0HMQIM7863NIR" received FIN.
2023-05-12 13:26:26.194 +07:00 [DBG] Connection id "0HMQIM7863NIR" accepted.
2023-05-12 13:26:26.198 +07:00 [DBG] Connection id "0HMQIM7863NIR" started.
2023-05-12 13:26:26.216 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-12 13:26:26.258 +07:00 [DBG] Connection id "0HMQIM7863NIR" stopped.
2023-05-12 13:26:26.264 +07:00 [DBG] Connection id "0HMQIM7863NIR" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-12 13:26:26.479 +07:00 [DBG] Connection id "0HMQIM7863NIS" accepted.
2023-05-12 13:26:26.487 +07:00 [DBG] Connection id "0HMQIM7863NIS" started.
2023-05-12 13:26:26.558 +07:00 [DBG] Connection 0HMQIM7863NIS established using the following protocol: "Tls12"
2023-05-12 13:26:26.612 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/index.html - -
2023-05-12 13:26:26.647 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-05-12 13:26:26.677 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-05-12 13:26:26.679 +07:00 [DBG] Request did not match any endpoints
2023-05-12 13:26:26.801 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-05-12 13:26:27.023 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - -
2023-05-12 13:26:27.023 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_vs/browserLink - -
2023-05-12 13:26:27.031 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-05-12 13:26:27.049 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 12.6763ms
2023-05-12 13:26:27.052 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/index.html - - - 200 - text/html;charset=utf-8 444.5759ms
2023-05-12 13:26:27.072 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 48.9064ms
2023-05-12 13:26:27.181 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - -
2023-05-12 13:26:27.183 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-05-12 13:26:27.184 +07:00 [DBG] Request did not match any endpoints
2023-05-12 13:26:27.367 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 185.9459ms
2023-05-12 13:26:31.532 +07:00 [DBG] Connection id "0HMQIM7863NIT" accepted.
2023-05-12 13:26:31.533 +07:00 [DBG] Connection id "0HMQIM7863NIT" received FIN.
2023-05-12 13:26:31.534 +07:00 [DBG] Connection id "0HMQIM7863NIT" started.
2023-05-12 13:26:31.535 +07:00 [DBG] Connection id "0HMQIM7863NIU" accepted.
2023-05-12 13:26:31.538 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-12 13:26:31.539 +07:00 [DBG] Connection id "0HMQIM7863NIU" started.
2023-05-12 13:26:31.545 +07:00 [DBG] Connection id "0HMQIM7863NIT" stopped.
2023-05-12 13:26:31.552 +07:00 [DBG] Connection id "0HMQIM7863NIT" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-12 13:26:31.554 +07:00 [DBG] Connection 0HMQIM7863NIU established using the following protocol: "Tls12"
2023-05-12 13:26:31.574 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7269/api/cities/1/pointsofinterest/1 - -
2023-05-12 13:26:31.583 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2023-05-12 13:26:31.588 +07:00 [DBG] Endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterestsById (APIDemo)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointofinterestId}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2023-05-12 13:26:31.590 +07:00 [DBG] Request matched endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterestsById (APIDemo)'
2023-05-12 13:26:31.592 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-12 13:26:31.596 +07:00 [INF] Executing endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterestsById (APIDemo)'
2023-05-12 13:26:31.628 +07:00 [INF] Route matched with {action = "GetPointOfInterestsById", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[APIDemo.Models.PointOfInterestDTO]] GetPointOfInterestsById(Int32, Int32) on controller APIDemo.Controllers.PointOfInterestController (APIDemo).
2023-05-12 13:26:31.632 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-12 13:26:31.634 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-12 13:26:31.636 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-12 13:26:31.639 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-12 13:26:31.643 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-12 13:26:31.646 +07:00 [DBG] Executing controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 13:26:31.823 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-05-12 13:26:32.046 +07:00 [DBG] Executed controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 13:26:32.052 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-05-12 13:26:32.055 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-05-12 13:26:32.058 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 13:26:32.059 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 13:26:32.061 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-05-12 13:26:32.068 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-05-12 13:26:32.072 +07:00 [DBG] Attempting to bind parameter 'pointofinterestId' of type 'System.Int32' ...
2023-05-12 13:26:32.073 +07:00 [DBG] Attempting to bind parameter 'pointofinterestId' of type 'System.Int32' using the name 'pointofinterestId' in request data ...
2023-05-12 13:26:32.075 +07:00 [DBG] Done attempting to bind parameter 'pointofinterestId' of type 'System.Int32'.
2023-05-12 13:26:32.077 +07:00 [DBG] Done attempting to bind parameter 'pointofinterestId' of type 'System.Int32'.
2023-05-12 13:26:32.083 +07:00 [DBG] Attempting to validate the bound parameter 'pointofinterestId' of type 'System.Int32' ...
2023-05-12 13:26:32.087 +07:00 [DBG] Done attempting to validate the bound parameter 'pointofinterestId' of type 'System.Int32'.
2023-05-12 13:26:33.128 +07:00 [INF] Entity Framework Core 6.0.16 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.16' with options: None
2023-05-12 13:26:33.195 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(item => item.Id == __cityId_0)'
2023-05-12 13:26:33.551 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        APIDemo.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-12 13:26:33.629 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 13:26:33.710 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (77ms).
2023-05-12 13:26:33.731 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 13:26:33.756 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 13:26:33.776 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 13:26:33.818 +07:00 [INF] Executed DbCommand (48ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 13:26:33.840 +07:00 [DBG] A data reader was disposed.
2023-05-12 13:26:33.853 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 13:26:33.866 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 13:26:33.875 +07:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(item => item.CityId == __cityId_0 && item.Id == __pointofinterestId_1)
    .FirstOrDefault()'
2023-05-12 13:26:33.932 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<PointOfInterest>(
    asyncEnumerable: new SingleQueryingEnumerable<PointOfInterest>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
            SELECT TOP(1) p.Id, p.CityId, p.Description, p.Name
            FROM PointOfInterests AS p
            WHERE (p.CityId == @__cityId_0) && (p.Id == @__pointofinterestId_1)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
        APIDemo.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-12 13:26:33.955 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 13:26:33.959 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-05-12 13:26:33.963 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 13:26:33.965 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 13:26:33.969 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointofinterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointofinterestId_1)
LIMIT 1
2023-05-12 13:26:33.973 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointofinterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointofinterestId_1)
LIMIT 1
2023-05-12 13:26:34.004 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 13:26:34.046 +07:00 [DBG] A data reader was disposed.
2023-05-12 13:26:34.047 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 13:26:34.049 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 13:26:34.068 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-05-12 13:26:34.074 +07:00 [DBG] No information found on request to perform content negotiation.
2023-05-12 13:26:34.075 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-05-12 13:26:34.076 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-05-12 13:26:34.078 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-05-12 13:26:34.080 +07:00 [INF] Executing OkObjectResult, writing value of type 'APIDemo.Models.PointOfInterestDTO'.
2023-05-12 13:26:34.234 +07:00 [INF] Executed action APIDemo.Controllers.PointOfInterestController.GetPointOfInterestsById (APIDemo) in 2581.6677ms
2023-05-12 13:26:34.237 +07:00 [INF] Executed endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterestsById (APIDemo)'
2023-05-12 13:26:34.239 +07:00 [DBG] Connection id "0HMQIM7863NIU" completed keep alive response.
2023-05-12 13:26:34.246 +07:00 [DBG] 'CityInfoContext' disposed.
2023-05-12 13:26:34.254 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7269/api/cities/1/pointsofinterest/1 - - - 200 116 application/json;+charset=utf-8 2680.2074ms
2023-05-12 13:26:38.369 +07:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7269/api/cities/1/pointsofinterest/1 application/json 128
2023-05-12 13:26:38.371 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2023-05-12 13:26:38.373 +07:00 [DBG] Endpoint 'APIDemo.Controllers.PointOfInterestController.UpdatePointOfInterest (APIDemo)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointofinterestId}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2023-05-12 13:26:38.376 +07:00 [DBG] Request matched endpoint 'APIDemo.Controllers.PointOfInterestController.UpdatePointOfInterest (APIDemo)'
2023-05-12 13:26:38.378 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-12 13:26:38.381 +07:00 [INF] Executing endpoint 'APIDemo.Controllers.PointOfInterestController.UpdatePointOfInterest (APIDemo)'
2023-05-12 13:26:38.387 +07:00 [INF] Route matched with {action = "UpdatePointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdatePointOfInterest(Int32, Int32, APIDemo.Models.PointOfInterestUpdateDTO) on controller APIDemo.Controllers.PointOfInterestController (APIDemo).
2023-05-12 13:26:38.396 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-12 13:26:38.400 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-12 13:26:38.405 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-12 13:26:38.414 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-12 13:26:38.416 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-12 13:26:38.421 +07:00 [DBG] Executing controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 13:26:38.429 +07:00 [DBG] Executed controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 13:26:38.433 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-05-12 13:26:38.437 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-05-12 13:26:38.444 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 13:26:38.449 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 13:26:38.453 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-05-12 13:26:38.459 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-05-12 13:26:38.464 +07:00 [DBG] Attempting to bind parameter 'pointofinterestId' of type 'System.Int32' ...
2023-05-12 13:26:38.470 +07:00 [DBG] Attempting to bind parameter 'pointofinterestId' of type 'System.Int32' using the name 'pointofinterestId' in request data ...
2023-05-12 13:26:38.478 +07:00 [DBG] Done attempting to bind parameter 'pointofinterestId' of type 'System.Int32'.
2023-05-12 13:26:38.482 +07:00 [DBG] Done attempting to bind parameter 'pointofinterestId' of type 'System.Int32'.
2023-05-12 13:26:38.487 +07:00 [DBG] Attempting to validate the bound parameter 'pointofinterestId' of type 'System.Int32' ...
2023-05-12 13:26:38.491 +07:00 [DBG] Done attempting to validate the bound parameter 'pointofinterestId' of type 'System.Int32'.
2023-05-12 13:26:38.496 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestUpdateDTO' ...
2023-05-12 13:26:38.501 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestUpdateDTO' using the name '' in request data ...
2023-05-12 13:26:38.510 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-05-12 13:26:38.514 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-05-12 13:26:38.526 +07:00 [DBG] Connection id "0HMQIM7863NIU", Request id "0HMQIM7863NIU:00000003": started reading request body.
2023-05-12 13:26:38.532 +07:00 [DBG] Connection id "0HMQIM7863NIU", Request id "0HMQIM7863NIU:00000003": done reading request body.
2023-05-12 13:26:38.588 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestUpdateDTO'.
2023-05-12 13:26:38.593 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestUpdateDTO'.
2023-05-12 13:26:38.601 +07:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestUpdateDTO' ...
2023-05-12 13:26:38.624 +07:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestUpdateDTO'.
2023-05-12 13:26:38.648 +07:00 [INF] Entity Framework Core 6.0.16 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.16' with options: None
2023-05-12 13:26:38.661 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 13:26:38.665 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-05-12 13:26:38.669 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 13:26:38.674 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 13:26:38.680 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 13:26:38.686 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 13:26:38.697 +07:00 [DBG] A data reader was disposed.
2023-05-12 13:26:38.700 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 13:26:38.705 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 13:26:38.712 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 13:26:38.715 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-05-12 13:26:38.720 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 13:26:38.726 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 13:26:38.731 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointofinterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointofinterestId_1)
LIMIT 1
2023-05-12 13:26:38.741 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointofinterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointofinterestId_1)
LIMIT 1
2023-05-12 13:26:38.752 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 13:26:38.762 +07:00 [DBG] A data reader was disposed.
2023-05-12 13:26:38.764 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 13:26:38.773 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 13:26:38.794 +07:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2023-05-12 13:26:38.802 +07:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2023-05-12 13:26:38.824 +07:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2023-05-12 13:26:38.833 +07:00 [DBG] SaveChanges completed for 'CityInfoContext' with 0 entities written to the database.
2023-05-12 13:26:38.841 +07:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2023-05-12 13:26:38.843 +07:00 [INF] Executed action APIDemo.Controllers.PointOfInterestController.UpdatePointOfInterest (APIDemo) in 421.8655ms
2023-05-12 13:26:38.848 +07:00 [INF] Executed endpoint 'APIDemo.Controllers.PointOfInterestController.UpdatePointOfInterest (APIDemo)'
2023-05-12 13:26:38.852 +07:00 [DBG] Connection id "0HMQIM7863NIU" completed keep alive response.
2023-05-12 13:26:38.854 +07:00 [DBG] 'CityInfoContext' disposed.
2023-05-12 13:26:38.856 +07:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7269/api/cities/1/pointsofinterest/1 application/json 128 - 204 - - 487.3611ms
2023-05-12 13:26:42.227 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7269/api/cities/1/pointsofinterest/1 - -
2023-05-12 13:26:42.228 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2023-05-12 13:26:42.230 +07:00 [DBG] Endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterestsById (APIDemo)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointofinterestId}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2023-05-12 13:26:42.234 +07:00 [DBG] Request matched endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterestsById (APIDemo)'
2023-05-12 13:26:42.236 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-12 13:26:42.237 +07:00 [INF] Executing endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterestsById (APIDemo)'
2023-05-12 13:26:42.242 +07:00 [INF] Route matched with {action = "GetPointOfInterestsById", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[APIDemo.Models.PointOfInterestDTO]] GetPointOfInterestsById(Int32, Int32) on controller APIDemo.Controllers.PointOfInterestController (APIDemo).
2023-05-12 13:26:42.245 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-12 13:26:42.248 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-12 13:26:42.251 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-12 13:26:42.258 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-12 13:26:42.261 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-12 13:26:42.266 +07:00 [DBG] Executing controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 13:26:42.273 +07:00 [DBG] Executed controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 13:26:42.276 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-05-12 13:26:42.279 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-05-12 13:26:42.281 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 13:26:42.283 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 13:26:42.284 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-05-12 13:26:42.286 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-05-12 13:26:42.289 +07:00 [DBG] Attempting to bind parameter 'pointofinterestId' of type 'System.Int32' ...
2023-05-12 13:26:42.290 +07:00 [DBG] Attempting to bind parameter 'pointofinterestId' of type 'System.Int32' using the name 'pointofinterestId' in request data ...
2023-05-12 13:26:42.292 +07:00 [DBG] Done attempting to bind parameter 'pointofinterestId' of type 'System.Int32'.
2023-05-12 13:26:42.294 +07:00 [DBG] Done attempting to bind parameter 'pointofinterestId' of type 'System.Int32'.
2023-05-12 13:26:42.295 +07:00 [DBG] Attempting to validate the bound parameter 'pointofinterestId' of type 'System.Int32' ...
2023-05-12 13:26:42.297 +07:00 [DBG] Done attempting to validate the bound parameter 'pointofinterestId' of type 'System.Int32'.
2023-05-12 13:26:42.351 +07:00 [INF] Entity Framework Core 6.0.16 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.16' with options: None
2023-05-12 13:26:42.355 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 13:26:42.356 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-12 13:26:42.358 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 13:26:42.360 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 13:26:42.363 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 13:26:42.369 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 13:26:42.373 +07:00 [DBG] A data reader was disposed.
2023-05-12 13:26:42.375 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 13:26:42.377 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 13:26:42.379 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 13:26:42.383 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-05-12 13:26:42.387 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 13:26:42.390 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 13:26:42.394 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointofinterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointofinterestId_1)
LIMIT 1
2023-05-12 13:26:42.402 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointofinterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointofinterestId_1)
LIMIT 1
2023-05-12 13:26:42.409 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 13:26:42.417 +07:00 [DBG] A data reader was disposed.
2023-05-12 13:26:42.420 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 13:26:42.427 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 13:26:42.433 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-05-12 13:26:42.444 +07:00 [DBG] No information found on request to perform content negotiation.
2023-05-12 13:26:42.447 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-05-12 13:26:42.450 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-05-12 13:26:42.453 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-05-12 13:26:42.461 +07:00 [INF] Executing OkObjectResult, writing value of type 'APIDemo.Models.PointOfInterestDTO'.
2023-05-12 13:26:42.467 +07:00 [INF] Executed action APIDemo.Controllers.PointOfInterestController.GetPointOfInterestsById (APIDemo) in 200.5922ms
2023-05-12 13:26:42.469 +07:00 [INF] Executed endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterestsById (APIDemo)'
2023-05-12 13:26:42.471 +07:00 [DBG] Connection id "0HMQIM7863NIU" completed keep alive response.
2023-05-12 13:26:42.475 +07:00 [DBG] 'CityInfoContext' disposed.
2023-05-12 13:26:42.480 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7269/api/cities/1/pointsofinterest/1 - - - 200 116 application/json;+charset=utf-8 253.0581ms
2023-05-12 13:26:47.716 +07:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7269/api/cities/1/pointsofinterest/1 application/json 128
2023-05-12 13:26:47.717 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2023-05-12 13:26:47.719 +07:00 [DBG] Endpoint 'APIDemo.Controllers.PointOfInterestController.UpdatePointOfInterest (APIDemo)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointofinterestId}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2023-05-12 13:26:47.722 +07:00 [DBG] Request matched endpoint 'APIDemo.Controllers.PointOfInterestController.UpdatePointOfInterest (APIDemo)'
2023-05-12 13:26:47.724 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-12 13:26:47.725 +07:00 [INF] Executing endpoint 'APIDemo.Controllers.PointOfInterestController.UpdatePointOfInterest (APIDemo)'
2023-05-12 13:26:47.729 +07:00 [INF] Route matched with {action = "UpdatePointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdatePointOfInterest(Int32, Int32, APIDemo.Models.PointOfInterestUpdateDTO) on controller APIDemo.Controllers.PointOfInterestController (APIDemo).
2023-05-12 13:26:47.733 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-12 13:26:47.736 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-12 13:26:47.738 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-12 13:26:47.744 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-12 13:26:47.746 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-12 13:26:47.749 +07:00 [DBG] Executing controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 13:26:47.751 +07:00 [DBG] Executed controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-12 13:26:47.754 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-05-12 13:26:47.758 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-05-12 13:26:47.761 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 13:26:47.763 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-12 13:26:47.765 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-05-12 13:26:47.768 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-05-12 13:26:47.769 +07:00 [DBG] Attempting to bind parameter 'pointofinterestId' of type 'System.Int32' ...
2023-05-12 13:26:47.773 +07:00 [DBG] Attempting to bind parameter 'pointofinterestId' of type 'System.Int32' using the name 'pointofinterestId' in request data ...
2023-05-12 13:26:47.776 +07:00 [DBG] Done attempting to bind parameter 'pointofinterestId' of type 'System.Int32'.
2023-05-12 13:26:47.778 +07:00 [DBG] Done attempting to bind parameter 'pointofinterestId' of type 'System.Int32'.
2023-05-12 13:26:47.780 +07:00 [DBG] Attempting to validate the bound parameter 'pointofinterestId' of type 'System.Int32' ...
2023-05-12 13:26:47.782 +07:00 [DBG] Done attempting to validate the bound parameter 'pointofinterestId' of type 'System.Int32'.
2023-05-12 13:26:47.785 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestUpdateDTO' ...
2023-05-12 13:26:47.786 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestUpdateDTO' using the name '' in request data ...
2023-05-12 13:26:47.790 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-05-12 13:26:47.792 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-05-12 13:26:47.794 +07:00 [DBG] Connection id "0HMQIM7863NIU", Request id "0HMQIM7863NIU:00000005": started reading request body.
2023-05-12 13:26:47.795 +07:00 [DBG] Connection id "0HMQIM7863NIU", Request id "0HMQIM7863NIU:00000005": done reading request body.
2023-05-12 13:26:47.797 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestUpdateDTO'.
2023-05-12 13:26:47.799 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestUpdateDTO'.
2023-05-12 13:26:47.801 +07:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestUpdateDTO' ...
2023-05-12 13:26:47.806 +07:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestUpdateDTO'.
2023-05-12 13:26:47.808 +07:00 [INF] Entity Framework Core 6.0.16 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.16' with options: None
2023-05-12 13:26:47.811 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 13:26:47.813 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-12 13:26:47.815 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 13:26:47.817 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 13:26:47.822 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 13:26:47.825 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-12 13:26:47.828 +07:00 [DBG] A data reader was disposed.
2023-05-12 13:26:47.830 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 13:26:47.833 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 13:26:47.838 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-12 13:26:47.839 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-12 13:26:47.841 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-12 13:26:47.843 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 13:26:47.845 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointofinterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointofinterestId_1)
LIMIT 1
2023-05-12 13:26:47.848 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointofinterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointofinterestId_1)
LIMIT 1
2023-05-12 13:26:47.855 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-12 13:26:47.857 +07:00 [DBG] A data reader was disposed.
2023-05-12 13:26:47.858 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-12 13:26:47.860 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-12 13:26:47.862 +07:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2023-05-12 13:26:47.863 +07:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2023-05-12 13:26:47.865 +07:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2023-05-12 13:26:47.869 +07:00 [DBG] SaveChanges completed for 'CityInfoContext' with 0 entities written to the database.
2023-05-12 13:26:47.871 +07:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2023-05-12 13:26:47.873 +07:00 [INF] Executed action APIDemo.Controllers.PointOfInterestController.UpdatePointOfInterest (APIDemo) in 124.127ms
2023-05-12 13:26:47.875 +07:00 [INF] Executed endpoint 'APIDemo.Controllers.PointOfInterestController.UpdatePointOfInterest (APIDemo)'
2023-05-12 13:26:47.877 +07:00 [DBG] Connection id "0HMQIM7863NIU" completed keep alive response.
2023-05-12 13:26:47.879 +07:00 [DBG] 'CityInfoContext' disposed.
2023-05-12 13:26:47.881 +07:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7269/api/cities/1/pointsofinterest/1 application/json 128 - 204 - - 165.4242ms
