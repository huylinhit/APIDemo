2023-05-19 00:04:28.173 +07:00 [DBG] Connection id "0HMQNO4MS79GN" received FIN.
2023-05-19 00:04:28.265 +07:00 [DBG] Connection id "0HMQNO4MS79GN" disconnecting.
2023-05-19 00:04:28.299 +07:00 [DBG] Connection id "0HMQNO4MS79GN" sending FIN because: "The client closed the connection."
2023-05-19 00:04:28.313 +07:00 [DBG] Connection id "0HMQNO4MS79GN" stopped.
2023-05-19 05:55:29.225 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-05-19 05:55:29.348 +07:00 [DBG] Hosting starting
2023-05-19 05:55:29.384 +07:00 [INF] User profile is available. Using 'C:\Users\Nguyen Huy Linh\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-05-19 05:55:29.392 +07:00 [DBG] Reading data from file 'C:\Users\Nguyen Huy Linh\AppData\Local\ASP.NET\DataProtection-Keys\key-7505044c-b74a-4d7d-8928-0e7c1b1e8a86.xml'.
2023-05-19 05:55:29.416 +07:00 [DBG] Found key {7505044c-b74a-4d7d-8928-0e7c1b1e8a86}.
2023-05-19 05:55:29.444 +07:00 [DBG] Considering key {7505044c-b74a-4d7d-8928-0e7c1b1e8a86} with expiration date 2023-07-20 00:27:35Z as default key.
2023-05-19 05:55:29.481 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-19 05:55:29.490 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-05-19 05:55:29.493 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-19 05:55:29.502 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-05-19 05:55:29.506 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-05-19 05:55:29.511 +07:00 [DBG] Using key {7505044c-b74a-4d7d-8928-0e7c1b1e8a86} as the default key.
2023-05-19 05:55:29.512 +07:00 [DBG] Key ring with default key {7505044c-b74a-4d7d-8928-0e7c1b1e8a86} was loaded during application startup.
2023-05-19 05:55:29.759 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 75D11A6361D7470A96C9C9E8EC2F301CE14CF8DD)
2023-05-19 05:55:29.793 +07:00 [INF] Now listening on: https://localhost:7269
2023-05-19 05:55:29.794 +07:00 [INF] Now listening on: http://localhost:5078
2023-05-19 05:55:29.795 +07:00 [DBG] Loaded hosting startup assembly APIDemo
2023-05-19 05:55:29.796 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-05-19 05:55:29.797 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-05-19 05:55:29.798 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-19 05:55:29.799 +07:00 [INF] Hosting environment: Development
2023-05-19 05:55:29.800 +07:00 [INF] Content root path: C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\
2023-05-19 05:55:29.800 +07:00 [DBG] Hosting started
2023-05-19 05:55:29.990 +07:00 [DBG] Connection id "0HMQNUBT8BC6M" accepted.
2023-05-19 05:55:29.990 +07:00 [DBG] Connection id "0HMQNUBT8BC6L" accepted.
2023-05-19 05:55:29.994 +07:00 [DBG] Connection id "0HMQNUBT8BC6M" started.
2023-05-19 05:55:29.994 +07:00 [DBG] Connection id "0HMQNUBT8BC6L" started.
2023-05-19 05:55:30.420 +07:00 [DBG] Connection id "0HMQNUBT8BC6N" accepted.
2023-05-19 05:55:30.443 +07:00 [DBG] Connection id "0HMQNUBT8BC6N" started.
2023-05-19 05:55:30.524 +07:00 [DBG] Connection 0HMQNUBT8BC6N established using the following protocol: "Tls12"
2023-05-19 05:55:30.592 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/index.html - -
2023-05-19 05:55:30.636 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-05-19 05:55:30.666 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-05-19 05:55:30.667 +07:00 [DBG] Request did not match any endpoints
2023-05-19 05:55:30.823 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-05-19 05:55:31.075 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - -
2023-05-19 05:55:31.075 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_vs/browserLink - -
2023-05-19 05:55:31.099 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-05-19 05:55:31.099 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 24.2128ms
2023-05-19 05:55:31.104 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/index.html - - - 200 - text/html;charset=utf-8 520.1033ms
2023-05-19 05:55:31.146 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 71.7362ms
2023-05-19 05:55:31.215 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - -
2023-05-19 05:55:31.216 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-05-19 05:55:31.218 +07:00 [DBG] Request did not match any endpoints
2023-05-19 05:55:31.240 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/favicon-32x32.png - -
2023-05-19 05:55:31.241 +07:00 [DBG] No candidates found for the request path '/swagger/favicon-32x32.png'
2023-05-19 05:55:31.243 +07:00 [DBG] Request did not match any endpoints
2023-05-19 05:55:31.257 +07:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2023-05-19 05:55:31.258 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/favicon-32x32.png - - - 200 628 image/png 18.0707ms
2023-05-19 05:55:31.409 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 193.5540ms
2023-05-19 05:55:40.022 +07:00 [DBG] Authentication of the HTTPS connection timed out.
2023-05-19 05:55:40.022 +07:00 [DBG] Authentication of the HTTPS connection timed out.
2023-05-19 05:55:40.029 +07:00 [DBG] Connection id "0HMQNUBT8BC6M" stopped.
2023-05-19 05:55:40.029 +07:00 [DBG] Connection id "0HMQNUBT8BC6L" stopped.
2023-05-19 05:55:40.031 +07:00 [DBG] Connection id "0HMQNUBT8BC6M" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-19 05:55:40.031 +07:00 [DBG] Connection id "0HMQNUBT8BC6L" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-19 05:55:51.389 +07:00 [DBG] Connection id "0HMQNUBT8BC6O" accepted.
2023-05-19 05:55:51.390 +07:00 [DBG] Connection id "0HMQNUBT8BC6O" received FIN.
2023-05-19 05:55:51.391 +07:00 [DBG] Connection id "0HMQNUBT8BC6O" started.
2023-05-19 05:55:51.395 +07:00 [DBG] Connection id "0HMQNUBT8BC6P" accepted.
2023-05-19 05:55:51.398 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-19 05:55:51.398 +07:00 [DBG] Connection id "0HMQNUBT8BC6P" started.
2023-05-19 05:55:51.442 +07:00 [DBG] Connection id "0HMQNUBT8BC6O" stopped.
2023-05-19 05:55:51.448 +07:00 [DBG] Connection id "0HMQNUBT8BC6O" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-19 05:55:51.451 +07:00 [DBG] Connection 0HMQNUBT8BC6P established using the following protocol: "Tls12"
2023-05-19 05:55:51.464 +07:00 [INF] Request starting HTTP/1.1 POST https://localhost:7269/api/authentication/authenticate application/json 114
2023-05-19 05:55:51.475 +07:00 [DBG] 1 candidate(s) found for the request path '/api/authentication/authenticate'
2023-05-19 05:55:51.481 +07:00 [DBG] Endpoint 'APIDemo.Controllers.AuthenticationController.Authentication (APIDemo)' with route pattern 'api/authentication/authenticate' is valid for the request path '/api/authentication/authenticate'
2023-05-19 05:55:51.484 +07:00 [DBG] Request matched endpoint 'APIDemo.Controllers.AuthenticationController.Authentication (APIDemo)'
2023-05-19 05:55:51.488 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-19 05:55:51.581 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-05-19 05:55:51.588 +07:00 [INF] Executing endpoint 'APIDemo.Controllers.AuthenticationController.Authentication (APIDemo)'
2023-05-19 05:55:51.618 +07:00 [INF] Route matched with {action = "Authentication", controller = "Authentication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Authentication(AuthenticationRequestBody) on controller APIDemo.Controllers.AuthenticationController (APIDemo).
2023-05-19 05:55:51.625 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-19 05:55:51.628 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-19 05:55:51.631 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-19 05:55:51.637 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-19 05:55:51.641 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-19 05:55:51.647 +07:00 [DBG] Executing controller factory for controller APIDemo.Controllers.AuthenticationController (APIDemo)
2023-05-19 05:55:51.653 +07:00 [DBG] Executed controller factory for controller APIDemo.Controllers.AuthenticationController (APIDemo)
2023-05-19 05:55:51.662 +07:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'APIDemo.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2023-05-19 05:55:51.669 +07:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'APIDemo.Controllers.AuthenticationController+AuthenticationRequestBody' using the name '' in request data ...
2023-05-19 05:55:51.674 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-05-19 05:55:51.679 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-05-19 05:55:51.695 +07:00 [DBG] Connection id "0HMQNUBT8BC6P", Request id "0HMQNUBT8BC6P:00000002": started reading request body.
2023-05-19 05:55:51.700 +07:00 [DBG] Connection id "0HMQNUBT8BC6P", Request id "0HMQNUBT8BC6P:00000002": done reading request body.
2023-05-19 05:55:51.880 +07:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'APIDemo.Controllers.AuthenticationController+AuthenticationRequestBody'.
2023-05-19 05:55:51.883 +07:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'APIDemo.Controllers.AuthenticationController+AuthenticationRequestBody'.
2023-05-19 05:55:51.885 +07:00 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'APIDemo.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2023-05-19 05:55:51.896 +07:00 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'APIDemo.Controllers.AuthenticationController+AuthenticationRequestBody'.
2023-05-19 05:55:52.048 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-05-19 05:55:52.055 +07:00 [DBG] No information found on request to perform content negotiation.
2023-05-19 05:55:52.057 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-05-19 05:55:52.058 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-05-19 05:55:52.060 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-05-19 05:55:52.062 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-05-19 05:55:52.071 +07:00 [INF] Executed action APIDemo.Controllers.AuthenticationController.Authentication (APIDemo) in 418.8715ms
2023-05-19 05:55:52.074 +07:00 [INF] Executed endpoint 'APIDemo.Controllers.AuthenticationController.Authentication (APIDemo)'
2023-05-19 05:55:52.075 +07:00 [DBG] Connection id "0HMQNUBT8BC6P" completed keep alive response.
2023-05-19 05:55:52.076 +07:00 [INF] Request finished HTTP/1.1 POST https://localhost:7269/api/authentication/authenticate application/json 114 - 200 - text/plain;+charset=utf-8 612.7384ms
2023-05-19 05:55:57.016 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7269/api/cities - -
2023-05-19 05:55:57.018 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-05-19 05:55:57.019 +07:00 [DBG] Endpoint 'APIDemo.Controllers.CitiesController.GetCities (APIDemo)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-05-19 05:55:57.021 +07:00 [DBG] Request matched endpoint 'APIDemo.Controllers.CitiesController.GetCities (APIDemo)'
2023-05-19 05:55:57.022 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-19 05:55:57.108 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/18/2023 5:16:19 PM', Current time (UTC): '5/18/2023 10:55:57 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-05-19 05:55:57.119 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/18/2023 5:16:19 PM', Current time (UTC): '5/18/2023 10:55:57 PM'.
2023-05-19 05:55:57.127 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
ClaimsAuthorizationRequirement:Claim.Type=city and Claim.Value is one of the following values: (Ha Noi)
2023-05-19 05:55:57.139 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-05-19 05:55:57.141 +07:00 [DBG] Connection id "0HMQNUBT8BC6P" completed keep alive response.
2023-05-19 05:55:57.143 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7269/api/cities - - - 401 0 - 126.9078ms
2023-05-19 05:56:06.860 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7269/api/cities - -
2023-05-19 05:56:06.861 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-05-19 05:56:06.863 +07:00 [DBG] Endpoint 'APIDemo.Controllers.CitiesController.GetCities (APIDemo)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-05-19 05:56:06.865 +07:00 [DBG] Request matched endpoint 'APIDemo.Controllers.CitiesController.GetCities (APIDemo)'
2023-05-19 05:56:06.866 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-19 05:56:06.869 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-05-19 05:56:06.870 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
ClaimsAuthorizationRequirement:Claim.Type=city and Claim.Value is one of the following values: (Ha Noi)
2023-05-19 05:56:06.872 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-05-19 05:56:06.873 +07:00 [DBG] Connection id "0HMQNUBT8BC6P" completed keep alive response.
2023-05-19 05:56:06.875 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7269/api/cities - - - 401 0 - 15.0441ms
2023-05-19 05:56:08.999 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7269/api/cities - -
2023-05-19 05:56:09.000 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-05-19 05:56:09.002 +07:00 [DBG] Endpoint 'APIDemo.Controllers.CitiesController.GetCities (APIDemo)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-05-19 05:56:09.004 +07:00 [DBG] Request matched endpoint 'APIDemo.Controllers.CitiesController.GetCities (APIDemo)'
2023-05-19 05:56:09.005 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-19 05:56:09.027 +07:00 [DBG] Successfully validated the token.
2023-05-19 05:56:09.029 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-05-19 05:56:09.032 +07:00 [DBG] Authorization was successful.
2023-05-19 05:56:09.033 +07:00 [INF] Executing endpoint 'APIDemo.Controllers.CitiesController.GetCities (APIDemo)'
2023-05-19 05:56:09.045 +07:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[APIDemo.Models.CityDTO]]] GetCities(System.String, System.String, Int32, Int32) on controller APIDemo.Controllers.CitiesController (APIDemo).
2023-05-19 05:56:09.048 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-19 05:56:09.050 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-19 05:56:09.052 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-19 05:56:09.054 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-19 05:56:09.056 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-19 05:56:09.059 +07:00 [DBG] Executing controller factory for controller APIDemo.Controllers.CitiesController (APIDemo)
2023-05-19 05:56:09.229 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-05-19 05:56:09.446 +07:00 [DBG] Executed controller factory for controller APIDemo.Controllers.CitiesController (APIDemo)
2023-05-19 05:56:09.448 +07:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-05-19 05:56:09.450 +07:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2023-05-19 05:56:09.452 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2023-05-19 05:56:09.455 +07:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-05-19 05:56:09.456 +07:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-05-19 05:56:09.458 +07:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-05-19 05:56:09.460 +07:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-05-19 05:56:09.462 +07:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-05-19 05:56:09.463 +07:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2023-05-19 05:56:09.465 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2023-05-19 05:56:09.467 +07:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-05-19 05:56:09.469 +07:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-05-19 05:56:09.470 +07:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-05-19 05:56:09.472 +07:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-05-19 05:56:09.474 +07:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-05-19 05:56:09.478 +07:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name '' in request data ...
2023-05-19 05:56:09.484 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Int32'.
2023-05-19 05:56:09.491 +07:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-05-19 05:56:09.495 +07:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-05-19 05:56:09.502 +07:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-05-19 05:56:09.508 +07:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-05-19 05:56:09.513 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-05-19 05:56:09.519 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name '' in request data ...
2023-05-19 05:56:09.525 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Int32'.
2023-05-19 05:56:09.532 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-05-19 05:56:09.539 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-05-19 05:56:09.544 +07:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-05-19 05:56:09.549 +07:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-05-19 05:56:10.644 +07:00 [INF] Entity Framework Core 6.0.16 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.16' with options: None
2023-05-19 05:56:10.694 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Count()'
2023-05-19 05:56:11.012 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<int>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT COUNT(*)
        FROM Cities AS c), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
    APIDemo.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)
    .Single()'
2023-05-19 05:56:11.065 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-19 05:56:11.155 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (86ms).
2023-05-19 05:56:11.166 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-19 05:56:11.195 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-19 05:56:11.210 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2023-05-19 05:56:11.243 +07:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2023-05-19 05:56:11.254 +07:00 [DBG] A data reader was disposed.
2023-05-19 05:56:11.261 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-19 05:56:11.272 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-19 05:56:11.296 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)
    .Skip(__p_0)
    .Take(__p_1)'
2023-05-19 05:56:11.385 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(50), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    APIDemo.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-05-19 05:56:11.412 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-19 05:56:11.414 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-05-19 05:56:11.429 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-19 05:56:11.436 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-19 05:56:11.452 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2023-05-19 05:56:11.468 +07:00 [INF] Executed DbCommand (25ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2023-05-19 05:56:11.498 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-19 05:56:11.527 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-19 05:56:11.532 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-19 05:56:11.543 +07:00 [DBG] A data reader was disposed.
2023-05-19 05:56:11.551 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-19 05:56:11.559 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-19 05:56:11.625 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-05-19 05:56:11.634 +07:00 [DBG] No information found on request to perform content negotiation.
2023-05-19 05:56:11.636 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-05-19 05:56:11.640 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-05-19 05:56:11.642 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-05-19 05:56:11.645 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[APIDemo.Models.CityWithoutPointOfInterestDTO, APIDemo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-05-19 05:56:11.683 +07:00 [INF] Executed action APIDemo.Controllers.CitiesController.GetCities (APIDemo) in 2624.1609ms
2023-05-19 05:56:11.687 +07:00 [INF] Executed endpoint 'APIDemo.Controllers.CitiesController.GetCities (APIDemo)'
2023-05-19 05:56:11.691 +07:00 [DBG] Connection id "0HMQNUBT8BC6P" completed keep alive response.
2023-05-19 05:56:11.710 +07:00 [DBG] 'CityInfoContext' disposed.
2023-05-19 05:56:11.719 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7269/api/cities - - - 200 153 application/json;+charset=utf-8 2719.7609ms
2023-05-19 05:56:22.177 +07:00 [INF] Request starting HTTP/1.1 POST https://localhost:7269/api/cities/3/pointsofinterest application/json 117
2023-05-19 05:56:22.179 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest'
2023-05-19 05:56:22.182 +07:00 [DBG] Endpoint 'APIDemo.Controllers.PointOfInterestController.CreatePointOfInterest (APIDemo)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/3/pointsofinterest'
2023-05-19 05:56:22.184 +07:00 [DBG] Request matched endpoint 'APIDemo.Controllers.PointOfInterestController.CreatePointOfInterest (APIDemo)'
2023-05-19 05:56:22.185 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-19 05:56:22.187 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-05-19 05:56:22.188 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
ClaimsAuthorizationRequirement:Claim.Type=city and Claim.Value is one of the following values: (Ha Noi)
2023-05-19 05:56:22.190 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-05-19 05:56:22.191 +07:00 [DBG] Connection id "0HMQNUBT8BC6P" completed keep alive response.
2023-05-19 05:56:22.192 +07:00 [INF] Request finished HTTP/1.1 POST https://localhost:7269/api/cities/3/pointsofinterest application/json 117 - 401 0 - 15.2509ms
2023-05-19 05:56:22.194 +07:00 [DBG] Connection id "0HMQNUBT8BC6P", Request id "0HMQNUBT8BC6P:00000006": started reading request body.
2023-05-19 05:56:22.196 +07:00 [DBG] Connection id "0HMQNUBT8BC6P", Request id "0HMQNUBT8BC6P:00000006": done reading request body.
2023-05-19 05:56:32.653 +07:00 [INF] Request starting HTTP/1.1 POST https://localhost:7269/api/cities/3/pointsofinterest application/json 117
2023-05-19 05:56:32.654 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest'
2023-05-19 05:56:32.656 +07:00 [DBG] Endpoint 'APIDemo.Controllers.PointOfInterestController.CreatePointOfInterest (APIDemo)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/3/pointsofinterest'
2023-05-19 05:56:32.659 +07:00 [DBG] Request matched endpoint 'APIDemo.Controllers.PointOfInterestController.CreatePointOfInterest (APIDemo)'
2023-05-19 05:56:32.660 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-19 05:56:32.662 +07:00 [DBG] Successfully validated the token.
2023-05-19 05:56:32.663 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-05-19 05:56:32.665 +07:00 [DBG] Authorization was successful.
2023-05-19 05:56:32.665 +07:00 [INF] Executing endpoint 'APIDemo.Controllers.PointOfInterestController.CreatePointOfInterest (APIDemo)'
2023-05-19 05:56:32.670 +07:00 [INF] Route matched with {action = "CreatePointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[APIDemo.Models.PointOfInterestDTO]] CreatePointOfInterest(Int32, APIDemo.Models.PointOfInterestCreationDTO) on controller APIDemo.Controllers.PointOfInterestController (APIDemo).
2023-05-19 05:56:32.673 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-19 05:56:32.675 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-19 05:56:32.678 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-19 05:56:32.681 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-19 05:56:32.684 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-19 05:56:32.687 +07:00 [DBG] Executing controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-19 05:56:32.696 +07:00 [DBG] Executed controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-19 05:56:32.702 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-05-19 05:56:32.704 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-05-19 05:56:32.706 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-19 05:56:32.708 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-19 05:56:32.710 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-05-19 05:56:32.712 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-05-19 05:56:32.713 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO' ...
2023-05-19 05:56:32.715 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO' using the name '' in request data ...
2023-05-19 05:56:32.717 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-05-19 05:56:32.718 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-05-19 05:56:32.720 +07:00 [DBG] Connection id "0HMQNUBT8BC6P", Request id "0HMQNUBT8BC6P:00000007": started reading request body.
2023-05-19 05:56:32.721 +07:00 [DBG] Connection id "0HMQNUBT8BC6P", Request id "0HMQNUBT8BC6P:00000007": done reading request body.
2023-05-19 05:56:32.724 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO'.
2023-05-19 05:56:32.726 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO'.
2023-05-19 05:56:32.727 +07:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO' ...
2023-05-19 05:56:32.730 +07:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'APIDemo.Models.PointOfInterestCreationDTO'.
2023-05-19 05:56:32.742 +07:00 [INF] Entity Framework Core 6.0.16 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.16' with options: None
2023-05-19 05:56:32.747 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(item => item.Id == __cityId_0)'
2023-05-19 05:56:32.783 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        APIDemo.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-19 05:56:32.805 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-19 05:56:32.809 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2023-05-19 05:56:32.812 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-19 05:56:32.817 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-19 05:56:32.822 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-19 05:56:32.829 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-19 05:56:32.838 +07:00 [DBG] A data reader was disposed.
2023-05-19 05:56:32.841 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-19 05:56:32.846 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-19 05:56:32.857 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(item => item.Id == __cityId_0)
    .FirstOrDefault()'
2023-05-19 05:56:32.870 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(50), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        APIDemo.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-19 05:56:32.878 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-19 05:56:32.880 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-05-19 05:56:32.885 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-19 05:56:32.890 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-19 05:56:32.895 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-05-19 05:56:32.903 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-05-19 05:56:32.913 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-19 05:56:32.918 +07:00 [DBG] A data reader was disposed.
2023-05-19 05:56:32.921 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-19 05:56:32.926 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-19 05:56:32.937 +07:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2023-05-19 05:56:32.945 +07:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2023-05-19 05:56:32.973 +07:00 [DBG] 1 entities were added and 0 entities were removed from navigation 'City.PointOfInterests'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-19 05:56:33.010 +07:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'Id.PointOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-19 05:56:33.046 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-19 05:56:33.056 +07:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2023-05-19 05:56:33.087 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-19 05:56:33.089 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-19 05:56:33.093 +07:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-05-19 05:56:33.100 +07:00 [DBG] Began transaction with isolation level 'Serializable'.
2023-05-19 05:56:33.171 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-19 05:56:33.172 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-19 05:56:33.176 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 62), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointOfInterests" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "PointOfInterests"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2023-05-19 05:56:33.182 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 62), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointOfInterests" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "PointOfInterests"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2023-05-19 05:56:33.210 +07:00 [DBG] The foreign key property 'PointOfInterest.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-05-19 05:56:33.220 +07:00 [DBG] A data reader was disposed.
2023-05-19 05:56:33.233 +07:00 [DBG] Committing transaction.
2023-05-19 05:56:33.254 +07:00 [DBG] Committed transaction.
2023-05-19 05:56:33.263 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-19 05:56:33.268 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-19 05:56:33.279 +07:00 [DBG] Disposing transaction.
2023-05-19 05:56:33.292 +07:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-19 05:56:33.300 +07:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2023-05-19 05:56:33.308 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-05-19 05:56:33.316 +07:00 [DBG] No information found on request to perform content negotiation.
2023-05-19 05:56:33.319 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-05-19 05:56:33.322 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-05-19 05:56:33.325 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-05-19 05:56:33.329 +07:00 [INF] Executing CreatedAtRouteResult, writing value of type 'APIDemo.Models.PointOfInterestDTO'.
2023-05-19 05:56:33.350 +07:00 [DBG] Found the endpoints ["APIDemo.Controllers.PointOfInterestController.GetPointOfInterestsById (APIDemo)"] for address Microsoft.AspNetCore.Routing.RouteValuesAddress
2023-05-19 05:56:33.369 +07:00 [DBG] Successfully processed template api/cities/{cityId}/pointsofinterest/{pointofinterestId} for APIDemo.Controllers.PointOfInterestController.GetPointOfInterestsById (APIDemo) resulting in /api/cities/3/pointsofinterest/11 and 
2023-05-19 05:56:33.375 +07:00 [DBG] Link generation succeeded for endpoints ["APIDemo.Controllers.PointOfInterestController.GetPointOfInterestsById (APIDemo)"] with result /api/cities/3/pointsofinterest/11
2023-05-19 05:56:33.380 +07:00 [INF] Executed action APIDemo.Controllers.PointOfInterestController.CreatePointOfInterest (APIDemo) in 693.7824ms
2023-05-19 05:56:33.383 +07:00 [INF] Executed endpoint 'APIDemo.Controllers.PointOfInterestController.CreatePointOfInterest (APIDemo)'
2023-05-19 05:56:33.385 +07:00 [DBG] Connection id "0HMQNUBT8BC6P" completed keep alive response.
2023-05-19 05:56:33.389 +07:00 [DBG] 'CityInfoContext' disposed.
2023-05-19 05:56:33.390 +07:00 [INF] Request finished HTTP/1.1 POST https://localhost:7269/api/cities/3/pointsofinterest application/json 117 - 201 112 application/json;+charset=utf-8 737.4156ms
2023-05-19 05:57:00.742 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-05-19 05:57:00.853 +07:00 [DBG] Hosting starting
2023-05-19 05:57:00.875 +07:00 [INF] User profile is available. Using 'C:\Users\Nguyen Huy Linh\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-05-19 05:57:00.882 +07:00 [DBG] Reading data from file 'C:\Users\Nguyen Huy Linh\AppData\Local\ASP.NET\DataProtection-Keys\key-7505044c-b74a-4d7d-8928-0e7c1b1e8a86.xml'.
2023-05-19 05:57:00.895 +07:00 [DBG] Found key {7505044c-b74a-4d7d-8928-0e7c1b1e8a86}.
2023-05-19 05:57:00.911 +07:00 [DBG] Considering key {7505044c-b74a-4d7d-8928-0e7c1b1e8a86} with expiration date 2023-07-20 00:27:35Z as default key.
2023-05-19 05:57:00.917 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-19 05:57:00.925 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-05-19 05:57:00.929 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-19 05:57:00.937 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-05-19 05:57:00.943 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-05-19 05:57:00.951 +07:00 [DBG] Using key {7505044c-b74a-4d7d-8928-0e7c1b1e8a86} as the default key.
2023-05-19 05:57:00.955 +07:00 [DBG] Key ring with default key {7505044c-b74a-4d7d-8928-0e7c1b1e8a86} was loaded during application startup.
2023-05-19 05:57:01.093 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 75D11A6361D7470A96C9C9E8EC2F301CE14CF8DD)
2023-05-19 05:57:01.139 +07:00 [INF] Now listening on: https://localhost:7269
2023-05-19 05:57:01.140 +07:00 [INF] Now listening on: http://localhost:5078
2023-05-19 05:57:01.142 +07:00 [DBG] Loaded hosting startup assembly APIDemo
2023-05-19 05:57:01.143 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-05-19 05:57:01.145 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-05-19 05:57:01.148 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-19 05:57:01.150 +07:00 [INF] Hosting environment: Development
2023-05-19 05:57:01.155 +07:00 [INF] Content root path: C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\
2023-05-19 05:57:01.158 +07:00 [DBG] Hosting started
2023-05-19 05:57:01.317 +07:00 [DBG] Connection id "0HMQNUCOFCGSQ" received FIN.
2023-05-19 05:57:01.330 +07:00 [DBG] Connection id "0HMQNUCOFCGSQ" accepted.
2023-05-19 05:57:01.333 +07:00 [DBG] Connection id "0HMQNUCOFCGSQ" started.
2023-05-19 05:57:01.348 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-19 05:57:01.386 +07:00 [DBG] Connection id "0HMQNUCOFCGSQ" stopped.
2023-05-19 05:57:01.393 +07:00 [DBG] Connection id "0HMQNUCOFCGSQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-19 05:57:01.569 +07:00 [DBG] Connection id "0HMQNUCOFCGSR" accepted.
2023-05-19 05:57:01.571 +07:00 [DBG] Connection id "0HMQNUCOFCGSR" started.
2023-05-19 05:57:01.624 +07:00 [DBG] Connection 0HMQNUCOFCGSR established using the following protocol: "Tls12"
2023-05-19 05:57:01.674 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/index.html - -
2023-05-19 05:57:01.709 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-05-19 05:57:01.737 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-05-19 05:57:01.740 +07:00 [DBG] Request did not match any endpoints
2023-05-19 05:57:01.853 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-05-19 05:57:02.017 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - -
2023-05-19 05:57:02.017 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_vs/browserLink - -
2023-05-19 05:57:02.022 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-05-19 05:57:02.031 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 12.8205ms
2023-05-19 05:57:02.031 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/index.html - - - 200 - text/html;charset=utf-8 360.4695ms
2023-05-19 05:57:02.043 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 25.5562ms
2023-05-19 05:57:02.136 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - -
2023-05-19 05:57:02.137 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-05-19 05:57:02.139 +07:00 [DBG] Request did not match any endpoints
2023-05-19 05:57:02.311 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 175.3548ms
2023-05-19 05:57:08.583 +07:00 [DBG] Connection id "0HMQNUCOFCGSS" accepted.
2023-05-19 05:57:08.584 +07:00 [DBG] Connection id "0HMQNUCOFCGSS" started.
2023-05-19 05:57:08.585 +07:00 [DBG] Connection id "0HMQNUCOFCGSS" received FIN.
2023-05-19 05:57:08.585 +07:00 [DBG] Connection id "0HMQNUCOFCGST" accepted.
2023-05-19 05:57:08.589 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-19 05:57:08.591 +07:00 [DBG] Connection id "0HMQNUCOFCGST" started.
2023-05-19 05:57:08.595 +07:00 [DBG] Connection id "0HMQNUCOFCGSS" stopped.
2023-05-19 05:57:08.597 +07:00 [DBG] Connection id "0HMQNUCOFCGSS" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-19 05:57:08.600 +07:00 [DBG] Connection 0HMQNUCOFCGST established using the following protocol: "Tls12"
2023-05-19 05:57:08.611 +07:00 [INF] Request starting HTTP/1.1 POST https://localhost:7269/api/authentication/authenticate application/json 114
2023-05-19 05:57:08.622 +07:00 [DBG] 1 candidate(s) found for the request path '/api/authentication/authenticate'
2023-05-19 05:57:08.627 +07:00 [DBG] Endpoint 'APIDemo.Controllers.AuthenticationController.Authentication (APIDemo)' with route pattern 'api/authentication/authenticate' is valid for the request path '/api/authentication/authenticate'
2023-05-19 05:57:08.630 +07:00 [DBG] Request matched endpoint 'APIDemo.Controllers.AuthenticationController.Authentication (APIDemo)'
2023-05-19 05:57:08.633 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-19 05:57:08.700 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-05-19 05:57:08.704 +07:00 [INF] Executing endpoint 'APIDemo.Controllers.AuthenticationController.Authentication (APIDemo)'
2023-05-19 05:57:08.726 +07:00 [INF] Route matched with {action = "Authentication", controller = "Authentication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Authentication(AuthenticationRequestBody) on controller APIDemo.Controllers.AuthenticationController (APIDemo).
2023-05-19 05:57:08.729 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-19 05:57:08.731 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-19 05:57:08.733 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-19 05:57:08.736 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-19 05:57:08.738 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-19 05:57:08.741 +07:00 [DBG] Executing controller factory for controller APIDemo.Controllers.AuthenticationController (APIDemo)
2023-05-19 05:57:08.743 +07:00 [DBG] Executed controller factory for controller APIDemo.Controllers.AuthenticationController (APIDemo)
2023-05-19 05:57:08.749 +07:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'APIDemo.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2023-05-19 05:57:08.754 +07:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'APIDemo.Controllers.AuthenticationController+AuthenticationRequestBody' using the name '' in request data ...
2023-05-19 05:57:08.756 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-05-19 05:57:08.758 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-05-19 05:57:08.770 +07:00 [DBG] Connection id "0HMQNUCOFCGST", Request id "0HMQNUCOFCGST:00000002": started reading request body.
2023-05-19 05:57:08.772 +07:00 [DBG] Connection id "0HMQNUCOFCGST", Request id "0HMQNUCOFCGST:00000002": done reading request body.
2023-05-19 05:57:08.920 +07:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'APIDemo.Controllers.AuthenticationController+AuthenticationRequestBody'.
2023-05-19 05:57:08.923 +07:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'APIDemo.Controllers.AuthenticationController+AuthenticationRequestBody'.
2023-05-19 05:57:08.925 +07:00 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'APIDemo.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2023-05-19 05:57:08.934 +07:00 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'APIDemo.Controllers.AuthenticationController+AuthenticationRequestBody'.
2023-05-19 05:57:09.099 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-05-19 05:57:09.105 +07:00 [DBG] No information found on request to perform content negotiation.
2023-05-19 05:57:09.106 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-05-19 05:57:09.107 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-05-19 05:57:09.110 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-05-19 05:57:09.112 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-05-19 05:57:09.121 +07:00 [INF] Executed action APIDemo.Controllers.AuthenticationController.Authentication (APIDemo) in 375.1204ms
2023-05-19 05:57:09.124 +07:00 [INF] Executed endpoint 'APIDemo.Controllers.AuthenticationController.Authentication (APIDemo)'
2023-05-19 05:57:09.126 +07:00 [DBG] Connection id "0HMQNUCOFCGST" completed keep alive response.
2023-05-19 05:57:09.127 +07:00 [INF] Request finished HTTP/1.1 POST https://localhost:7269/api/authentication/authenticate application/json 114 - 200 - text/plain;+charset=utf-8 515.7414ms
2023-05-19 05:57:12.842 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7269/api/cities - -
2023-05-19 05:57:12.844 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-05-19 05:57:12.848 +07:00 [DBG] Endpoint 'APIDemo.Controllers.CitiesController.GetCities (APIDemo)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-05-19 05:57:12.853 +07:00 [DBG] Request matched endpoint 'APIDemo.Controllers.CitiesController.GetCities (APIDemo)'
2023-05-19 05:57:12.856 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-19 05:57:12.954 +07:00 [DBG] Successfully validated the token.
2023-05-19 05:57:12.957 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-05-19 05:57:12.964 +07:00 [DBG] Authorization was successful.
2023-05-19 05:57:12.966 +07:00 [INF] Executing endpoint 'APIDemo.Controllers.CitiesController.GetCities (APIDemo)'
2023-05-19 05:57:12.978 +07:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[APIDemo.Models.CityDTO]]] GetCities(System.String, System.String, Int32, Int32) on controller APIDemo.Controllers.CitiesController (APIDemo).
2023-05-19 05:57:12.981 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-19 05:57:12.983 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-19 05:57:12.986 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-19 05:57:12.990 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-19 05:57:12.992 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-19 05:57:12.994 +07:00 [DBG] Executing controller factory for controller APIDemo.Controllers.CitiesController (APIDemo)
2023-05-19 05:57:13.150 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-05-19 05:57:13.363 +07:00 [DBG] Executed controller factory for controller APIDemo.Controllers.CitiesController (APIDemo)
2023-05-19 05:57:13.367 +07:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-05-19 05:57:13.370 +07:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2023-05-19 05:57:13.373 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2023-05-19 05:57:13.376 +07:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-05-19 05:57:13.379 +07:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-05-19 05:57:13.382 +07:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-05-19 05:57:13.386 +07:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-05-19 05:57:13.388 +07:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-05-19 05:57:13.391 +07:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2023-05-19 05:57:13.394 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2023-05-19 05:57:13.397 +07:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-05-19 05:57:13.400 +07:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-05-19 05:57:13.401 +07:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-05-19 05:57:13.403 +07:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-05-19 05:57:13.405 +07:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-05-19 05:57:13.408 +07:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name '' in request data ...
2023-05-19 05:57:13.411 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Int32'.
2023-05-19 05:57:13.414 +07:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-05-19 05:57:13.417 +07:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-05-19 05:57:13.420 +07:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-05-19 05:57:13.422 +07:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-05-19 05:57:13.427 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-05-19 05:57:13.431 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name '' in request data ...
2023-05-19 05:57:13.436 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Int32'.
2023-05-19 05:57:13.441 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-05-19 05:57:13.445 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-05-19 05:57:13.451 +07:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-05-19 05:57:13.453 +07:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-05-19 05:57:14.429 +07:00 [INF] Entity Framework Core 6.0.16 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.16' with options: None
2023-05-19 05:57:14.483 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Count()'
2023-05-19 05:57:14.827 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<int>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT COUNT(*)
        FROM Cities AS c), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
    APIDemo.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)
    .Single()'
2023-05-19 05:57:14.876 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-19 05:57:14.957 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (76ms).
2023-05-19 05:57:14.969 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-19 05:57:14.994 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-19 05:57:15.013 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2023-05-19 05:57:15.045 +07:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2023-05-19 05:57:15.064 +07:00 [DBG] A data reader was disposed.
2023-05-19 05:57:15.072 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-19 05:57:15.084 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-19 05:57:15.104 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)
    .Skip(__p_0)
    .Take(__p_1)'
2023-05-19 05:57:15.193 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(50), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    APIDemo.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-05-19 05:57:15.224 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-19 05:57:15.228 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-05-19 05:57:15.244 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-19 05:57:15.248 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-19 05:57:15.259 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2023-05-19 05:57:15.275 +07:00 [INF] Executed DbCommand (22ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2023-05-19 05:57:15.302 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-19 05:57:15.330 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-19 05:57:15.334 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-19 05:57:15.341 +07:00 [DBG] A data reader was disposed.
2023-05-19 05:57:15.350 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-19 05:57:15.353 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-19 05:57:15.419 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-05-19 05:57:15.429 +07:00 [DBG] No information found on request to perform content negotiation.
2023-05-19 05:57:15.430 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-05-19 05:57:15.431 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-05-19 05:57:15.433 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-05-19 05:57:15.436 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[APIDemo.Models.CityWithoutPointOfInterestDTO, APIDemo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-05-19 05:57:15.472 +07:00 [INF] Executed action APIDemo.Controllers.CitiesController.GetCities (APIDemo) in 2477.273ms
2023-05-19 05:57:15.473 +07:00 [INF] Executed endpoint 'APIDemo.Controllers.CitiesController.GetCities (APIDemo)'
2023-05-19 05:57:15.475 +07:00 [DBG] Connection id "0HMQNUCOFCGST" completed keep alive response.
2023-05-19 05:57:15.481 +07:00 [DBG] 'CityInfoContext' disposed.
2023-05-19 05:57:15.488 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7269/api/cities - - - 200 153 application/json;+charset=utf-8 2645.2302ms
2023-05-19 05:57:17.101 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7269/api/cities - -
2023-05-19 05:57:17.102 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-05-19 05:57:17.104 +07:00 [DBG] Endpoint 'APIDemo.Controllers.CitiesController.GetCities (APIDemo)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-05-19 05:57:17.106 +07:00 [DBG] Request matched endpoint 'APIDemo.Controllers.CitiesController.GetCities (APIDemo)'
2023-05-19 05:57:17.108 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-19 05:57:17.111 +07:00 [DBG] Successfully validated the token.
2023-05-19 05:57:17.112 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-05-19 05:57:17.114 +07:00 [INF] Authorization failed. These requirements were not met:
ClaimsAuthorizationRequirement:Claim.Type=city and Claim.Value is one of the following values: (Ha Noi)
2023-05-19 05:57:17.117 +07:00 [INF] AuthenticationScheme: Bearer was forbidden.
2023-05-19 05:57:17.119 +07:00 [DBG] Connection id "0HMQNUCOFCGST" completed keep alive response.
2023-05-19 05:57:17.122 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7269/api/cities - - - 403 0 - 20.5724ms
2023-05-19 05:57:34.976 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7269/api/cities/1/pointsofinterest - -
2023-05-19 05:57:34.977 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2023-05-19 05:57:34.979 +07:00 [DBG] Endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2023-05-19 05:57:34.981 +07:00 [DBG] Request matched endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo)'
2023-05-19 05:57:34.984 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-19 05:57:34.992 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/18/2023 5:59:07 PM', Current time (UTC): '5/18/2023 10:57:34 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-05-19 05:57:35.005 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/18/2023 5:59:07 PM', Current time (UTC): '5/18/2023 10:57:34 PM'.
2023-05-19 05:57:35.008 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
ClaimsAuthorizationRequirement:Claim.Type=city and Claim.Value is one of the following values: (Ha Noi)
2023-05-19 05:57:35.019 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-05-19 05:57:35.021 +07:00 [DBG] Connection id "0HMQNUCOFCGST" completed keep alive response.
2023-05-19 05:57:35.023 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7269/api/cities/1/pointsofinterest - - - 401 0 - 46.9876ms
2023-05-19 05:57:37.097 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7269/api/cities/1/pointsofinterest - -
2023-05-19 05:57:37.098 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2023-05-19 05:57:37.100 +07:00 [DBG] Endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2023-05-19 05:57:37.102 +07:00 [DBG] Request matched endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo)'
2023-05-19 05:57:37.104 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-19 05:57:37.105 +07:00 [DBG] Successfully validated the token.
2023-05-19 05:57:37.107 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-05-19 05:57:37.109 +07:00 [INF] Authorization failed. These requirements were not met:
ClaimsAuthorizationRequirement:Claim.Type=city and Claim.Value is one of the following values: (Ha Noi)
2023-05-19 05:57:37.110 +07:00 [INF] AuthenticationScheme: Bearer was forbidden.
2023-05-19 05:57:37.112 +07:00 [DBG] Connection id "0HMQNUCOFCGST" completed keep alive response.
2023-05-19 05:57:37.113 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7269/api/cities/1/pointsofinterest - - - 403 0 - 15.9425ms
2023-05-19 13:52:26.274 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-05-19 13:52:26.425 +07:00 [DBG] Hosting starting
2023-05-19 13:52:26.458 +07:00 [INF] User profile is available. Using 'C:\Users\Nguyen Huy Linh\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-05-19 13:52:26.467 +07:00 [DBG] Reading data from file 'C:\Users\Nguyen Huy Linh\AppData\Local\ASP.NET\DataProtection-Keys\key-7505044c-b74a-4d7d-8928-0e7c1b1e8a86.xml'.
2023-05-19 13:52:26.484 +07:00 [DBG] Found key {7505044c-b74a-4d7d-8928-0e7c1b1e8a86}.
2023-05-19 13:52:26.499 +07:00 [DBG] Considering key {7505044c-b74a-4d7d-8928-0e7c1b1e8a86} with expiration date 2023-07-20 00:27:35Z as default key.
2023-05-19 13:52:26.502 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-19 13:52:26.508 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-05-19 13:52:26.510 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-19 13:52:26.518 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-05-19 13:52:26.521 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-05-19 13:52:26.525 +07:00 [DBG] Using key {7505044c-b74a-4d7d-8928-0e7c1b1e8a86} as the default key.
2023-05-19 13:52:26.527 +07:00 [DBG] Key ring with default key {7505044c-b74a-4d7d-8928-0e7c1b1e8a86} was loaded during application startup.
2023-05-19 13:52:26.945 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 75D11A6361D7470A96C9C9E8EC2F301CE14CF8DD)
2023-05-19 13:52:27.069 +07:00 [INF] Now listening on: https://localhost:7269
2023-05-19 13:52:27.071 +07:00 [INF] Now listening on: http://localhost:5078
2023-05-19 13:52:27.073 +07:00 [DBG] Loaded hosting startup assembly APIDemo
2023-05-19 13:52:27.074 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-05-19 13:52:27.076 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-05-19 13:52:27.078 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-19 13:52:27.079 +07:00 [INF] Hosting environment: Development
2023-05-19 13:52:27.081 +07:00 [INF] Content root path: C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\
2023-05-19 13:52:27.083 +07:00 [DBG] Hosting started
2023-05-19 13:52:27.524 +07:00 [DBG] Connection id "0HMQO6MDUEU77" accepted.
2023-05-19 13:52:27.524 +07:00 [DBG] Connection id "0HMQO6MDUEU78" accepted.
2023-05-19 13:52:27.528 +07:00 [DBG] Connection id "0HMQO6MDUEU78" started.
2023-05-19 13:52:27.528 +07:00 [DBG] Connection id "0HMQO6MDUEU77" started.
2023-05-19 13:52:27.958 +07:00 [DBG] Connection id "0HMQO6MDUEU79" accepted.
2023-05-19 13:52:27.970 +07:00 [DBG] Connection id "0HMQO6MDUEU79" started.
2023-05-19 13:52:28.083 +07:00 [DBG] Connection 0HMQO6MDUEU79 established using the following protocol: "Tls12"
2023-05-19 13:52:28.185 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger - -
2023-05-19 13:52:28.227 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-05-19 13:52:28.255 +07:00 [DBG] No candidates found for the request path '/swagger'
2023-05-19 13:52:28.256 +07:00 [DBG] Request did not match any endpoints
2023-05-19 13:52:28.317 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger - - - 301 0 - 139.5203ms
2023-05-19 13:52:28.323 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/index.html - -
2023-05-19 13:52:28.325 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-05-19 13:52:28.327 +07:00 [DBG] Request did not match any endpoints
2023-05-19 13:52:28.401 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-05-19 13:52:28.594 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/swagger-ui.css - -
2023-05-19 13:52:28.594 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/swagger-ui-standalone-preset.js - -
2023-05-19 13:52:28.594 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - -
2023-05-19 13:52:28.594 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/swagger-ui-bundle.js - -
2023-05-19 13:52:28.594 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_vs/browserLink - -
2023-05-19 13:52:28.596 +07:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2023-05-19 13:52:28.599 +07:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2023-05-19 13:52:28.601 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-05-19 13:52:28.602 +07:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2023-05-19 13:52:28.606 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 11.6959ms
2023-05-19 13:52:28.605 +07:00 [DBG] Request did not match any endpoints
2023-05-19 13:52:28.606 +07:00 [DBG] Request did not match any endpoints
2023-05-19 13:52:28.612 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/index.html - - - 200 - text/html;charset=utf-8 289.4285ms
2023-05-19 13:52:28.609 +07:00 [DBG] Request did not match any endpoints
2023-05-19 13:52:28.643 +07:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2023-05-19 13:52:28.645 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 51.3250ms
2023-05-19 13:52:28.658 +07:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2023-05-19 13:52:28.660 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/swagger-ui.css - - - 200 143632 text/css 66.6467ms
2023-05-19 13:52:28.671 +07:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2023-05-19 13:52:28.672 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 78.3514ms
2023-05-19 13:52:28.689 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 94.9921ms
2023-05-19 13:52:28.857 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - -
2023-05-19 13:52:28.858 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-05-19 13:52:28.859 +07:00 [DBG] Request did not match any endpoints
2023-05-19 13:52:29.065 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 208.8591ms
2023-05-19 13:52:37.546 +07:00 [DBG] Authentication of the HTTPS connection timed out.
2023-05-19 13:52:37.546 +07:00 [DBG] Authentication of the HTTPS connection timed out.
2023-05-19 13:52:37.556 +07:00 [DBG] Connection id "0HMQO6MDUEU78" stopped.
2023-05-19 13:52:37.556 +07:00 [DBG] Connection id "0HMQO6MDUEU77" stopped.
2023-05-19 13:52:37.559 +07:00 [DBG] Connection id "0HMQO6MDUEU78" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-19 13:52:37.559 +07:00 [DBG] Connection id "0HMQO6MDUEU77" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-19 13:52:54.386 +07:00 [DBG] Connection id "0HMQO6MDUEU7A" accepted.
2023-05-19 13:52:54.387 +07:00 [DBG] Connection id "0HMQO6MDUEU7A" started.
2023-05-19 13:52:54.392 +07:00 [DBG] Connection id "0HMQO6MDUEU7A" received FIN.
2023-05-19 13:52:54.395 +07:00 [DBG] Connection id "0HMQO6MDUEU7B" accepted.
2023-05-19 13:52:54.398 +07:00 [DBG] Connection id "0HMQO6MDUEU7B" started.
2023-05-19 13:52:54.398 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-19 13:52:54.407 +07:00 [DBG] Connection 0HMQO6MDUEU7B established using the following protocol: "Tls12"
2023-05-19 13:52:54.437 +07:00 [DBG] Connection id "0HMQO6MDUEU7A" stopped.
2023-05-19 13:52:54.439 +07:00 [DBG] Connection id "0HMQO6MDUEU7A" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-19 13:52:54.447 +07:00 [INF] Request starting HTTP/1.1 POST https://localhost:7269/api/authentication/authenticate application/json 114
2023-05-19 13:52:54.457 +07:00 [DBG] 1 candidate(s) found for the request path '/api/authentication/authenticate'
2023-05-19 13:52:54.461 +07:00 [DBG] Endpoint 'APIDemo.Controllers.AuthenticationController.Authentication (APIDemo)' with route pattern 'api/authentication/authenticate' is valid for the request path '/api/authentication/authenticate'
2023-05-19 13:52:54.477 +07:00 [INF] Request did not specify a service API version, but multiple candidate actions were found. Candidate actions: APIDemo.Controllers.AuthenticationController.Authentication (APIDemo)
2023-05-19 13:52:54.480 +07:00 [DBG] Request matched endpoint 'null'
2023-05-19 13:52:54.482 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-19 13:52:54.565 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-05-19 13:52:54.570 +07:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Http.Endpoint'
2023-05-19 13:52:54.575 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-05-19 13:52:54.585 +07:00 [DBG] No information found on request to perform content negotiation.
2023-05-19 13:52:54.588 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-05-19 13:52:54.594 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-05-19 13:52:54.597 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-05-19 13:52:54.601 +07:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`1[[<>f__AnonymousType1`3[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Microsoft.AspNetCore.Mvc.Versioning, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60]], Microsoft.AspNetCore.Mvc.Versioning, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60]]'.
2023-05-19 13:52:54.773 +07:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Http.Endpoint'
2023-05-19 13:52:54.776 +07:00 [DBG] Connection id "0HMQO6MDUEU7B" completed keep alive response.
2023-05-19 13:52:54.779 +07:00 [INF] Request finished HTTP/1.1 POST https://localhost:7269/api/authentication/authenticate application/json 114 - 400 123 application/json;+charset=utf-8 332.0134ms
2023-05-19 13:52:54.781 +07:00 [DBG] Connection id "0HMQO6MDUEU7B", Request id "0HMQO6MDUEU7B:00000002": started reading request body.
2023-05-19 13:52:54.783 +07:00 [DBG] Connection id "0HMQO6MDUEU7B", Request id "0HMQO6MDUEU7B:00000002": done reading request body.
2023-05-19 13:53:05.409 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7269/api/cities - -
2023-05-19 13:53:05.411 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-05-19 13:53:05.413 +07:00 [DBG] Endpoint 'APIDemo.Controllers.CitiesController.GetCities (APIDemo)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-05-19 13:53:05.415 +07:00 [INF] Request did not specify a service API version, but multiple candidate actions were found. Candidate actions: APIDemo.Controllers.CitiesController.GetCities (APIDemo)
2023-05-19 13:53:05.417 +07:00 [DBG] Request matched endpoint 'null'
2023-05-19 13:53:05.419 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-19 13:53:05.605 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/18/2023 11:57:08 PM', Current time (UTC): '5/19/2023 6:53:05 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-05-19 13:53:05.617 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/18/2023 11:57:08 PM', Current time (UTC): '5/19/2023 6:53:05 AM'.
2023-05-19 13:53:05.619 +07:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Http.Endpoint'
2023-05-19 13:53:05.621 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-05-19 13:53:05.628 +07:00 [DBG] No information found on request to perform content negotiation.
2023-05-19 13:53:05.630 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-05-19 13:53:05.632 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-05-19 13:53:05.634 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-05-19 13:53:05.637 +07:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`1[[<>f__AnonymousType1`3[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Microsoft.AspNetCore.Mvc.Versioning, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60]], Microsoft.AspNetCore.Mvc.Versioning, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60]]'.
2023-05-19 13:53:05.640 +07:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Http.Endpoint'
2023-05-19 13:53:05.642 +07:00 [DBG] Connection id "0HMQO6MDUEU7B" completed keep alive response.
2023-05-19 13:53:05.644 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7269/api/cities - - - 400 123 application/json;+charset=utf-8 235.1566ms
2023-05-19 13:53:47.646 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/api/cities?pageNumber=1&pageSize=10 - -
2023-05-19 13:53:47.651 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-05-19 13:53:47.653 +07:00 [DBG] Endpoint 'APIDemo.Controllers.CitiesController.GetCities (APIDemo)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-05-19 13:53:47.660 +07:00 [INF] Request did not specify a service API version, but multiple candidate actions were found. Candidate actions: APIDemo.Controllers.CitiesController.GetCities (APIDemo)
2023-05-19 13:53:47.662 +07:00 [DBG] Request matched endpoint 'null'
2023-05-19 13:53:47.663 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-19 13:53:47.666 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-05-19 13:53:47.668 +07:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Http.Endpoint'
2023-05-19 13:53:47.669 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-05-19 13:53:47.675 +07:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2023-05-19 13:53:47.680 +07:00 [WRN] An error occurred while trying to create a DataContractSerializer for the type '<>f__AnonymousType0`1[[<>f__AnonymousType1`3[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Microsoft.AspNetCore.Mvc.Versioning, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60]], Microsoft.AspNetCore.Mvc.Versioning, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60]]'.
System.Runtime.Serialization.InvalidDataContractException: Type '<>f__AnonymousType0`1[<>f__AnonymousType1`3[System.String,System.String,<>f__AnonymousType2`1[System.String]]]' cannot be serialized. Consider marking it with the DataContractAttribute attribute, and marking all of its members you want serialized with the DataMemberAttribute attribute. Alternatively, you can ensure that the type is public and has a parameterless constructor - all public members of the type will then be serialized, and no attributes will be required.
   at System.Runtime.Serialization.DataContract.DataContractCriticalHelper.ThrowInvalidDataContractException(String message, Type type)
   at System.Runtime.Serialization.DataContract.DataContractCriticalHelper.CreateDataContract(Type type)
   at System.Runtime.Serialization.DataContract.DataContractCriticalHelper.CreateDataContract(Int32 id, RuntimeTypeHandle typeHandle, Type type)
   at System.Runtime.Serialization.DataContract.DataContractCriticalHelper.GetDataContractSkipValidation(Int32 id, RuntimeTypeHandle typeHandle, Type type)
   at System.Runtime.Serialization.DataContract.GetDataContract(RuntimeTypeHandle typeHandle, Type type, SerializationMode mode)
   at System.Runtime.Serialization.XsdDataContractExporter.GetRootElementName(Type type)
   at Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter.CreateSerializer(Type type)
2023-05-19 13:53:47.689 +07:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2023-05-19 13:53:47.692 +07:00 [WRN] No output formatter was found for content types '["text/plain"]' to write the response.
2023-05-19 13:53:47.694 +07:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Http.Endpoint'
2023-05-19 13:53:47.695 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/api/cities?pageNumber=1&pageSize=10 - - - 406 0 - 49.7421ms
2023-05-19 13:53:59.533 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/api/cities?pageNumber=1&pageSize=10 - -
2023-05-19 13:53:59.540 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-05-19 13:53:59.541 +07:00 [DBG] Endpoint 'APIDemo.Controllers.CitiesController.GetCities (APIDemo)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-05-19 13:53:59.543 +07:00 [INF] Request did not specify a service API version, but multiple candidate actions were found. Candidate actions: APIDemo.Controllers.CitiesController.GetCities (APIDemo)
2023-05-19 13:53:59.545 +07:00 [DBG] Request matched endpoint 'null'
2023-05-19 13:53:59.547 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-19 13:53:59.548 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-05-19 13:53:59.549 +07:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Http.Endpoint'
2023-05-19 13:53:59.551 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-05-19 13:53:59.555 +07:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-05-19 13:53:59.556 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-05-19 13:53:59.558 +07:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`1[[<>f__AnonymousType1`3[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Microsoft.AspNetCore.Mvc.Versioning, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60]], Microsoft.AspNetCore.Mvc.Versioning, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60]]'.
2023-05-19 13:53:59.560 +07:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Http.Endpoint'
2023-05-19 13:53:59.565 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/api/cities?pageNumber=1&pageSize=10 - - - 400 123 application/json;+charset=utf-8 32.6672ms
2023-05-19 13:54:00.700 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/api/cities?pageNumber=1&pageSize=10 - -
2023-05-19 13:54:00.701 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-05-19 13:54:00.710 +07:00 [DBG] Endpoint 'APIDemo.Controllers.CitiesController.GetCities (APIDemo)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-05-19 13:54:00.712 +07:00 [INF] Request did not specify a service API version, but multiple candidate actions were found. Candidate actions: APIDemo.Controllers.CitiesController.GetCities (APIDemo)
2023-05-19 13:54:00.714 +07:00 [DBG] Request matched endpoint 'null'
2023-05-19 13:54:00.716 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-19 13:54:00.718 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-05-19 13:54:00.721 +07:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Http.Endpoint'
2023-05-19 13:54:00.724 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-05-19 13:54:00.730 +07:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-05-19 13:54:00.734 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-05-19 13:54:00.738 +07:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`1[[<>f__AnonymousType1`3[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Microsoft.AspNetCore.Mvc.Versioning, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60]], Microsoft.AspNetCore.Mvc.Versioning, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60]]'.
2023-05-19 13:54:00.743 +07:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Http.Endpoint'
2023-05-19 13:54:00.745 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/api/cities?pageNumber=1&pageSize=10 - - - 400 123 application/json;+charset=utf-8 45.2890ms
2023-05-19 13:57:58.265 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-05-19 13:57:58.404 +07:00 [DBG] Hosting starting
2023-05-19 13:57:58.426 +07:00 [INF] User profile is available. Using 'C:\Users\Nguyen Huy Linh\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-05-19 13:57:58.431 +07:00 [DBG] Reading data from file 'C:\Users\Nguyen Huy Linh\AppData\Local\ASP.NET\DataProtection-Keys\key-7505044c-b74a-4d7d-8928-0e7c1b1e8a86.xml'.
2023-05-19 13:57:58.442 +07:00 [DBG] Found key {7505044c-b74a-4d7d-8928-0e7c1b1e8a86}.
2023-05-19 13:57:58.462 +07:00 [DBG] Considering key {7505044c-b74a-4d7d-8928-0e7c1b1e8a86} with expiration date 2023-07-20 00:27:35Z as default key.
2023-05-19 13:57:58.467 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-19 13:57:58.472 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-05-19 13:57:58.476 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-19 13:57:58.485 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-05-19 13:57:58.489 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-05-19 13:57:58.494 +07:00 [DBG] Using key {7505044c-b74a-4d7d-8928-0e7c1b1e8a86} as the default key.
2023-05-19 13:57:58.497 +07:00 [DBG] Key ring with default key {7505044c-b74a-4d7d-8928-0e7c1b1e8a86} was loaded during application startup.
2023-05-19 13:57:58.631 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 75D11A6361D7470A96C9C9E8EC2F301CE14CF8DD)
2023-05-19 13:57:58.666 +07:00 [INF] Now listening on: https://localhost:7269
2023-05-19 13:57:58.667 +07:00 [INF] Now listening on: http://localhost:5078
2023-05-19 13:57:58.668 +07:00 [DBG] Loaded hosting startup assembly APIDemo
2023-05-19 13:57:58.673 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-05-19 13:57:58.674 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-05-19 13:57:58.676 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-19 13:57:58.677 +07:00 [INF] Hosting environment: Development
2023-05-19 13:57:58.678 +07:00 [INF] Content root path: C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\
2023-05-19 13:57:58.678 +07:00 [DBG] Connection id "0HMQO6PGKK9C5" received FIN.
2023-05-19 13:57:58.680 +07:00 [DBG] Hosting started
2023-05-19 13:57:58.690 +07:00 [DBG] Connection id "0HMQO6PGKK9C5" accepted.
2023-05-19 13:57:58.693 +07:00 [DBG] Connection id "0HMQO6PGKK9C5" started.
2023-05-19 13:57:58.708 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-19 13:57:58.749 +07:00 [DBG] Connection id "0HMQO6PGKK9C5" stopped.
2023-05-19 13:57:58.754 +07:00 [DBG] Connection id "0HMQO6PGKK9C5" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-19 13:57:58.972 +07:00 [DBG] Connection id "0HMQO6PGKK9C6" accepted.
2023-05-19 13:57:58.973 +07:00 [DBG] Connection id "0HMQO6PGKK9C6" started.
2023-05-19 13:57:59.032 +07:00 [DBG] Connection 0HMQO6PGKK9C6 established using the following protocol: "Tls12"
2023-05-19 13:57:59.080 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/index.html - -
2023-05-19 13:57:59.112 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-05-19 13:57:59.139 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-05-19 13:57:59.144 +07:00 [DBG] Request did not match any endpoints
2023-05-19 13:57:59.256 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-05-19 13:57:59.405 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_vs/browserLink - -
2023-05-19 13:57:59.405 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - -
2023-05-19 13:57:59.409 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-05-19 13:57:59.421 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 16.2215ms
2023-05-19 13:57:59.422 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/index.html - - - 200 - text/html;charset=utf-8 346.5698ms
2023-05-19 13:57:59.436 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 31.3452ms
2023-05-19 13:57:59.617 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - -
2023-05-19 13:57:59.618 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-05-19 13:57:59.620 +07:00 [DBG] Request did not match any endpoints
2023-05-19 13:57:59.791 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 174.2909ms
2023-05-19 13:58:17.282 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/api/cities?pageNumber=1&pageSize=10 - -
2023-05-19 13:58:17.292 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-05-19 13:58:17.297 +07:00 [DBG] Endpoint 'APIDemo.Controllers.CitiesController.GetCities (APIDemo)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-05-19 13:58:17.315 +07:00 [DBG] Request matched endpoint 'APIDemo.Controllers.CitiesController.GetCities (APIDemo)'
2023-05-19 13:58:17.318 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-19 13:58:17.393 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-05-19 13:58:17.398 +07:00 [INF] Executing endpoint 'APIDemo.Controllers.CitiesController.GetCities (APIDemo)'
2023-05-19 13:58:17.431 +07:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[APIDemo.Models.CityDTO]]] GetCities(System.String, System.String, Int32, Int32) on controller APIDemo.Controllers.CitiesController (APIDemo).
2023-05-19 13:58:17.435 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-19 13:58:17.437 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-19 13:58:17.439 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-05-19 13:58:17.442 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-19 13:58:17.445 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-05-19 13:58:17.451 +07:00 [DBG] Executing controller factory for controller APIDemo.Controllers.CitiesController (APIDemo)
2023-05-19 13:58:17.610 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-05-19 13:58:17.856 +07:00 [DBG] Executed controller factory for controller APIDemo.Controllers.CitiesController (APIDemo)
2023-05-19 13:58:17.864 +07:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-05-19 13:58:17.870 +07:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2023-05-19 13:58:17.876 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2023-05-19 13:58:17.882 +07:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-05-19 13:58:17.886 +07:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-05-19 13:58:17.891 +07:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-05-19 13:58:17.897 +07:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-05-19 13:58:17.902 +07:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-05-19 13:58:17.907 +07:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2023-05-19 13:58:17.912 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2023-05-19 13:58:17.917 +07:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-05-19 13:58:17.922 +07:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-05-19 13:58:17.926 +07:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-05-19 13:58:17.928 +07:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-05-19 13:58:17.930 +07:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-05-19 13:58:17.932 +07:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-05-19 13:58:17.936 +07:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-05-19 13:58:17.938 +07:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-05-19 13:58:17.941 +07:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-05-19 13:58:17.944 +07:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-05-19 13:58:17.947 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-05-19 13:58:17.950 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2023-05-19 13:58:17.956 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-05-19 13:58:17.961 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-05-19 13:58:17.966 +07:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-05-19 13:58:17.970 +07:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-05-19 13:58:18.962 +07:00 [INF] Entity Framework Core 6.0.16 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.16' with options: None
2023-05-19 13:58:19.073 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Count()'
2023-05-19 13:58:19.427 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<int>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT COUNT(*)
        FROM Cities AS c), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
    APIDemo.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)
    .Single()'
2023-05-19 13:58:19.494 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-19 13:58:19.572 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (74ms).
2023-05-19 13:58:19.584 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-19 13:58:19.608 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-19 13:58:19.626 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2023-05-19 13:58:19.661 +07:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2023-05-19 13:58:19.677 +07:00 [DBG] A data reader was disposed.
2023-05-19 13:58:19.685 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-19 13:58:19.696 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-19 13:58:19.718 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)
    .Skip(__p_0)
    .Take(__p_1)'
2023-05-19 13:58:19.804 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(50), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    APIDemo.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-05-19 13:58:19.833 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-19 13:58:19.834 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-19 13:58:19.847 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-19 13:58:19.851 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-19 13:58:19.860 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2023-05-19 13:58:19.872 +07:00 [INF] Executed DbCommand (18ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2023-05-19 13:58:19.896 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-19 13:58:19.928 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-19 13:58:19.930 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-19 13:58:19.938 +07:00 [DBG] A data reader was disposed.
2023-05-19 13:58:19.944 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-19 13:58:19.948 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-19 13:58:20.100 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-05-19 13:58:20.114 +07:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-05-19 13:58:20.119 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-05-19 13:58:20.123 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[APIDemo.Models.CityWithoutPointOfInterestDTO, APIDemo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-05-19 13:58:20.175 +07:00 [INF] Executed action APIDemo.Controllers.CitiesController.GetCities (APIDemo) in 2719.2062ms
2023-05-19 13:58:20.177 +07:00 [INF] Executed endpoint 'APIDemo.Controllers.CitiesController.GetCities (APIDemo)'
2023-05-19 13:58:20.184 +07:00 [DBG] 'CityInfoContext' disposed.
2023-05-19 13:58:20.189 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/api/cities?pageNumber=1&pageSize=10 - - - 200 153 application/json;+charset=utf-8 2907.2287ms
2023-05-19 14:08:14.635 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-05-19 14:08:14.780 +07:00 [DBG] Hosting starting
2023-05-19 14:08:14.802 +07:00 [INF] User profile is available. Using 'C:\Users\Nguyen Huy Linh\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-05-19 14:08:14.806 +07:00 [DBG] Reading data from file 'C:\Users\Nguyen Huy Linh\AppData\Local\ASP.NET\DataProtection-Keys\key-7505044c-b74a-4d7d-8928-0e7c1b1e8a86.xml'.
2023-05-19 14:08:14.817 +07:00 [DBG] Found key {7505044c-b74a-4d7d-8928-0e7c1b1e8a86}.
2023-05-19 14:08:14.832 +07:00 [DBG] Considering key {7505044c-b74a-4d7d-8928-0e7c1b1e8a86} with expiration date 2023-07-20 00:27:35Z as default key.
2023-05-19 14:08:14.840 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-19 14:08:14.847 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-05-19 14:08:14.851 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-19 14:08:14.861 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-05-19 14:08:14.869 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-05-19 14:08:14.874 +07:00 [DBG] Using key {7505044c-b74a-4d7d-8928-0e7c1b1e8a86} as the default key.
2023-05-19 14:08:14.876 +07:00 [DBG] Key ring with default key {7505044c-b74a-4d7d-8928-0e7c1b1e8a86} was loaded during application startup.
2023-05-19 14:08:15.013 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 75D11A6361D7470A96C9C9E8EC2F301CE14CF8DD)
2023-05-19 14:08:15.047 +07:00 [INF] Now listening on: https://localhost:7269
2023-05-19 14:08:15.048 +07:00 [INF] Now listening on: http://localhost:5078
2023-05-19 14:08:15.049 +07:00 [DBG] Loaded hosting startup assembly APIDemo
2023-05-19 14:08:15.051 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-05-19 14:08:15.052 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-05-19 14:08:15.054 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-19 14:08:15.055 +07:00 [INF] Hosting environment: Development
2023-05-19 14:08:15.056 +07:00 [INF] Content root path: C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\
2023-05-19 14:08:15.057 +07:00 [DBG] Hosting started
2023-05-19 14:08:15.137 +07:00 [DBG] Connection id "0HMQO6V8BKIIE" received FIN.
2023-05-19 14:08:15.150 +07:00 [DBG] Connection id "0HMQO6V8BKIIE" accepted.
2023-05-19 14:08:15.153 +07:00 [DBG] Connection id "0HMQO6V8BKIIE" started.
2023-05-19 14:08:15.169 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-19 14:08:15.211 +07:00 [DBG] Connection id "0HMQO6V8BKIIE" stopped.
2023-05-19 14:08:15.217 +07:00 [DBG] Connection id "0HMQO6V8BKIIE" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-19 14:08:15.407 +07:00 [DBG] Connection id "0HMQO6V8BKIIF" accepted.
2023-05-19 14:08:15.409 +07:00 [DBG] Connection id "0HMQO6V8BKIIF" started.
2023-05-19 14:08:15.463 +07:00 [DBG] Connection 0HMQO6V8BKIIF established using the following protocol: "Tls12"
2023-05-19 14:08:15.515 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/index.html - -
2023-05-19 14:08:15.552 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-05-19 14:08:15.582 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-05-19 14:08:15.584 +07:00 [DBG] Request did not match any endpoints
2023-05-19 14:08:15.698 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-05-19 14:08:15.849 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_vs/browserLink - -
2023-05-19 14:08:15.849 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - -
2023-05-19 14:08:15.853 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-05-19 14:08:15.861 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 11.3785ms
2023-05-19 14:08:15.861 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/index.html - - - 200 - text/html;charset=utf-8 352.5720ms
2023-05-19 14:08:15.873 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 24.9079ms
2023-05-19 14:08:15.968 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - -
2023-05-19 14:08:15.970 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-05-19 14:08:15.972 +07:00 [DBG] Request did not match any endpoints
2023-05-19 14:08:16.150 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 182.4132ms
2023-05-19 14:08:45.797 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/api/v/1/cities?pageNumber=1&pageSize=10 - -
2023-05-19 14:08:45.814 +07:00 [DBG] 1 candidate(s) found for the request path '/api/v/1/cities'
2023-05-19 14:08:45.820 +07:00 [DBG] Endpoint 'APIDemo.Controllers.CitiesController.GetCities (APIDemo)' with route pattern 'api/v/{ApiVersion}/cities' is valid for the request path '/api/v/1/cities'
2023-05-19 14:08:45.840 +07:00 [DBG] Request matched endpoint 'APIDemo.Controllers.CitiesController.GetCities (APIDemo)'
2023-05-19 14:08:45.843 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-19 14:08:45.909 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-05-19 14:08:45.916 +07:00 [INF] Executing endpoint 'APIDemo.Controllers.CitiesController.GetCities (APIDemo)'
2023-05-19 14:08:45.951 +07:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[APIDemo.Models.CityDTO]]] GetCities(System.String, System.String, Int32, Int32) on controller APIDemo.Controllers.CitiesController (APIDemo).
2023-05-19 14:08:45.960 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-19 14:08:45.968 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-19 14:08:45.974 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-05-19 14:08:45.984 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-19 14:08:45.991 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-05-19 14:08:46.000 +07:00 [DBG] Executing controller factory for controller APIDemo.Controllers.CitiesController (APIDemo)
2023-05-19 14:08:46.193 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-05-19 14:08:46.400 +07:00 [DBG] Executed controller factory for controller APIDemo.Controllers.CitiesController (APIDemo)
2023-05-19 14:08:46.406 +07:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-05-19 14:08:46.409 +07:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2023-05-19 14:08:46.412 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2023-05-19 14:08:46.413 +07:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-05-19 14:08:46.415 +07:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-05-19 14:08:46.417 +07:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-05-19 14:08:46.419 +07:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-05-19 14:08:46.422 +07:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-05-19 14:08:46.423 +07:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2023-05-19 14:08:46.427 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2023-05-19 14:08:46.431 +07:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-05-19 14:08:46.433 +07:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-05-19 14:08:46.435 +07:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-05-19 14:08:46.436 +07:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-05-19 14:08:46.438 +07:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-05-19 14:08:46.442 +07:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-05-19 14:08:46.446 +07:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-05-19 14:08:46.447 +07:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-05-19 14:08:46.450 +07:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-05-19 14:08:46.453 +07:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-05-19 14:08:46.455 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-05-19 14:08:46.459 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2023-05-19 14:08:46.462 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-05-19 14:08:46.464 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-05-19 14:08:46.467 +07:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-05-19 14:08:46.469 +07:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-05-19 14:08:47.443 +07:00 [INF] Entity Framework Core 6.0.16 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.16' with options: None
2023-05-19 14:08:47.503 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Count()'
2023-05-19 14:08:47.810 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<int>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT COUNT(*)
        FROM Cities AS c), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
    APIDemo.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)
    .Single()'
2023-05-19 14:08:47.860 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-19 14:08:47.943 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (79ms).
2023-05-19 14:08:47.955 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-19 14:08:47.976 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-19 14:08:47.991 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2023-05-19 14:08:48.020 +07:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2023-05-19 14:08:48.033 +07:00 [DBG] A data reader was disposed.
2023-05-19 14:08:48.039 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-19 14:08:48.047 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-19 14:08:48.068 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)
    .Skip(__p_0)
    .Take(__p_1)'
2023-05-19 14:08:48.150 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(50), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    APIDemo.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-05-19 14:08:48.176 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-19 14:08:48.179 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-05-19 14:08:48.195 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-19 14:08:48.201 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-19 14:08:48.213 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2023-05-19 14:08:48.231 +07:00 [INF] Executed DbCommand (23ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2023-05-19 14:08:48.258 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-19 14:08:48.287 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-19 14:08:48.291 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-19 14:08:48.299 +07:00 [DBG] A data reader was disposed.
2023-05-19 14:08:48.308 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-19 14:08:48.312 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-19 14:08:48.486 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-05-19 14:08:48.495 +07:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-05-19 14:08:48.497 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-05-19 14:08:48.500 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[APIDemo.Models.CityWithoutPointOfInterestDTO, APIDemo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-05-19 14:08:48.552 +07:00 [INF] Executed action APIDemo.Controllers.CitiesController.GetCities (APIDemo) in 2547.7376ms
2023-05-19 14:08:48.555 +07:00 [INF] Executed endpoint 'APIDemo.Controllers.CitiesController.GetCities (APIDemo)'
2023-05-19 14:08:48.562 +07:00 [DBG] 'CityInfoContext' disposed.
2023-05-19 14:08:48.569 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/api/v/1/cities?pageNumber=1&pageSize=10 - - - 200 153 application/json;+charset=utf-8 2771.3979ms
2023-05-19 14:09:04.375 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/api/v/2/cities?pageNumber=1&pageSize=10 - -
2023-05-19 14:09:04.377 +07:00 [DBG] 1 candidate(s) found for the request path '/api/v/2/cities'
2023-05-19 14:09:04.379 +07:00 [DBG] Endpoint 'APIDemo.Controllers.CitiesController.GetCities (APIDemo)' with route pattern 'api/v/{ApiVersion}/cities' is valid for the request path '/api/v/2/cities'
2023-05-19 14:09:04.381 +07:00 [DBG] Request matched endpoint 'APIDemo.Controllers.CitiesController.GetCities (APIDemo)'
2023-05-19 14:09:04.383 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-19 14:09:04.384 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-05-19 14:09:04.386 +07:00 [INF] Executing endpoint 'APIDemo.Controllers.CitiesController.GetCities (APIDemo)'
2023-05-19 14:09:04.390 +07:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[APIDemo.Models.CityDTO]]] GetCities(System.String, System.String, Int32, Int32) on controller APIDemo.Controllers.CitiesController (APIDemo).
2023-05-19 14:09:04.394 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-19 14:09:04.396 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-19 14:09:04.397 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-05-19 14:09:04.401 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-19 14:09:04.405 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-05-19 14:09:04.412 +07:00 [DBG] Executing controller factory for controller APIDemo.Controllers.CitiesController (APIDemo)
2023-05-19 14:09:04.415 +07:00 [DBG] Executed controller factory for controller APIDemo.Controllers.CitiesController (APIDemo)
2023-05-19 14:09:04.416 +07:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-05-19 14:09:04.422 +07:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2023-05-19 14:09:04.426 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2023-05-19 14:09:04.430 +07:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-05-19 14:09:04.436 +07:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-05-19 14:09:04.442 +07:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-05-19 14:09:04.449 +07:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-05-19 14:09:04.452 +07:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-05-19 14:09:04.456 +07:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2023-05-19 14:09:04.461 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2023-05-19 14:09:04.470 +07:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-05-19 14:09:04.476 +07:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-05-19 14:09:04.483 +07:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-05-19 14:09:04.487 +07:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-05-19 14:09:04.492 +07:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-05-19 14:09:04.499 +07:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-05-19 14:09:04.505 +07:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-05-19 14:09:04.511 +07:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-05-19 14:09:04.518 +07:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-05-19 14:09:04.523 +07:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-05-19 14:09:04.530 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-05-19 14:09:04.535 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2023-05-19 14:09:04.543 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-05-19 14:09:04.550 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-05-19 14:09:04.554 +07:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-05-19 14:09:04.561 +07:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-05-19 14:09:04.574 +07:00 [INF] Entity Framework Core 6.0.16 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.16' with options: None
2023-05-19 14:09:04.585 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-19 14:09:04.587 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-05-19 14:09:04.593 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-19 14:09:04.595 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-19 14:09:04.598 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2023-05-19 14:09:04.604 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2023-05-19 14:09:04.615 +07:00 [DBG] A data reader was disposed.
2023-05-19 14:09:04.618 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-19 14:09:04.626 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-19 14:09:04.634 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-19 14:09:04.636 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-05-19 14:09:04.643 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-19 14:09:04.648 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-19 14:09:04.653 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2023-05-19 14:09:04.663 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2023-05-19 14:09:04.673 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-19 14:09:04.679 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-19 14:09:04.684 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-19 14:09:04.692 +07:00 [DBG] A data reader was disposed.
2023-05-19 14:09:04.695 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-19 14:09:04.701 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-19 14:09:04.707 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-05-19 14:09:04.721 +07:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-05-19 14:09:04.726 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-05-19 14:09:04.732 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[APIDemo.Models.CityWithoutPointOfInterestDTO, APIDemo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-05-19 14:09:04.740 +07:00 [INF] Executed action APIDemo.Controllers.CitiesController.GetCities (APIDemo) in 327.8634ms
2023-05-19 14:09:04.748 +07:00 [INF] Executed endpoint 'APIDemo.Controllers.CitiesController.GetCities (APIDemo)'
2023-05-19 14:09:04.754 +07:00 [DBG] 'CityInfoContext' disposed.
2023-05-19 14:09:04.756 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/api/v/2/cities?pageNumber=1&pageSize=10 - - - 200 153 application/json;+charset=utf-8 381.2842ms
2023-05-19 14:09:09.628 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/api/v/2/cities?pageNumber=1&pageSize=10 - -
2023-05-19 14:09:09.630 +07:00 [DBG] 1 candidate(s) found for the request path '/api/v/2/cities'
2023-05-19 14:09:09.632 +07:00 [DBG] Endpoint 'APIDemo.Controllers.CitiesController.GetCities (APIDemo)' with route pattern 'api/v/{ApiVersion}/cities' is valid for the request path '/api/v/2/cities'
2023-05-19 14:09:09.635 +07:00 [DBG] Request matched endpoint 'APIDemo.Controllers.CitiesController.GetCities (APIDemo)'
2023-05-19 14:09:09.637 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-19 14:09:09.641 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-05-19 14:09:09.642 +07:00 [INF] Executing endpoint 'APIDemo.Controllers.CitiesController.GetCities (APIDemo)'
2023-05-19 14:09:09.644 +07:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[APIDemo.Models.CityDTO]]] GetCities(System.String, System.String, Int32, Int32) on controller APIDemo.Controllers.CitiesController (APIDemo).
2023-05-19 14:09:09.648 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-19 14:09:09.653 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-19 14:09:09.661 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-05-19 14:09:09.669 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-19 14:09:09.675 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-05-19 14:09:09.684 +07:00 [DBG] Executing controller factory for controller APIDemo.Controllers.CitiesController (APIDemo)
2023-05-19 14:09:09.691 +07:00 [DBG] Executed controller factory for controller APIDemo.Controllers.CitiesController (APIDemo)
2023-05-19 14:09:09.697 +07:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-05-19 14:09:09.699 +07:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2023-05-19 14:09:09.702 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2023-05-19 14:09:09.707 +07:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-05-19 14:09:09.714 +07:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-05-19 14:09:09.720 +07:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-05-19 14:09:09.725 +07:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-05-19 14:09:09.732 +07:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-05-19 14:09:09.737 +07:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2023-05-19 14:09:09.744 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2023-05-19 14:09:09.751 +07:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-05-19 14:09:09.755 +07:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-05-19 14:09:09.762 +07:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-05-19 14:09:09.767 +07:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-05-19 14:09:09.771 +07:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-05-19 14:09:09.778 +07:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-05-19 14:09:09.785 +07:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-05-19 14:09:09.788 +07:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-05-19 14:09:09.795 +07:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-05-19 14:09:09.801 +07:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-05-19 14:09:09.807 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-05-19 14:09:09.812 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2023-05-19 14:09:09.822 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-05-19 14:09:09.827 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-05-19 14:09:09.832 +07:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-05-19 14:09:09.840 +07:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-05-19 14:09:09.896 +07:00 [INF] Entity Framework Core 6.0.16 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.16' with options: None
2023-05-19 14:09:09.904 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-19 14:09:09.906 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-19 14:09:09.908 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-19 14:09:09.911 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-19 14:09:09.919 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2023-05-19 14:09:09.926 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2023-05-19 14:09:09.936 +07:00 [DBG] A data reader was disposed.
2023-05-19 14:09:09.938 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-19 14:09:09.943 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-19 14:09:09.950 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-19 14:09:09.953 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-05-19 14:09:09.958 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-19 14:09:09.963 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-19 14:09:09.970 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2023-05-19 14:09:09.978 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2023-05-19 14:09:09.988 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-19 14:09:09.993 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-19 14:09:10.001 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-19 14:09:10.005 +07:00 [DBG] A data reader was disposed.
2023-05-19 14:09:10.009 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-19 14:09:10.017 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-19 14:09:10.021 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-05-19 14:09:10.033 +07:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-05-19 14:09:10.037 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-05-19 14:09:10.045 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[APIDemo.Models.CityWithoutPointOfInterestDTO, APIDemo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-05-19 14:09:10.051 +07:00 [INF] Executed action APIDemo.Controllers.CitiesController.GetCities (APIDemo) in 367.0299ms
2023-05-19 14:09:10.054 +07:00 [INF] Executed endpoint 'APIDemo.Controllers.CitiesController.GetCities (APIDemo)'
2023-05-19 14:09:10.060 +07:00 [DBG] 'CityInfoContext' disposed.
2023-05-19 14:09:10.063 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/api/v/2/cities?pageNumber=1&pageSize=10 - - - 200 153 application/json;+charset=utf-8 434.7370ms
2023-05-19 14:10:41.507 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-05-19 14:10:41.653 +07:00 [DBG] Hosting starting
2023-05-19 14:10:41.674 +07:00 [INF] User profile is available. Using 'C:\Users\Nguyen Huy Linh\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-05-19 14:10:41.678 +07:00 [DBG] Reading data from file 'C:\Users\Nguyen Huy Linh\AppData\Local\ASP.NET\DataProtection-Keys\key-7505044c-b74a-4d7d-8928-0e7c1b1e8a86.xml'.
2023-05-19 14:10:41.690 +07:00 [DBG] Found key {7505044c-b74a-4d7d-8928-0e7c1b1e8a86}.
2023-05-19 14:10:41.704 +07:00 [DBG] Considering key {7505044c-b74a-4d7d-8928-0e7c1b1e8a86} with expiration date 2023-07-20 00:27:35Z as default key.
2023-05-19 14:10:41.707 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-19 14:10:41.713 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-05-19 14:10:41.716 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-19 14:10:41.723 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-05-19 14:10:41.729 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-05-19 14:10:41.733 +07:00 [DBG] Using key {7505044c-b74a-4d7d-8928-0e7c1b1e8a86} as the default key.
2023-05-19 14:10:41.735 +07:00 [DBG] Key ring with default key {7505044c-b74a-4d7d-8928-0e7c1b1e8a86} was loaded during application startup.
2023-05-19 14:10:41.873 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 75D11A6361D7470A96C9C9E8EC2F301CE14CF8DD)
2023-05-19 14:10:41.917 +07:00 [INF] Now listening on: https://localhost:7269
2023-05-19 14:10:41.918 +07:00 [INF] Now listening on: http://localhost:5078
2023-05-19 14:10:41.920 +07:00 [DBG] Loaded hosting startup assembly APIDemo
2023-05-19 14:10:41.921 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-05-19 14:10:41.922 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-05-19 14:10:41.924 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-19 14:10:41.925 +07:00 [INF] Hosting environment: Development
2023-05-19 14:10:41.926 +07:00 [INF] Content root path: C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\
2023-05-19 14:10:41.928 +07:00 [DBG] Hosting started
2023-05-19 14:10:42.140 +07:00 [DBG] Connection id "0HMQO70K5IF8Q" received FIN.
2023-05-19 14:10:42.152 +07:00 [DBG] Connection id "0HMQO70K5IF8Q" accepted.
2023-05-19 14:10:42.157 +07:00 [DBG] Connection id "0HMQO70K5IF8Q" started.
2023-05-19 14:10:42.173 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-19 14:10:42.211 +07:00 [DBG] Connection id "0HMQO70K5IF8Q" stopped.
2023-05-19 14:10:42.218 +07:00 [DBG] Connection id "0HMQO70K5IF8Q" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-19 14:10:42.404 +07:00 [DBG] Connection id "0HMQO70K5IF8R" accepted.
2023-05-19 14:10:42.406 +07:00 [DBG] Connection id "0HMQO70K5IF8R" started.
2023-05-19 14:10:42.464 +07:00 [DBG] Connection 0HMQO70K5IF8R established using the following protocol: "Tls12"
2023-05-19 14:10:42.516 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/index.html - -
2023-05-19 14:10:42.553 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-05-19 14:10:42.581 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-05-19 14:10:42.582 +07:00 [DBG] Request did not match any endpoints
2023-05-19 14:10:42.689 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-05-19 14:10:42.842 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - -
2023-05-19 14:10:42.842 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_vs/browserLink - -
2023-05-19 14:10:42.848 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-05-19 14:10:42.863 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 20.3769ms
2023-05-19 14:10:42.863 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/index.html - - - 200 - text/html;charset=utf-8 351.5941ms
2023-05-19 14:10:42.878 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 36.5601ms
2023-05-19 14:10:42.969 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - -
2023-05-19 14:10:42.971 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-05-19 14:10:42.973 +07:00 [DBG] Request did not match any endpoints
2023-05-19 14:10:43.156 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 186.1821ms
2023-05-19 14:10:52.295 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/api/v/1/cities?pageNumber=1&pageSize=10 - -
2023-05-19 14:10:52.306 +07:00 [DBG] 1 candidate(s) found for the request path '/api/v/1/cities'
2023-05-19 14:10:52.312 +07:00 [DBG] Endpoint 'APIDemo.Controllers.CitiesController.GetCities (APIDemo)' with route pattern 'api/v/{ApiVersion}/cities' is valid for the request path '/api/v/1/cities'
2023-05-19 14:10:52.332 +07:00 [DBG] Request matched endpoint 'APIDemo.Controllers.CitiesController.GetCities (APIDemo)'
2023-05-19 14:10:52.337 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-19 14:10:52.413 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-05-19 14:10:52.420 +07:00 [INF] Executing endpoint 'APIDemo.Controllers.CitiesController.GetCities (APIDemo)'
2023-05-19 14:10:52.458 +07:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[APIDemo.Models.CityDTO]]] GetCities(System.String, System.String, Int32, Int32) on controller APIDemo.Controllers.CitiesController (APIDemo).
2023-05-19 14:10:52.466 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-19 14:10:52.470 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-19 14:10:52.478 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-05-19 14:10:52.486 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-19 14:10:52.493 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-05-19 14:10:52.501 +07:00 [DBG] Executing controller factory for controller APIDemo.Controllers.CitiesController (APIDemo)
2023-05-19 14:10:52.672 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-05-19 14:10:52.885 +07:00 [DBG] Executed controller factory for controller APIDemo.Controllers.CitiesController (APIDemo)
2023-05-19 14:10:52.894 +07:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-05-19 14:10:52.902 +07:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2023-05-19 14:10:52.909 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2023-05-19 14:10:52.916 +07:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-05-19 14:10:52.921 +07:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-05-19 14:10:52.927 +07:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-05-19 14:10:52.934 +07:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-05-19 14:10:52.941 +07:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-05-19 14:10:52.947 +07:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2023-05-19 14:10:52.953 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2023-05-19 14:10:52.961 +07:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-05-19 14:10:52.967 +07:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-05-19 14:10:52.971 +07:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-05-19 14:10:52.979 +07:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-05-19 14:10:52.983 +07:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-05-19 14:10:52.988 +07:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-05-19 14:10:52.997 +07:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-05-19 14:10:53.002 +07:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-05-19 14:10:53.009 +07:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-05-19 14:10:53.015 +07:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-05-19 14:10:53.020 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-05-19 14:10:53.027 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2023-05-19 14:10:53.034 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-05-19 14:10:53.039 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-05-19 14:10:53.045 +07:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-05-19 14:10:53.050 +07:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-05-19 14:10:53.992 +07:00 [INF] Entity Framework Core 6.0.16 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.16' with options: None
2023-05-19 14:10:54.044 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Count()'
2023-05-19 14:10:54.390 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<int>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT COUNT(*)
        FROM Cities AS c), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
    APIDemo.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)
    .Single()'
2023-05-19 14:10:54.442 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-19 14:10:54.523 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (77ms).
2023-05-19 14:10:54.534 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-19 14:10:54.557 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-19 14:10:54.576 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2023-05-19 14:10:54.610 +07:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2023-05-19 14:10:54.628 +07:00 [DBG] A data reader was disposed.
2023-05-19 14:10:54.636 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-19 14:10:54.649 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-19 14:10:54.669 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)
    .Skip(__p_0)
    .Take(__p_1)'
2023-05-19 14:10:54.753 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(50), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    APIDemo.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-05-19 14:10:54.779 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-19 14:10:54.780 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-19 14:10:54.794 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-19 14:10:54.798 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-19 14:10:54.807 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2023-05-19 14:10:54.827 +07:00 [INF] Executed DbCommand (25ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2023-05-19 14:10:54.852 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-19 14:10:54.893 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-19 14:10:54.900 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-19 14:10:54.910 +07:00 [DBG] A data reader was disposed.
2023-05-19 14:10:54.920 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-19 14:10:54.925 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-19 14:10:55.088 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-05-19 14:10:55.097 +07:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-05-19 14:10:55.100 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-05-19 14:10:55.102 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[APIDemo.Models.CityWithoutPointOfInterestDTO, APIDemo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-05-19 14:10:55.158 +07:00 [INF] Executed action APIDemo.Controllers.CitiesController.GetCities (APIDemo) in 2645.7199ms
2023-05-19 14:10:55.165 +07:00 [INF] Executed endpoint 'APIDemo.Controllers.CitiesController.GetCities (APIDemo)'
2023-05-19 14:10:55.178 +07:00 [DBG] 'CityInfoContext' disposed.
2023-05-19 14:10:55.183 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/api/v/1/cities?pageNumber=1&pageSize=10 - - - 200 153 application/json;+charset=utf-8 2888.5401ms
2023-05-19 14:11:00.131 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/api/v/2/cities?pageNumber=1&pageSize=10 - -
2023-05-19 14:11:00.134 +07:00 [DBG] 1 candidate(s) found for the request path '/api/v/2/cities'
2023-05-19 14:11:00.136 +07:00 [DBG] Endpoint 'APIDemo.Controllers.CitiesController.GetCities (APIDemo)' with route pattern 'api/v/{ApiVersion}/cities' is valid for the request path '/api/v/2/cities'
2023-05-19 14:11:00.139 +07:00 [DBG] Request matched endpoint 'APIDemo.Controllers.CitiesController.GetCities (APIDemo)'
2023-05-19 14:11:00.141 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-19 14:11:00.143 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-05-19 14:11:00.147 +07:00 [INF] Executing endpoint 'APIDemo.Controllers.CitiesController.GetCities (APIDemo)'
2023-05-19 14:11:00.149 +07:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[APIDemo.Models.CityDTO]]] GetCities(System.String, System.String, Int32, Int32) on controller APIDemo.Controllers.CitiesController (APIDemo).
2023-05-19 14:11:00.153 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-19 14:11:00.158 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-19 14:11:00.165 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-05-19 14:11:00.173 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-19 14:11:00.179 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-05-19 14:11:00.183 +07:00 [DBG] Executing controller factory for controller APIDemo.Controllers.CitiesController (APIDemo)
2023-05-19 14:11:00.188 +07:00 [DBG] Executed controller factory for controller APIDemo.Controllers.CitiesController (APIDemo)
2023-05-19 14:11:00.190 +07:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-05-19 14:11:00.192 +07:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2023-05-19 14:11:00.197 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2023-05-19 14:11:00.199 +07:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-05-19 14:11:00.200 +07:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-05-19 14:11:00.202 +07:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-05-19 14:11:00.205 +07:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-05-19 14:11:00.207 +07:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-05-19 14:11:00.211 +07:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2023-05-19 14:11:00.213 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2023-05-19 14:11:00.216 +07:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-05-19 14:11:00.218 +07:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-05-19 14:11:00.220 +07:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-05-19 14:11:00.222 +07:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-05-19 14:11:00.226 +07:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-05-19 14:11:00.228 +07:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-05-19 14:11:00.231 +07:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-05-19 14:11:00.233 +07:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-05-19 14:11:00.236 +07:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-05-19 14:11:00.238 +07:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-05-19 14:11:00.244 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-05-19 14:11:00.250 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2023-05-19 14:11:00.255 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-05-19 14:11:00.262 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-05-19 14:11:00.267 +07:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-05-19 14:11:00.271 +07:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-05-19 14:11:00.279 +07:00 [INF] Entity Framework Core 6.0.16 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.16' with options: None
2023-05-19 14:11:00.285 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-19 14:11:00.291 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2023-05-19 14:11:00.296 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-19 14:11:00.301 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-19 14:11:00.309 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2023-05-19 14:11:00.317 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2023-05-19 14:11:00.328 +07:00 [DBG] A data reader was disposed.
2023-05-19 14:11:00.331 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-19 14:11:00.339 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-19 14:11:00.347 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-19 14:11:00.350 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-05-19 14:11:00.358 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-19 14:11:00.363 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-19 14:11:00.371 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2023-05-19 14:11:00.380 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2023-05-19 14:11:00.391 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-19 14:11:00.395 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-19 14:11:00.399 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-19 14:11:00.405 +07:00 [DBG] A data reader was disposed.
2023-05-19 14:11:00.408 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-19 14:11:00.414 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-19 14:11:00.419 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-05-19 14:11:00.425 +07:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-05-19 14:11:00.428 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-05-19 14:11:00.435 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[APIDemo.Models.CityWithoutPointOfInterestDTO, APIDemo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-05-19 14:11:00.440 +07:00 [INF] Executed action APIDemo.Controllers.CitiesController.GetCities (APIDemo) in 256.6799ms
2023-05-19 14:11:00.443 +07:00 [INF] Executed endpoint 'APIDemo.Controllers.CitiesController.GetCities (APIDemo)'
2023-05-19 14:11:00.449 +07:00 [DBG] 'CityInfoContext' disposed.
2023-05-19 14:11:00.451 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/api/v/2/cities?pageNumber=1&pageSize=10 - - - 200 153 application/json;+charset=utf-8 320.2123ms
2023-05-19 14:11:05.836 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/api/v/2/cities?pageNumber=1&pageSize=10 - -
2023-05-19 14:11:05.838 +07:00 [DBG] 1 candidate(s) found for the request path '/api/v/2/cities'
2023-05-19 14:11:05.849 +07:00 [DBG] Endpoint 'APIDemo.Controllers.CitiesController.GetCities (APIDemo)' with route pattern 'api/v/{ApiVersion}/cities' is valid for the request path '/api/v/2/cities'
2023-05-19 14:11:05.855 +07:00 [DBG] Request matched endpoint 'APIDemo.Controllers.CitiesController.GetCities (APIDemo)'
2023-05-19 14:11:05.858 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-19 14:11:05.862 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-05-19 14:11:05.864 +07:00 [INF] Executing endpoint 'APIDemo.Controllers.CitiesController.GetCities (APIDemo)'
2023-05-19 14:11:05.869 +07:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[APIDemo.Models.CityDTO]]] GetCities(System.String, System.String, Int32, Int32) on controller APIDemo.Controllers.CitiesController (APIDemo).
2023-05-19 14:11:05.875 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-19 14:11:05.879 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-19 14:11:05.884 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-05-19 14:11:05.891 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-19 14:11:05.895 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-05-19 14:11:05.902 +07:00 [DBG] Executing controller factory for controller APIDemo.Controllers.CitiesController (APIDemo)
2023-05-19 14:11:05.908 +07:00 [DBG] Executed controller factory for controller APIDemo.Controllers.CitiesController (APIDemo)
2023-05-19 14:11:05.911 +07:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-05-19 14:11:05.917 +07:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2023-05-19 14:11:05.922 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2023-05-19 14:11:05.928 +07:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-05-19 14:11:05.935 +07:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-05-19 14:11:05.939 +07:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-05-19 14:11:05.945 +07:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-05-19 14:11:05.952 +07:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-05-19 14:11:05.956 +07:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2023-05-19 14:11:05.964 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2023-05-19 14:11:05.970 +07:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-05-19 14:11:05.975 +07:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-05-19 14:11:05.982 +07:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-05-19 14:11:05.985 +07:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-05-19 14:11:05.989 +07:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-05-19 14:11:05.996 +07:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-05-19 14:11:06.003 +07:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-05-19 14:11:06.007 +07:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-05-19 14:11:06.013 +07:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-05-19 14:11:06.016 +07:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-05-19 14:11:06.018 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-05-19 14:11:06.023 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2023-05-19 14:11:06.031 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-05-19 14:11:06.036 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-05-19 14:11:06.040 +07:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-05-19 14:11:06.047 +07:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-05-19 14:11:06.120 +07:00 [INF] Entity Framework Core 6.0.16 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.16' with options: None
2023-05-19 14:11:06.131 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-19 14:11:06.135 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2023-05-19 14:11:06.144 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-19 14:11:06.151 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-19 14:11:06.160 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2023-05-19 14:11:06.175 +07:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2023-05-19 14:11:06.185 +07:00 [DBG] A data reader was disposed.
2023-05-19 14:11:06.194 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-19 14:11:06.200 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-19 14:11:06.208 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-19 14:11:06.211 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-05-19 14:11:06.214 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-19 14:11:06.218 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-19 14:11:06.222 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2023-05-19 14:11:06.226 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2023-05-19 14:11:06.235 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-19 14:11:06.239 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-19 14:11:06.243 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-19 14:11:06.247 +07:00 [DBG] A data reader was disposed.
2023-05-19 14:11:06.251 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-19 14:11:06.256 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-19 14:11:06.259 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-05-19 14:11:06.271 +07:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-05-19 14:11:06.277 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-05-19 14:11:06.287 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[APIDemo.Models.CityWithoutPointOfInterestDTO, APIDemo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-05-19 14:11:06.293 +07:00 [INF] Executed action APIDemo.Controllers.CitiesController.GetCities (APIDemo) in 391.6616ms
2023-05-19 14:11:06.302 +07:00 [INF] Executed endpoint 'APIDemo.Controllers.CitiesController.GetCities (APIDemo)'
2023-05-19 14:11:06.306 +07:00 [DBG] 'CityInfoContext' disposed.
2023-05-19 14:11:06.311 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/api/v/2/cities?pageNumber=1&pageSize=10 - - - 200 153 application/json;+charset=utf-8 475.3645ms
2023-05-19 14:11:07.094 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/api/v/2/cities?pageNumber=1&pageSize=10 - -
2023-05-19 14:11:07.097 +07:00 [DBG] 1 candidate(s) found for the request path '/api/v/2/cities'
2023-05-19 14:11:07.099 +07:00 [DBG] Endpoint 'APIDemo.Controllers.CitiesController.GetCities (APIDemo)' with route pattern 'api/v/{ApiVersion}/cities' is valid for the request path '/api/v/2/cities'
2023-05-19 14:11:07.101 +07:00 [DBG] Request matched endpoint 'APIDemo.Controllers.CitiesController.GetCities (APIDemo)'
2023-05-19 14:11:07.103 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-19 14:11:07.105 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-05-19 14:11:07.109 +07:00 [INF] Executing endpoint 'APIDemo.Controllers.CitiesController.GetCities (APIDemo)'
2023-05-19 14:11:07.112 +07:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[APIDemo.Models.CityDTO]]] GetCities(System.String, System.String, Int32, Int32) on controller APIDemo.Controllers.CitiesController (APIDemo).
2023-05-19 14:11:07.122 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-19 14:11:07.127 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-19 14:11:07.134 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-05-19 14:11:07.142 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-19 14:11:07.149 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-05-19 14:11:07.155 +07:00 [DBG] Executing controller factory for controller APIDemo.Controllers.CitiesController (APIDemo)
2023-05-19 14:11:07.160 +07:00 [DBG] Executed controller factory for controller APIDemo.Controllers.CitiesController (APIDemo)
2023-05-19 14:11:07.166 +07:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-05-19 14:11:07.171 +07:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2023-05-19 14:11:07.176 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2023-05-19 14:11:07.183 +07:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-05-19 14:11:07.187 +07:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-05-19 14:11:07.191 +07:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-05-19 14:11:07.198 +07:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-05-19 14:11:07.202 +07:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-05-19 14:11:07.206 +07:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2023-05-19 14:11:07.212 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2023-05-19 14:11:07.218 +07:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-05-19 14:11:07.223 +07:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-05-19 14:11:07.231 +07:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-05-19 14:11:07.237 +07:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-05-19 14:11:07.241 +07:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-05-19 14:11:07.247 +07:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-05-19 14:11:07.253 +07:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-05-19 14:11:07.260 +07:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-05-19 14:11:07.265 +07:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-05-19 14:11:07.270 +07:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-05-19 14:11:07.278 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-05-19 14:11:07.283 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2023-05-19 14:11:07.291 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-05-19 14:11:07.293 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-05-19 14:11:07.296 +07:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-05-19 14:11:07.300 +07:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-05-19 14:11:07.308 +07:00 [INF] Entity Framework Core 6.0.16 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.16' with options: None
2023-05-19 14:11:07.316 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-19 14:11:07.322 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2023-05-19 14:11:07.326 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-19 14:11:07.331 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-19 14:11:07.339 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2023-05-19 14:11:07.347 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2023-05-19 14:11:07.357 +07:00 [DBG] A data reader was disposed.
2023-05-19 14:11:07.361 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-19 14:11:07.368 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-19 14:11:07.373 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-19 14:11:07.376 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-05-19 14:11:07.382 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-19 14:11:07.389 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-19 14:11:07.393 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2023-05-19 14:11:07.404 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2023-05-19 14:11:07.411 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-19 14:11:07.419 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-19 14:11:07.423 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-19 14:11:07.428 +07:00 [DBG] A data reader was disposed.
2023-05-19 14:11:07.433 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-19 14:11:07.438 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-19 14:11:07.441 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-05-19 14:11:07.453 +07:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-05-19 14:11:07.456 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-05-19 14:11:07.461 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[APIDemo.Models.CityWithoutPointOfInterestDTO, APIDemo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-05-19 14:11:07.470 +07:00 [INF] Executed action APIDemo.Controllers.CitiesController.GetCities (APIDemo) in 314.9714ms
2023-05-19 14:11:07.473 +07:00 [INF] Executed endpoint 'APIDemo.Controllers.CitiesController.GetCities (APIDemo)'
2023-05-19 14:11:07.475 +07:00 [DBG] 'CityInfoContext' disposed.
2023-05-19 14:11:07.479 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/api/v/2/cities?pageNumber=1&pageSize=10 - - - 200 153 application/json;+charset=utf-8 384.7438ms
2023-05-19 14:11:50.450 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-05-19 14:11:50.607 +07:00 [DBG] Hosting starting
2023-05-19 14:11:50.628 +07:00 [INF] User profile is available. Using 'C:\Users\Nguyen Huy Linh\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-05-19 14:11:50.633 +07:00 [DBG] Reading data from file 'C:\Users\Nguyen Huy Linh\AppData\Local\ASP.NET\DataProtection-Keys\key-7505044c-b74a-4d7d-8928-0e7c1b1e8a86.xml'.
2023-05-19 14:11:50.645 +07:00 [DBG] Found key {7505044c-b74a-4d7d-8928-0e7c1b1e8a86}.
2023-05-19 14:11:50.664 +07:00 [DBG] Considering key {7505044c-b74a-4d7d-8928-0e7c1b1e8a86} with expiration date 2023-07-20 00:27:35Z as default key.
2023-05-19 14:11:50.668 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-19 14:11:50.675 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-05-19 14:11:50.681 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-19 14:11:50.687 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-05-19 14:11:50.692 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-05-19 14:11:50.699 +07:00 [DBG] Using key {7505044c-b74a-4d7d-8928-0e7c1b1e8a86} as the default key.
2023-05-19 14:11:50.701 +07:00 [DBG] Key ring with default key {7505044c-b74a-4d7d-8928-0e7c1b1e8a86} was loaded during application startup.
2023-05-19 14:11:50.829 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 75D11A6361D7470A96C9C9E8EC2F301CE14CF8DD)
2023-05-19 14:11:50.873 +07:00 [INF] Now listening on: https://localhost:7269
2023-05-19 14:11:50.874 +07:00 [INF] Now listening on: http://localhost:5078
2023-05-19 14:11:50.876 +07:00 [DBG] Loaded hosting startup assembly APIDemo
2023-05-19 14:11:50.878 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-05-19 14:11:50.880 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-05-19 14:11:50.882 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-19 14:11:50.883 +07:00 [INF] Hosting environment: Development
2023-05-19 14:11:50.884 +07:00 [INF] Content root path: C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\
2023-05-19 14:11:50.887 +07:00 [DBG] Hosting started
2023-05-19 14:11:51.336 +07:00 [DBG] Connection id "0HMQO718PFC2N" received FIN.
2023-05-19 14:11:51.347 +07:00 [DBG] Connection id "0HMQO718PFC2N" accepted.
2023-05-19 14:11:51.351 +07:00 [DBG] Connection id "0HMQO718PFC2N" started.
2023-05-19 14:11:51.367 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-19 14:11:51.404 +07:00 [DBG] Connection id "0HMQO718PFC2N" stopped.
2023-05-19 14:11:51.410 +07:00 [DBG] Connection id "0HMQO718PFC2N" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-19 14:11:51.590 +07:00 [DBG] Connection id "0HMQO718PFC2O" accepted.
2023-05-19 14:11:51.593 +07:00 [DBG] Connection id "0HMQO718PFC2O" started.
2023-05-19 14:11:51.654 +07:00 [DBG] Connection 0HMQO718PFC2O established using the following protocol: "Tls12"
2023-05-19 14:11:51.701 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/index.html - -
2023-05-19 14:11:51.738 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-05-19 14:11:51.769 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-05-19 14:11:51.773 +07:00 [DBG] Request did not match any endpoints
2023-05-19 14:11:51.882 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-05-19 14:11:52.032 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - -
2023-05-19 14:11:52.032 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_vs/browserLink - -
2023-05-19 14:11:52.044 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 8.1311ms
2023-05-19 14:11:52.045 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-05-19 14:11:52.054 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/index.html - - - 200 - text/html;charset=utf-8 357.1807ms
2023-05-19 14:11:52.061 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 29.3253ms
2023-05-19 14:11:52.160 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - -
2023-05-19 14:11:52.162 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-05-19 14:11:52.165 +07:00 [DBG] Request did not match any endpoints
2023-05-19 14:11:52.343 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 182.7403ms
2023-05-19 14:12:07.009 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/api/v/1/cities?pageNumber=1&pageSize=10 - -
2023-05-19 14:12:07.019 +07:00 [DBG] 1 candidate(s) found for the request path '/api/v/1/cities'
2023-05-19 14:12:07.025 +07:00 [DBG] Endpoint 'APIDemo.Controllers.CitiesController.GetCities (APIDemo)' with route pattern 'api/v/{ApiVersion}/cities' is valid for the request path '/api/v/1/cities'
2023-05-19 14:12:07.046 +07:00 [DBG] Request matched endpoint 'APIDemo.Controllers.CitiesController.GetCities (APIDemo)'
2023-05-19 14:12:07.050 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-19 14:12:07.131 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-05-19 14:12:07.138 +07:00 [INF] Executing endpoint 'APIDemo.Controllers.CitiesController.GetCities (APIDemo)'
2023-05-19 14:12:07.174 +07:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[APIDemo.Models.CityDTO]]] GetCities(System.String, System.String, Int32, Int32) on controller APIDemo.Controllers.CitiesController (APIDemo).
2023-05-19 14:12:07.178 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-19 14:12:07.181 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-19 14:12:07.186 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-05-19 14:12:07.190 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-19 14:12:07.195 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-05-19 14:12:07.204 +07:00 [DBG] Executing controller factory for controller APIDemo.Controllers.CitiesController (APIDemo)
2023-05-19 14:12:07.376 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-05-19 14:12:07.594 +07:00 [DBG] Executed controller factory for controller APIDemo.Controllers.CitiesController (APIDemo)
2023-05-19 14:12:07.602 +07:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-05-19 14:12:07.606 +07:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2023-05-19 14:12:07.608 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2023-05-19 14:12:07.611 +07:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-05-19 14:12:07.613 +07:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-05-19 14:12:07.616 +07:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-05-19 14:12:07.622 +07:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-05-19 14:12:07.631 +07:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-05-19 14:12:07.634 +07:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2023-05-19 14:12:07.641 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2023-05-19 14:12:07.646 +07:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-05-19 14:12:07.650 +07:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-05-19 14:12:07.659 +07:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-05-19 14:12:07.664 +07:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-05-19 14:12:07.668 +07:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-05-19 14:12:07.675 +07:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-05-19 14:12:07.684 +07:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-05-19 14:12:07.690 +07:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-05-19 14:12:07.695 +07:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-05-19 14:12:07.700 +07:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-05-19 14:12:07.705 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-05-19 14:12:07.711 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2023-05-19 14:12:07.718 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-05-19 14:12:07.723 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-05-19 14:12:07.728 +07:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-05-19 14:12:07.734 +07:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-05-19 14:12:08.770 +07:00 [INF] Entity Framework Core 6.0.16 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.16' with options: None
2023-05-19 14:12:08.823 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Count()'
2023-05-19 14:12:09.163 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<int>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT COUNT(*)
        FROM Cities AS c), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
    APIDemo.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)
    .Single()'
2023-05-19 14:12:09.212 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-19 14:12:09.292 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (75ms).
2023-05-19 14:12:09.302 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-19 14:12:09.327 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-19 14:12:09.344 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2023-05-19 14:12:09.381 +07:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2023-05-19 14:12:09.398 +07:00 [DBG] A data reader was disposed.
2023-05-19 14:12:09.406 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-19 14:12:09.418 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-19 14:12:09.443 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)
    .Skip(__p_0)
    .Take(__p_1)'
2023-05-19 14:12:09.529 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(50), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    APIDemo.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-05-19 14:12:09.555 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-19 14:12:09.557 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-19 14:12:09.571 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-19 14:12:09.577 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-19 14:12:09.589 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2023-05-19 14:12:09.608 +07:00 [INF] Executed DbCommand (24ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2023-05-19 14:12:09.640 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-19 14:12:09.673 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-19 14:12:09.678 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-19 14:12:09.687 +07:00 [DBG] A data reader was disposed.
2023-05-19 14:12:09.700 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-19 14:12:09.706 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-19 14:12:09.861 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-05-19 14:12:09.871 +07:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-05-19 14:12:09.873 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-05-19 14:12:09.876 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[APIDemo.Models.CityWithoutPointOfInterestDTO, APIDemo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-05-19 14:12:09.926 +07:00 [INF] Executed action APIDemo.Controllers.CitiesController.GetCities (APIDemo) in 2717.3061ms
2023-05-19 14:12:09.932 +07:00 [INF] Executed endpoint 'APIDemo.Controllers.CitiesController.GetCities (APIDemo)'
2023-05-19 14:12:09.941 +07:00 [DBG] 'CityInfoContext' disposed.
2023-05-19 14:12:09.948 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/api/v/1/cities?pageNumber=1&pageSize=10 - - - 200 153 application/json;+charset=utf-8 2938.7562ms
2023-05-19 14:12:13.114 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/api/v/2/cities?pageNumber=1&pageSize=10 - -
2023-05-19 14:12:13.117 +07:00 [DBG] 1 candidate(s) found for the request path '/api/v/2/cities'
2023-05-19 14:12:13.119 +07:00 [DBG] Endpoint 'APIDemo.Controllers.CitiesController.GetCities (APIDemo)' with route pattern 'api/v/{ApiVersion}/cities' is valid for the request path '/api/v/2/cities'
2023-05-19 14:12:13.122 +07:00 [DBG] Request matched endpoint 'APIDemo.Controllers.CitiesController.GetCities (APIDemo)'
2023-05-19 14:12:13.125 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-19 14:12:13.128 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-05-19 14:12:13.130 +07:00 [INF] Executing endpoint 'APIDemo.Controllers.CitiesController.GetCities (APIDemo)'
2023-05-19 14:12:13.133 +07:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[APIDemo.Models.CityDTO]]] GetCities(System.String, System.String, Int32, Int32) on controller APIDemo.Controllers.CitiesController (APIDemo).
2023-05-19 14:12:13.141 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-19 14:12:13.146 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-19 14:12:13.153 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-05-19 14:12:13.162 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-19 14:12:13.170 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-05-19 14:12:13.178 +07:00 [DBG] Executing controller factory for controller APIDemo.Controllers.CitiesController (APIDemo)
2023-05-19 14:12:13.185 +07:00 [DBG] Executed controller factory for controller APIDemo.Controllers.CitiesController (APIDemo)
2023-05-19 14:12:13.190 +07:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-05-19 14:12:13.195 +07:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2023-05-19 14:12:13.203 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2023-05-19 14:12:13.209 +07:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-05-19 14:12:13.216 +07:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-05-19 14:12:13.219 +07:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-05-19 14:12:13.222 +07:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-05-19 14:12:13.226 +07:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-05-19 14:12:13.234 +07:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2023-05-19 14:12:13.240 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2023-05-19 14:12:13.248 +07:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-05-19 14:12:13.255 +07:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-05-19 14:12:13.262 +07:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-05-19 14:12:13.266 +07:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-05-19 14:12:13.271 +07:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-05-19 14:12:13.277 +07:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-05-19 14:12:13.283 +07:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-05-19 14:12:13.287 +07:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-05-19 14:12:13.290 +07:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-05-19 14:12:13.298 +07:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-05-19 14:12:13.302 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-05-19 14:12:13.308 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2023-05-19 14:12:13.315 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-05-19 14:12:13.318 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-05-19 14:12:13.325 +07:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-05-19 14:12:13.330 +07:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-05-19 14:12:13.335 +07:00 [INF] Entity Framework Core 6.0.16 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.16' with options: None
2023-05-19 14:12:13.344 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-19 14:12:13.348 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2023-05-19 14:12:13.352 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-19 14:12:13.359 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-19 14:12:13.365 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2023-05-19 14:12:13.373 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2023-05-19 14:12:13.383 +07:00 [DBG] A data reader was disposed.
2023-05-19 14:12:13.385 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-19 14:12:13.392 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-19 14:12:13.402 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-19 14:12:13.406 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2023-05-19 14:12:13.411 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-19 14:12:13.416 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-19 14:12:13.421 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2023-05-19 14:12:13.429 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2023-05-19 14:12:13.439 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-19 14:12:13.442 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-19 14:12:13.447 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-19 14:12:13.453 +07:00 [DBG] A data reader was disposed.
2023-05-19 14:12:13.455 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-19 14:12:13.458 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-19 14:12:13.461 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-05-19 14:12:13.473 +07:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-05-19 14:12:13.478 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-05-19 14:12:13.484 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[APIDemo.Models.CityWithoutPointOfInterestDTO, APIDemo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-05-19 14:12:13.490 +07:00 [INF] Executed action APIDemo.Controllers.CitiesController.GetCities (APIDemo) in 312.3491ms
2023-05-19 14:12:13.494 +07:00 [INF] Executed endpoint 'APIDemo.Controllers.CitiesController.GetCities (APIDemo)'
2023-05-19 14:12:13.500 +07:00 [DBG] 'CityInfoContext' disposed.
2023-05-19 14:12:13.502 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/api/v/2/cities?pageNumber=1&pageSize=10 - - - 200 153 application/json;+charset=utf-8 387.5393ms
2023-05-19 14:12:14.859 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/api/v/2/cities?pageNumber=1&pageSize=10 - -
2023-05-19 14:12:14.861 +07:00 [DBG] 1 candidate(s) found for the request path '/api/v/2/cities'
2023-05-19 14:12:14.864 +07:00 [DBG] Endpoint 'APIDemo.Controllers.CitiesController.GetCities (APIDemo)' with route pattern 'api/v/{ApiVersion}/cities' is valid for the request path '/api/v/2/cities'
2023-05-19 14:12:14.867 +07:00 [DBG] Request matched endpoint 'APIDemo.Controllers.CitiesController.GetCities (APIDemo)'
2023-05-19 14:12:14.869 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-19 14:12:14.872 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-05-19 14:12:14.873 +07:00 [INF] Executing endpoint 'APIDemo.Controllers.CitiesController.GetCities (APIDemo)'
2023-05-19 14:12:14.877 +07:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[APIDemo.Models.CityDTO]]] GetCities(System.String, System.String, Int32, Int32) on controller APIDemo.Controllers.CitiesController (APIDemo).
2023-05-19 14:12:14.880 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-19 14:12:14.883 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-19 14:12:14.886 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-05-19 14:12:14.893 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-19 14:12:14.895 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-05-19 14:12:14.899 +07:00 [DBG] Executing controller factory for controller APIDemo.Controllers.CitiesController (APIDemo)
2023-05-19 14:12:14.903 +07:00 [DBG] Executed controller factory for controller APIDemo.Controllers.CitiesController (APIDemo)
2023-05-19 14:12:14.905 +07:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-05-19 14:12:14.909 +07:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2023-05-19 14:12:14.912 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2023-05-19 14:12:14.914 +07:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-05-19 14:12:14.917 +07:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-05-19 14:12:14.923 +07:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-05-19 14:12:14.926 +07:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-05-19 14:12:14.930 +07:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-05-19 14:12:14.934 +07:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2023-05-19 14:12:14.940 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2023-05-19 14:12:14.946 +07:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-05-19 14:12:14.950 +07:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-05-19 14:12:14.957 +07:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-05-19 14:12:14.962 +07:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-05-19 14:12:14.969 +07:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-05-19 14:12:14.974 +07:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-05-19 14:12:14.983 +07:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-05-19 14:12:14.988 +07:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-05-19 14:12:14.994 +07:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-05-19 14:12:15.000 +07:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-05-19 14:12:15.005 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-05-19 14:12:15.010 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2023-05-19 14:12:15.018 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-05-19 14:12:15.023 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-05-19 14:12:15.028 +07:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-05-19 14:12:15.034 +07:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-05-19 14:12:15.112 +07:00 [INF] Entity Framework Core 6.0.16 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.16' with options: None
2023-05-19 14:12:15.120 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-19 14:12:15.123 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-05-19 14:12:15.129 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-19 14:12:15.133 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-19 14:12:15.140 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2023-05-19 14:12:15.144 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2023-05-19 14:12:15.153 +07:00 [DBG] A data reader was disposed.
2023-05-19 14:12:15.156 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-19 14:12:15.162 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-19 14:12:15.167 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-19 14:12:15.172 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2023-05-19 14:12:15.177 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-19 14:12:15.182 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-19 14:12:15.189 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2023-05-19 14:12:15.198 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2023-05-19 14:12:15.209 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-19 14:12:15.215 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-19 14:12:15.224 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-19 14:12:15.229 +07:00 [DBG] A data reader was disposed.
2023-05-19 14:12:15.235 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-19 14:12:15.241 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-19 14:12:15.246 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-05-19 14:12:15.260 +07:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-05-19 14:12:15.267 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-05-19 14:12:15.272 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[APIDemo.Models.CityWithoutPointOfInterestDTO, APIDemo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-05-19 14:12:15.278 +07:00 [INF] Executed action APIDemo.Controllers.CitiesController.GetCities (APIDemo) in 378.6405ms
2023-05-19 14:12:15.283 +07:00 [INF] Executed endpoint 'APIDemo.Controllers.CitiesController.GetCities (APIDemo)'
2023-05-19 14:12:15.287 +07:00 [DBG] 'CityInfoContext' disposed.
2023-05-19 14:12:15.290 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/api/v/2/cities?pageNumber=1&pageSize=10 - - - 200 153 application/json;+charset=utf-8 431.2300ms
2023-05-19 14:12:35.616 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/api/v/1/cities/1/pointsofinterest - -
2023-05-19 14:12:35.618 +07:00 [DBG] 1 candidate(s) found for the request path '/api/v/1/cities/1/pointsofinterest'
2023-05-19 14:12:35.620 +07:00 [DBG] Endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo)' with route pattern 'api/v/{ApiVersion}/cities/{cityId}/pointsofinterest' is valid for the request path '/api/v/1/cities/1/pointsofinterest'
2023-05-19 14:12:35.631 +07:00 [INF] Request did not specify a service API version, but multiple candidate actions were found. Candidate actions: APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo)
2023-05-19 14:12:35.637 +07:00 [DBG] Request matched endpoint 'null'
2023-05-19 14:12:35.638 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-19 14:12:35.639 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-05-19 14:12:35.641 +07:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Http.Endpoint'
2023-05-19 14:12:35.645 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-05-19 14:12:35.651 +07:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-05-19 14:12:35.655 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-05-19 14:12:35.658 +07:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`1[[<>f__AnonymousType1`3[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Microsoft.AspNetCore.Mvc.Versioning, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60]], Microsoft.AspNetCore.Mvc.Versioning, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60]]'.
2023-05-19 14:12:35.665 +07:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Http.Endpoint'
2023-05-19 14:12:35.671 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/api/v/1/cities/1/pointsofinterest - - - 400 196 application/json;+charset=utf-8 55.0089ms
2023-05-19 14:13:48.177 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-05-19 14:13:48.320 +07:00 [DBG] Hosting starting
2023-05-19 14:13:48.345 +07:00 [INF] User profile is available. Using 'C:\Users\Nguyen Huy Linh\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-05-19 14:13:48.351 +07:00 [DBG] Reading data from file 'C:\Users\Nguyen Huy Linh\AppData\Local\ASP.NET\DataProtection-Keys\key-7505044c-b74a-4d7d-8928-0e7c1b1e8a86.xml'.
2023-05-19 14:13:48.365 +07:00 [DBG] Found key {7505044c-b74a-4d7d-8928-0e7c1b1e8a86}.
2023-05-19 14:13:48.383 +07:00 [DBG] Considering key {7505044c-b74a-4d7d-8928-0e7c1b1e8a86} with expiration date 2023-07-20 00:27:35Z as default key.
2023-05-19 14:13:48.389 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-19 14:13:48.398 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-05-19 14:13:48.402 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-19 14:13:48.414 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-05-19 14:13:48.421 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-05-19 14:13:48.429 +07:00 [DBG] Using key {7505044c-b74a-4d7d-8928-0e7c1b1e8a86} as the default key.
2023-05-19 14:13:48.432 +07:00 [DBG] Key ring with default key {7505044c-b74a-4d7d-8928-0e7c1b1e8a86} was loaded during application startup.
2023-05-19 14:13:48.573 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 75D11A6361D7470A96C9C9E8EC2F301CE14CF8DD)
2023-05-19 14:13:48.619 +07:00 [INF] Now listening on: https://localhost:7269
2023-05-19 14:13:48.621 +07:00 [INF] Now listening on: http://localhost:5078
2023-05-19 14:13:48.622 +07:00 [DBG] Loaded hosting startup assembly APIDemo
2023-05-19 14:13:48.624 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-05-19 14:13:48.626 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-05-19 14:13:48.627 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-19 14:13:48.630 +07:00 [INF] Hosting environment: Development
2023-05-19 14:13:48.634 +07:00 [INF] Content root path: C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\
2023-05-19 14:13:48.638 +07:00 [DBG] Hosting started
2023-05-19 14:13:48.728 +07:00 [DBG] Connection id "0HMQO72BP0BER" received FIN.
2023-05-19 14:13:48.754 +07:00 [DBG] Connection id "0HMQO72BP0BER" accepted.
2023-05-19 14:13:48.757 +07:00 [DBG] Connection id "0HMQO72BP0BER" started.
2023-05-19 14:13:48.774 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-19 14:13:48.810 +07:00 [DBG] Connection id "0HMQO72BP0BER" stopped.
2023-05-19 14:13:48.815 +07:00 [DBG] Connection id "0HMQO72BP0BER" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-19 14:13:49.013 +07:00 [DBG] Connection id "0HMQO72BP0BES" accepted.
2023-05-19 14:13:49.016 +07:00 [DBG] Connection id "0HMQO72BP0BES" started.
2023-05-19 14:13:49.064 +07:00 [DBG] Connection 0HMQO72BP0BES established using the following protocol: "Tls12"
2023-05-19 14:13:49.118 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/index.html - -
2023-05-19 14:13:49.152 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-05-19 14:13:49.179 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-05-19 14:13:49.181 +07:00 [DBG] Request did not match any endpoints
2023-05-19 14:13:49.287 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-05-19 14:13:49.438 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - -
2023-05-19 14:13:49.438 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_vs/browserLink - -
2023-05-19 14:13:49.443 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-05-19 14:13:49.457 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 18.2534ms
2023-05-19 14:13:49.457 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/index.html - - - 200 - text/html;charset=utf-8 344.6937ms
2023-05-19 14:13:49.472 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 34.6034ms
2023-05-19 14:13:49.564 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - -
2023-05-19 14:13:49.565 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-05-19 14:13:49.568 +07:00 [DBG] Request did not match any endpoints
2023-05-19 14:13:49.744 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 180.5804ms
2023-05-19 14:13:56.172 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/api/v/1/cities?pageNumber=1&pageSize=10 - -
2023-05-19 14:13:56.184 +07:00 [DBG] 1 candidate(s) found for the request path '/api/v/1/cities'
2023-05-19 14:13:56.190 +07:00 [DBG] Endpoint 'APIDemo.Controllers.CitiesController.GetCities (APIDemo)' with route pattern 'api/v/{ApiVersion}/cities' is valid for the request path '/api/v/1/cities'
2023-05-19 14:13:56.210 +07:00 [DBG] Request matched endpoint 'APIDemo.Controllers.CitiesController.GetCities (APIDemo)'
2023-05-19 14:13:56.212 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-19 14:13:56.280 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-05-19 14:13:56.285 +07:00 [INF] Executing endpoint 'APIDemo.Controllers.CitiesController.GetCities (APIDemo)'
2023-05-19 14:13:56.326 +07:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[APIDemo.Models.CityDTO]]] GetCities(System.String, System.String, Int32, Int32) on controller APIDemo.Controllers.CitiesController (APIDemo).
2023-05-19 14:13:56.336 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-19 14:13:56.343 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-19 14:13:56.350 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-05-19 14:13:56.361 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-19 14:13:56.366 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-05-19 14:13:56.377 +07:00 [DBG] Executing controller factory for controller APIDemo.Controllers.CitiesController (APIDemo)
2023-05-19 14:13:56.556 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-05-19 14:13:56.774 +07:00 [DBG] Executed controller factory for controller APIDemo.Controllers.CitiesController (APIDemo)
2023-05-19 14:13:56.784 +07:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-05-19 14:13:56.791 +07:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2023-05-19 14:13:56.797 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2023-05-19 14:13:56.804 +07:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-05-19 14:13:56.809 +07:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-05-19 14:13:56.816 +07:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-05-19 14:13:56.822 +07:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-05-19 14:13:56.829 +07:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-05-19 14:13:56.833 +07:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2023-05-19 14:13:56.839 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2023-05-19 14:13:56.847 +07:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-05-19 14:13:56.850 +07:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-05-19 14:13:56.854 +07:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-05-19 14:13:56.857 +07:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-05-19 14:13:56.862 +07:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-05-19 14:13:56.865 +07:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-05-19 14:13:56.869 +07:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-05-19 14:13:56.874 +07:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-05-19 14:13:56.880 +07:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-05-19 14:13:56.883 +07:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-05-19 14:13:56.886 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-05-19 14:13:56.889 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2023-05-19 14:13:56.891 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-05-19 14:13:56.895 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-05-19 14:13:56.897 +07:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-05-19 14:13:56.899 +07:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-05-19 14:13:57.884 +07:00 [INF] Entity Framework Core 6.0.16 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.16' with options: None
2023-05-19 14:13:57.940 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Count()'
2023-05-19 14:13:58.257 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<int>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT COUNT(*)
        FROM Cities AS c), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
    APIDemo.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)
    .Single()'
2023-05-19 14:13:58.312 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-19 14:13:58.393 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (76ms).
2023-05-19 14:13:58.406 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-19 14:13:58.431 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-19 14:13:58.447 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2023-05-19 14:13:58.480 +07:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2023-05-19 14:13:58.496 +07:00 [DBG] A data reader was disposed.
2023-05-19 14:13:58.504 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-19 14:13:58.517 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-19 14:13:58.537 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)
    .Skip(__p_0)
    .Take(__p_1)'
2023-05-19 14:13:58.620 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(50), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    APIDemo.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-05-19 14:13:58.651 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-19 14:13:58.655 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-05-19 14:13:58.674 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-19 14:13:58.680 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-19 14:13:58.690 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2023-05-19 14:13:58.709 +07:00 [INF] Executed DbCommand (24ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2023-05-19 14:13:58.737 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-19 14:13:58.770 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-19 14:13:58.776 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-19 14:13:58.786 +07:00 [DBG] A data reader was disposed.
2023-05-19 14:13:58.795 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-19 14:13:58.800 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-19 14:13:58.955 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-05-19 14:13:58.968 +07:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2023-05-19 14:13:58.972 +07:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2023-05-19 14:13:58.980 +07:00 [WRN] No output formatter was found for content types '["text/plain"]' to write the response.
2023-05-19 14:13:58.988 +07:00 [INF] Executed action APIDemo.Controllers.CitiesController.GetCities (APIDemo) in 2606.8731ms
2023-05-19 14:13:58.995 +07:00 [INF] Executed endpoint 'APIDemo.Controllers.CitiesController.GetCities (APIDemo)'
2023-05-19 14:13:59.009 +07:00 [DBG] 'CityInfoContext' disposed.
2023-05-19 14:13:59.017 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/api/v/1/cities?pageNumber=1&pageSize=10 - - - 406 0 - 2844.7167ms
2023-05-19 14:14:01.126 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/api/v/2/cities?pageNumber=1&pageSize=10 - -
2023-05-19 14:14:01.129 +07:00 [DBG] 1 candidate(s) found for the request path '/api/v/2/cities'
2023-05-19 14:14:01.131 +07:00 [DBG] Endpoint 'APIDemo.Controllers.CitiesController.GetCities (APIDemo)' with route pattern 'api/v/{ApiVersion}/cities' is valid for the request path '/api/v/2/cities'
2023-05-19 14:14:01.134 +07:00 [DBG] Request matched endpoint 'APIDemo.Controllers.CitiesController.GetCities (APIDemo)'
2023-05-19 14:14:01.136 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-19 14:14:01.139 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-05-19 14:14:01.143 +07:00 [INF] Executing endpoint 'APIDemo.Controllers.CitiesController.GetCities (APIDemo)'
2023-05-19 14:14:01.145 +07:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[APIDemo.Models.CityDTO]]] GetCities(System.String, System.String, Int32, Int32) on controller APIDemo.Controllers.CitiesController (APIDemo).
2023-05-19 14:14:01.150 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-19 14:14:01.153 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-19 14:14:01.158 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-05-19 14:14:01.161 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-19 14:14:01.163 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-05-19 14:14:01.167 +07:00 [DBG] Executing controller factory for controller APIDemo.Controllers.CitiesController (APIDemo)
2023-05-19 14:14:01.172 +07:00 [DBG] Executed controller factory for controller APIDemo.Controllers.CitiesController (APIDemo)
2023-05-19 14:14:01.175 +07:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-05-19 14:14:01.178 +07:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2023-05-19 14:14:01.182 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2023-05-19 14:14:01.189 +07:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-05-19 14:14:01.194 +07:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-05-19 14:14:01.199 +07:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-05-19 14:14:01.206 +07:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-05-19 14:14:01.212 +07:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-05-19 14:14:01.216 +07:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2023-05-19 14:14:01.224 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2023-05-19 14:14:01.231 +07:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-05-19 14:14:01.236 +07:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-05-19 14:14:01.238 +07:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-05-19 14:14:01.241 +07:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-05-19 14:14:01.246 +07:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-05-19 14:14:01.253 +07:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-05-19 14:14:01.260 +07:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-05-19 14:14:01.265 +07:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-05-19 14:14:01.273 +07:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-05-19 14:14:01.278 +07:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-05-19 14:14:01.284 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-05-19 14:14:01.289 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2023-05-19 14:14:01.296 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-05-19 14:14:01.301 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-05-19 14:14:01.307 +07:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-05-19 14:14:01.312 +07:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-05-19 14:14:01.319 +07:00 [INF] Entity Framework Core 6.0.16 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.16' with options: None
2023-05-19 14:14:01.326 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-19 14:14:01.331 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2023-05-19 14:14:01.335 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-19 14:14:01.340 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-19 14:14:01.347 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2023-05-19 14:14:01.353 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2023-05-19 14:14:01.363 +07:00 [DBG] A data reader was disposed.
2023-05-19 14:14:01.366 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-19 14:14:01.371 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-19 14:14:01.379 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-19 14:14:01.382 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-05-19 14:14:01.387 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-19 14:14:01.392 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-19 14:14:01.399 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2023-05-19 14:14:01.406 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2023-05-19 14:14:01.417 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-19 14:14:01.420 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-19 14:14:01.427 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-19 14:14:01.432 +07:00 [DBG] A data reader was disposed.
2023-05-19 14:14:01.434 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-19 14:14:01.441 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-19 14:14:01.444 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-05-19 14:14:01.451 +07:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2023-05-19 14:14:01.458 +07:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2023-05-19 14:14:01.463 +07:00 [WRN] No output formatter was found for content types '["text/plain"]' to write the response.
2023-05-19 14:14:01.467 +07:00 [INF] Executed action APIDemo.Controllers.CitiesController.GetCities (APIDemo) in 299.8082ms
2023-05-19 14:14:01.474 +07:00 [INF] Executed endpoint 'APIDemo.Controllers.CitiesController.GetCities (APIDemo)'
2023-05-19 14:14:01.479 +07:00 [DBG] 'CityInfoContext' disposed.
2023-05-19 14:14:01.482 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/api/v/2/cities?pageNumber=1&pageSize=10 - - - 406 0 - 355.4533ms
2023-05-19 14:14:02.603 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/api/v/2/cities?pageNumber=1&pageSize=10 - -
2023-05-19 14:14:02.605 +07:00 [DBG] 1 candidate(s) found for the request path '/api/v/2/cities'
2023-05-19 14:14:02.608 +07:00 [DBG] Endpoint 'APIDemo.Controllers.CitiesController.GetCities (APIDemo)' with route pattern 'api/v/{ApiVersion}/cities' is valid for the request path '/api/v/2/cities'
2023-05-19 14:14:02.612 +07:00 [DBG] Request matched endpoint 'APIDemo.Controllers.CitiesController.GetCities (APIDemo)'
2023-05-19 14:14:02.614 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-19 14:14:02.619 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-05-19 14:14:02.621 +07:00 [INF] Executing endpoint 'APIDemo.Controllers.CitiesController.GetCities (APIDemo)'
2023-05-19 14:14:02.624 +07:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[APIDemo.Models.CityDTO]]] GetCities(System.String, System.String, Int32, Int32) on controller APIDemo.Controllers.CitiesController (APIDemo).
2023-05-19 14:14:02.632 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-19 14:14:02.637 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-19 14:14:02.640 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-05-19 14:14:02.647 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-19 14:14:02.651 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-05-19 14:14:02.656 +07:00 [DBG] Executing controller factory for controller APIDemo.Controllers.CitiesController (APIDemo)
2023-05-19 14:14:02.667 +07:00 [DBG] Executed controller factory for controller APIDemo.Controllers.CitiesController (APIDemo)
2023-05-19 14:14:02.672 +07:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-05-19 14:14:02.679 +07:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2023-05-19 14:14:02.684 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2023-05-19 14:14:02.691 +07:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-05-19 14:14:02.697 +07:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-05-19 14:14:02.700 +07:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-05-19 14:14:02.707 +07:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-05-19 14:14:02.713 +07:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-05-19 14:14:02.717 +07:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2023-05-19 14:14:02.723 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2023-05-19 14:14:02.728 +07:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-05-19 14:14:02.733 +07:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-05-19 14:14:02.740 +07:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-05-19 14:14:02.745 +07:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-05-19 14:14:02.750 +07:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-05-19 14:14:02.758 +07:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-05-19 14:14:02.764 +07:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-05-19 14:14:02.772 +07:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-05-19 14:14:02.777 +07:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-05-19 14:14:02.786 +07:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-05-19 14:14:02.791 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-05-19 14:14:02.797 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2023-05-19 14:14:02.804 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-05-19 14:14:02.810 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-05-19 14:14:02.817 +07:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-05-19 14:14:02.822 +07:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-05-19 14:14:02.886 +07:00 [INF] Entity Framework Core 6.0.16 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.16' with options: None
2023-05-19 14:14:02.890 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-19 14:14:02.891 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-19 14:14:02.893 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-19 14:14:02.896 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-19 14:14:02.899 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2023-05-19 14:14:02.902 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2023-05-19 14:14:02.907 +07:00 [DBG] A data reader was disposed.
2023-05-19 14:14:02.911 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-19 14:14:02.914 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-19 14:14:02.916 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-19 14:14:02.917 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-19 14:14:02.920 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-19 14:14:02.922 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-19 14:14:02.927 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2023-05-19 14:14:02.932 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2023-05-19 14:14:02.937 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-19 14:14:02.945 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-19 14:14:02.951 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-19 14:14:02.956 +07:00 [DBG] A data reader was disposed.
2023-05-19 14:14:02.960 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-19 14:14:02.966 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-19 14:14:02.970 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-05-19 14:14:02.983 +07:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2023-05-19 14:14:02.990 +07:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2023-05-19 14:14:02.996 +07:00 [WRN] No output formatter was found for content types '["text/plain"]' to write the response.
2023-05-19 14:14:03.000 +07:00 [INF] Executed action APIDemo.Controllers.CitiesController.GetCities (APIDemo) in 344.2518ms
2023-05-19 14:14:03.007 +07:00 [INF] Executed endpoint 'APIDemo.Controllers.CitiesController.GetCities (APIDemo)'
2023-05-19 14:14:03.012 +07:00 [DBG] 'CityInfoContext' disposed.
2023-05-19 14:14:03.014 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/api/v/2/cities?pageNumber=1&pageSize=10 - - - 406 0 - 411.8998ms
2023-05-19 14:14:12.160 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/api/v/2/cities?pageNumber=1&pageSize=10 - -
2023-05-19 14:14:12.161 +07:00 [DBG] 1 candidate(s) found for the request path '/api/v/2/cities'
2023-05-19 14:14:12.164 +07:00 [DBG] Endpoint 'APIDemo.Controllers.CitiesController.GetCities (APIDemo)' with route pattern 'api/v/{ApiVersion}/cities' is valid for the request path '/api/v/2/cities'
2023-05-19 14:14:12.169 +07:00 [DBG] Request matched endpoint 'APIDemo.Controllers.CitiesController.GetCities (APIDemo)'
2023-05-19 14:14:12.171 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-19 14:14:12.174 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-05-19 14:14:12.178 +07:00 [INF] Executing endpoint 'APIDemo.Controllers.CitiesController.GetCities (APIDemo)'
2023-05-19 14:14:12.183 +07:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[APIDemo.Models.CityDTO]]] GetCities(System.String, System.String, Int32, Int32) on controller APIDemo.Controllers.CitiesController (APIDemo).
2023-05-19 14:14:12.191 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-19 14:14:12.198 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-19 14:14:12.203 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-05-19 14:14:12.214 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-19 14:14:12.219 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-05-19 14:14:12.227 +07:00 [DBG] Executing controller factory for controller APIDemo.Controllers.CitiesController (APIDemo)
2023-05-19 14:14:12.234 +07:00 [DBG] Executed controller factory for controller APIDemo.Controllers.CitiesController (APIDemo)
2023-05-19 14:14:12.238 +07:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-05-19 14:14:12.245 +07:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2023-05-19 14:14:12.250 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2023-05-19 14:14:12.257 +07:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-05-19 14:14:12.264 +07:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-05-19 14:14:12.268 +07:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-05-19 14:14:12.273 +07:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-05-19 14:14:12.280 +07:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-05-19 14:14:12.285 +07:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2023-05-19 14:14:12.291 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2023-05-19 14:14:12.300 +07:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-05-19 14:14:12.305 +07:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-05-19 14:14:12.312 +07:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-05-19 14:14:12.317 +07:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-05-19 14:14:12.325 +07:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-05-19 14:14:12.331 +07:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-05-19 14:14:12.337 +07:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-05-19 14:14:12.344 +07:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-05-19 14:14:12.349 +07:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-05-19 14:14:12.353 +07:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-05-19 14:14:12.360 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-05-19 14:14:12.366 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2023-05-19 14:14:12.373 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-05-19 14:14:12.378 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-05-19 14:14:12.382 +07:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-05-19 14:14:12.388 +07:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-05-19 14:14:12.391 +07:00 [INF] Entity Framework Core 6.0.16 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.16' with options: None
2023-05-19 14:14:12.397 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-19 14:14:12.401 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2023-05-19 14:14:12.409 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-19 14:14:12.414 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-19 14:14:12.422 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2023-05-19 14:14:12.430 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2023-05-19 14:14:12.441 +07:00 [DBG] A data reader was disposed.
2023-05-19 14:14:12.444 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-19 14:14:12.454 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-19 14:14:12.457 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-19 14:14:12.460 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-05-19 14:14:12.464 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-19 14:14:12.469 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-19 14:14:12.474 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2023-05-19 14:14:12.486 +07:00 [INF] Executed DbCommand (12ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2023-05-19 14:14:12.494 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-19 14:14:12.503 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-19 14:14:12.508 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-19 14:14:12.516 +07:00 [DBG] A data reader was disposed.
2023-05-19 14:14:12.519 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-19 14:14:12.524 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-19 14:14:12.532 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-05-19 14:14:12.542 +07:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-05-19 14:14:12.550 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-05-19 14:14:12.554 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[APIDemo.Models.CityWithoutPointOfInterestDTO, APIDemo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-05-19 14:14:12.609 +07:00 [INF] Executed action APIDemo.Controllers.CitiesController.GetCities (APIDemo) in 381.7018ms
2023-05-19 14:14:12.613 +07:00 [INF] Executed endpoint 'APIDemo.Controllers.CitiesController.GetCities (APIDemo)'
2023-05-19 14:14:12.617 +07:00 [DBG] 'CityInfoContext' disposed.
2023-05-19 14:14:12.620 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/api/v/2/cities?pageNumber=1&pageSize=10 - - - 200 153 application/json;+charset=utf-8 460.1511ms
2023-05-19 14:14:29.981 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/api/v/5/cities?pageNumber=1&pageSize=10 - -
2023-05-19 14:14:29.983 +07:00 [DBG] 1 candidate(s) found for the request path '/api/v/5/cities'
2023-05-19 14:14:29.986 +07:00 [DBG] Endpoint 'APIDemo.Controllers.CitiesController.GetCities (APIDemo)' with route pattern 'api/v/{ApiVersion}/cities' is valid for the request path '/api/v/5/cities'
2023-05-19 14:14:29.990 +07:00 [DBG] Request matched endpoint 'APIDemo.Controllers.CitiesController.GetCities (APIDemo)'
2023-05-19 14:14:29.994 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-19 14:14:29.996 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-05-19 14:14:30.003 +07:00 [INF] Executing endpoint 'APIDemo.Controllers.CitiesController.GetCities (APIDemo)'
2023-05-19 14:14:30.007 +07:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[APIDemo.Models.CityDTO]]] GetCities(System.String, System.String, Int32, Int32) on controller APIDemo.Controllers.CitiesController (APIDemo).
2023-05-19 14:14:30.017 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-19 14:14:30.022 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-19 14:14:30.030 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-05-19 14:14:30.039 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-19 14:14:30.047 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-05-19 14:14:30.055 +07:00 [DBG] Executing controller factory for controller APIDemo.Controllers.CitiesController (APIDemo)
2023-05-19 14:14:30.062 +07:00 [DBG] Executed controller factory for controller APIDemo.Controllers.CitiesController (APIDemo)
2023-05-19 14:14:30.068 +07:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-05-19 14:14:30.071 +07:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2023-05-19 14:14:30.079 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2023-05-19 14:14:30.085 +07:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-05-19 14:14:30.089 +07:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-05-19 14:14:30.096 +07:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-05-19 14:14:30.101 +07:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-05-19 14:14:30.105 +07:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-05-19 14:14:30.112 +07:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2023-05-19 14:14:30.117 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2023-05-19 14:14:30.123 +07:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-05-19 14:14:30.128 +07:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-05-19 14:14:30.131 +07:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-05-19 14:14:30.136 +07:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-05-19 14:14:30.142 +07:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-05-19 14:14:30.147 +07:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-05-19 14:14:30.155 +07:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-05-19 14:14:30.162 +07:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-05-19 14:14:30.167 +07:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-05-19 14:14:30.171 +07:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-05-19 14:14:30.178 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-05-19 14:14:30.183 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2023-05-19 14:14:30.191 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-05-19 14:14:30.196 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-05-19 14:14:30.201 +07:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-05-19 14:14:30.207 +07:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-05-19 14:14:30.213 +07:00 [INF] Entity Framework Core 6.0.16 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.16' with options: None
2023-05-19 14:14:30.224 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-19 14:14:30.228 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2023-05-19 14:14:30.234 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-19 14:14:30.240 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-19 14:14:30.245 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2023-05-19 14:14:30.256 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2023-05-19 14:14:30.265 +07:00 [DBG] A data reader was disposed.
2023-05-19 14:14:30.270 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-19 14:14:30.274 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-19 14:14:30.280 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-19 14:14:30.285 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2023-05-19 14:14:30.289 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-19 14:14:30.294 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-19 14:14:30.301 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2023-05-19 14:14:30.309 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2023-05-19 14:14:30.321 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-19 14:14:30.327 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-19 14:14:30.333 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-19 14:14:30.337 +07:00 [DBG] A data reader was disposed.
2023-05-19 14:14:30.340 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-19 14:14:30.348 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-19 14:14:30.354 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-05-19 14:14:30.366 +07:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-05-19 14:14:30.371 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-05-19 14:14:30.379 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[APIDemo.Models.CityWithoutPointOfInterestDTO, APIDemo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-05-19 14:14:30.385 +07:00 [INF] Executed action APIDemo.Controllers.CitiesController.GetCities (APIDemo) in 330.1137ms
2023-05-19 14:14:30.387 +07:00 [INF] Executed endpoint 'APIDemo.Controllers.CitiesController.GetCities (APIDemo)'
2023-05-19 14:14:30.392 +07:00 [DBG] 'CityInfoContext' disposed.
2023-05-19 14:14:30.397 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/api/v/5/cities?pageNumber=1&pageSize=10 - - - 200 153 application/json;+charset=utf-8 416.0169ms
2023-05-19 14:16:05.075 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-05-19 14:16:05.234 +07:00 [DBG] Hosting starting
2023-05-19 14:16:05.256 +07:00 [INF] User profile is available. Using 'C:\Users\Nguyen Huy Linh\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-05-19 14:16:05.260 +07:00 [DBG] Reading data from file 'C:\Users\Nguyen Huy Linh\AppData\Local\ASP.NET\DataProtection-Keys\key-7505044c-b74a-4d7d-8928-0e7c1b1e8a86.xml'.
2023-05-19 14:16:05.271 +07:00 [DBG] Found key {7505044c-b74a-4d7d-8928-0e7c1b1e8a86}.
2023-05-19 14:16:05.285 +07:00 [DBG] Considering key {7505044c-b74a-4d7d-8928-0e7c1b1e8a86} with expiration date 2023-07-20 00:27:35Z as default key.
2023-05-19 14:16:05.288 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-19 14:16:05.293 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-05-19 14:16:05.295 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-19 14:16:05.301 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-05-19 14:16:05.304 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-05-19 14:16:05.309 +07:00 [DBG] Using key {7505044c-b74a-4d7d-8928-0e7c1b1e8a86} as the default key.
2023-05-19 14:16:05.311 +07:00 [DBG] Key ring with default key {7505044c-b74a-4d7d-8928-0e7c1b1e8a86} was loaded during application startup.
2023-05-19 14:16:05.576 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 75D11A6361D7470A96C9C9E8EC2F301CE14CF8DD)
2023-05-19 14:16:05.653 +07:00 [INF] Now listening on: https://localhost:7269
2023-05-19 14:16:05.737 +07:00 [INF] Now listening on: http://localhost:5078
2023-05-19 14:16:05.739 +07:00 [DBG] Loaded hosting startup assembly APIDemo
2023-05-19 14:16:05.742 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-05-19 14:16:05.743 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-05-19 14:16:05.744 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-19 14:16:05.745 +07:00 [INF] Hosting environment: Development
2023-05-19 14:16:05.747 +07:00 [INF] Content root path: C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\
2023-05-19 14:16:05.749 +07:00 [DBG] Hosting started
2023-05-19 14:16:05.768 +07:00 [DBG] Connection id "0HMQO73KJRMNI" accepted.
2023-05-19 14:16:05.771 +07:00 [DBG] Connection id "0HMQO73KJRMNI" started.
2023-05-19 14:16:06.146 +07:00 [DBG] Connection id "0HMQO73KJRMNJ" accepted.
2023-05-19 14:16:06.148 +07:00 [DBG] Connection id "0HMQO73KJRMNJ" started.
2023-05-19 14:16:06.325 +07:00 [DBG] Connection id "0HMQO73KJRMNK" accepted.
2023-05-19 14:16:06.330 +07:00 [DBG] Connection id "0HMQO73KJRMNK" started.
2023-05-19 14:16:06.411 +07:00 [DBG] Connection 0HMQO73KJRMNK established using the following protocol: "Tls12"
2023-05-19 14:16:06.500 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/index.html - -
2023-05-19 14:16:06.546 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-05-19 14:16:06.578 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-05-19 14:16:06.579 +07:00 [DBG] Request did not match any endpoints
2023-05-19 14:16:06.741 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-05-19 14:16:07.014 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_vs/browserLink - -
2023-05-19 14:16:07.014 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - -
2023-05-19 14:16:07.028 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-05-19 14:16:07.031 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 16.8023ms
2023-05-19 14:16:07.032 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/index.html - - - 200 - text/html;charset=utf-8 538.7129ms
2023-05-19 14:16:07.072 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 57.6055ms
2023-05-19 14:16:07.149 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - -
2023-05-19 14:16:07.151 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-05-19 14:16:07.152 +07:00 [DBG] Request did not match any endpoints
2023-05-19 14:16:07.330 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 180.9245ms
2023-05-19 14:16:15.796 +07:00 [DBG] Authentication of the HTTPS connection timed out.
2023-05-19 14:16:15.804 +07:00 [DBG] Connection id "0HMQO73KJRMNI" stopped.
2023-05-19 14:16:15.809 +07:00 [DBG] Connection id "0HMQO73KJRMNI" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-19 14:16:16.155 +07:00 [DBG] Authentication of the HTTPS connection timed out.
2023-05-19 14:16:16.158 +07:00 [DBG] Connection id "0HMQO73KJRMNJ" stopped.
2023-05-19 14:16:16.162 +07:00 [DBG] Connection id "0HMQO73KJRMNJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-19 14:16:18.072 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/api/v/2/cities?pageNumber=1&pageSize=10 - -
2023-05-19 14:16:18.086 +07:00 [DBG] 1 candidate(s) found for the request path '/api/v/2/cities'
2023-05-19 14:16:18.092 +07:00 [DBG] Endpoint 'APIDemo.Controllers.CitiesController.GetCities (APIDemo)' with route pattern 'api/v/{ApiVersion}/cities' is valid for the request path '/api/v/2/cities'
2023-05-19 14:16:18.110 +07:00 [DBG] Request matched endpoint 'APIDemo.Controllers.CitiesController.GetCities (APIDemo)'
2023-05-19 14:16:18.112 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-19 14:16:18.182 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-05-19 14:16:18.188 +07:00 [INF] Executing endpoint 'APIDemo.Controllers.CitiesController.GetCities (APIDemo)'
2023-05-19 14:16:18.218 +07:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[APIDemo.Models.CityDTO]]] GetCities(System.String, System.String, Int32, Int32) on controller APIDemo.Controllers.CitiesController (APIDemo).
2023-05-19 14:16:18.223 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-19 14:16:18.225 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-19 14:16:18.227 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-05-19 14:16:18.230 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-19 14:16:18.231 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-05-19 14:16:18.234 +07:00 [DBG] Executing controller factory for controller APIDemo.Controllers.CitiesController (APIDemo)
2023-05-19 14:16:18.391 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-05-19 14:16:18.596 +07:00 [DBG] Executed controller factory for controller APIDemo.Controllers.CitiesController (APIDemo)
2023-05-19 14:16:18.606 +07:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-05-19 14:16:18.613 +07:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2023-05-19 14:16:18.619 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2023-05-19 14:16:18.623 +07:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-05-19 14:16:18.627 +07:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-05-19 14:16:18.632 +07:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-05-19 14:16:18.639 +07:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-05-19 14:16:18.644 +07:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-05-19 14:16:18.648 +07:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2023-05-19 14:16:18.653 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2023-05-19 14:16:18.658 +07:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-05-19 14:16:18.662 +07:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-05-19 14:16:18.667 +07:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-05-19 14:16:18.672 +07:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-05-19 14:16:18.675 +07:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-05-19 14:16:18.680 +07:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-05-19 14:16:18.686 +07:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-05-19 14:16:18.689 +07:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-05-19 14:16:18.694 +07:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-05-19 14:16:18.700 +07:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-05-19 14:16:18.705 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-05-19 14:16:18.708 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2023-05-19 14:16:18.714 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-05-19 14:16:18.718 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-05-19 14:16:18.722 +07:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-05-19 14:16:18.726 +07:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-05-19 14:16:19.761 +07:00 [INF] Entity Framework Core 6.0.16 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.16' with options: None
2023-05-19 14:16:19.812 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Count()'
2023-05-19 14:16:20.147 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<int>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT COUNT(*)
        FROM Cities AS c), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
    APIDemo.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)
    .Single()'
2023-05-19 14:16:20.194 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-19 14:16:20.272 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (73ms).
2023-05-19 14:16:20.279 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-19 14:16:20.316 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-19 14:16:20.333 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2023-05-19 14:16:20.362 +07:00 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2023-05-19 14:16:20.374 +07:00 [DBG] A data reader was disposed.
2023-05-19 14:16:20.379 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-19 14:16:20.387 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-19 14:16:20.404 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)
    .Skip(__p_0)
    .Take(__p_1)'
2023-05-19 14:16:20.485 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(50), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    APIDemo.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-05-19 14:16:20.511 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-19 14:16:20.514 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-05-19 14:16:20.529 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-19 14:16:20.532 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-19 14:16:20.545 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2023-05-19 14:16:20.560 +07:00 [INF] Executed DbCommand (24ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2023-05-19 14:16:20.584 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-19 14:16:20.618 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-19 14:16:20.620 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-19 14:16:20.628 +07:00 [DBG] A data reader was disposed.
2023-05-19 14:16:20.639 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-19 14:16:20.641 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-19 14:16:20.790 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-05-19 14:16:20.797 +07:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-05-19 14:16:20.799 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-05-19 14:16:20.801 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[APIDemo.Models.CityWithoutPointOfInterestDTO, APIDemo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-05-19 14:16:20.849 +07:00 [INF] Executed action APIDemo.Controllers.CitiesController.GetCities (APIDemo) in 2610.0281ms
2023-05-19 14:16:20.851 +07:00 [INF] Executed endpoint 'APIDemo.Controllers.CitiesController.GetCities (APIDemo)'
2023-05-19 14:16:20.858 +07:00 [DBG] 'CityInfoContext' disposed.
2023-05-19 14:16:20.863 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/api/v/2/cities?pageNumber=1&pageSize=10 - - - 200 153 application/json;+charset=utf-8 2791.2401ms
2023-05-19 14:17:08.571 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-05-19 14:17:08.719 +07:00 [DBG] Hosting starting
2023-05-19 14:17:08.742 +07:00 [INF] User profile is available. Using 'C:\Users\Nguyen Huy Linh\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-05-19 14:17:08.746 +07:00 [DBG] Reading data from file 'C:\Users\Nguyen Huy Linh\AppData\Local\ASP.NET\DataProtection-Keys\key-7505044c-b74a-4d7d-8928-0e7c1b1e8a86.xml'.
2023-05-19 14:17:08.757 +07:00 [DBG] Found key {7505044c-b74a-4d7d-8928-0e7c1b1e8a86}.
2023-05-19 14:17:08.771 +07:00 [DBG] Considering key {7505044c-b74a-4d7d-8928-0e7c1b1e8a86} with expiration date 2023-07-20 00:27:35Z as default key.
2023-05-19 14:17:08.774 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-19 14:17:08.778 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-05-19 14:17:08.781 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-19 14:17:08.788 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-05-19 14:17:08.791 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-05-19 14:17:08.795 +07:00 [DBG] Using key {7505044c-b74a-4d7d-8928-0e7c1b1e8a86} as the default key.
2023-05-19 14:17:08.797 +07:00 [DBG] Key ring with default key {7505044c-b74a-4d7d-8928-0e7c1b1e8a86} was loaded during application startup.
2023-05-19 14:17:08.926 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 75D11A6361D7470A96C9C9E8EC2F301CE14CF8DD)
2023-05-19 14:17:08.969 +07:00 [INF] Now listening on: https://localhost:7269
2023-05-19 14:17:08.970 +07:00 [INF] Now listening on: http://localhost:5078
2023-05-19 14:17:08.972 +07:00 [DBG] Loaded hosting startup assembly APIDemo
2023-05-19 14:17:08.973 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-05-19 14:17:08.975 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-05-19 14:17:08.976 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-19 14:17:08.978 +07:00 [INF] Hosting environment: Development
2023-05-19 14:17:08.979 +07:00 [INF] Content root path: C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\
2023-05-19 14:17:08.981 +07:00 [DBG] Hosting started
2023-05-19 14:17:09.201 +07:00 [DBG] Connection id "0HMQO747GRT1M" received FIN.
2023-05-19 14:17:09.214 +07:00 [DBG] Connection id "0HMQO747GRT1M" accepted.
2023-05-19 14:17:09.217 +07:00 [DBG] Connection id "0HMQO747GRT1M" started.
2023-05-19 14:17:09.233 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-19 14:17:09.269 +07:00 [DBG] Connection id "0HMQO747GRT1M" stopped.
2023-05-19 14:17:09.274 +07:00 [DBG] Connection id "0HMQO747GRT1M" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-19 14:17:09.455 +07:00 [DBG] Connection id "0HMQO747GRT1N" accepted.
2023-05-19 14:17:09.457 +07:00 [DBG] Connection id "0HMQO747GRT1N" started.
2023-05-19 14:17:09.511 +07:00 [DBG] Connection 0HMQO747GRT1N established using the following protocol: "Tls12"
2023-05-19 14:17:09.562 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/index.html - -
2023-05-19 14:17:09.596 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-05-19 14:17:09.623 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-05-19 14:17:09.627 +07:00 [DBG] Request did not match any endpoints
2023-05-19 14:17:09.730 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-05-19 14:17:09.888 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - -
2023-05-19 14:17:09.888 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_vs/browserLink - -
2023-05-19 14:17:09.894 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-05-19 14:17:09.905 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 16.1325ms
2023-05-19 14:17:09.906 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/index.html - - - 200 - text/html;charset=utf-8 347.5724ms
2023-05-19 14:17:09.917 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 28.7635ms
2023-05-19 14:17:10.008 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - -
2023-05-19 14:17:10.009 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-05-19 14:17:10.011 +07:00 [DBG] Request did not match any endpoints
2023-05-19 14:17:10.189 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 180.4186ms
2023-05-19 14:17:22.691 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/api/v/3/cities?pageNumber=1&pageSize=10 - -
2023-05-19 14:17:22.703 +07:00 [DBG] 1 candidate(s) found for the request path '/api/v/3/cities'
2023-05-19 14:17:22.709 +07:00 [DBG] Endpoint 'APIDemo.Controllers.CitiesController.GetCities (APIDemo)' with route pattern 'api/v/{ApiVersion}/cities' is valid for the request path '/api/v/3/cities'
2023-05-19 14:17:22.729 +07:00 [DBG] Request matched endpoint 'APIDemo.Controllers.CitiesController.GetCities (APIDemo)'
2023-05-19 14:17:22.733 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-19 14:17:22.813 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-05-19 14:17:22.817 +07:00 [INF] Executing endpoint 'APIDemo.Controllers.CitiesController.GetCities (APIDemo)'
2023-05-19 14:17:22.849 +07:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[APIDemo.Models.CityDTO]]] GetCities(System.String, System.String, Int32, Int32) on controller APIDemo.Controllers.CitiesController (APIDemo).
2023-05-19 14:17:22.853 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-19 14:17:22.854 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-19 14:17:22.857 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-05-19 14:17:22.860 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-19 14:17:22.863 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-05-19 14:17:22.868 +07:00 [DBG] Executing controller factory for controller APIDemo.Controllers.CitiesController (APIDemo)
2023-05-19 14:17:23.083 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-05-19 14:17:23.323 +07:00 [DBG] Executed controller factory for controller APIDemo.Controllers.CitiesController (APIDemo)
2023-05-19 14:17:23.330 +07:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-05-19 14:17:23.335 +07:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2023-05-19 14:17:23.338 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2023-05-19 14:17:23.342 +07:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-05-19 14:17:23.346 +07:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-05-19 14:17:23.351 +07:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-05-19 14:17:23.359 +07:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-05-19 14:17:23.369 +07:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-05-19 14:17:23.375 +07:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2023-05-19 14:17:23.382 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2023-05-19 14:17:23.389 +07:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-05-19 14:17:23.395 +07:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-05-19 14:17:23.401 +07:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-05-19 14:17:23.408 +07:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-05-19 14:17:23.415 +07:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-05-19 14:17:23.419 +07:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-05-19 14:17:23.426 +07:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-05-19 14:17:23.431 +07:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-05-19 14:17:23.437 +07:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-05-19 14:17:23.443 +07:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-05-19 14:17:23.448 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-05-19 14:17:23.453 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2023-05-19 14:17:23.460 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-05-19 14:17:23.466 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-05-19 14:17:23.471 +07:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-05-19 14:17:23.477 +07:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-05-19 14:17:24.462 +07:00 [INF] Entity Framework Core 6.0.16 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.16' with options: None
2023-05-19 14:17:24.516 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Count()'
2023-05-19 14:17:24.847 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<int>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT COUNT(*)
        FROM Cities AS c), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
    APIDemo.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)
    .Single()'
2023-05-19 14:17:24.894 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-19 14:17:24.978 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (79ms).
2023-05-19 14:17:24.988 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-19 14:17:25.020 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-19 14:17:25.036 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2023-05-19 14:17:25.075 +07:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2023-05-19 14:17:25.092 +07:00 [DBG] A data reader was disposed.
2023-05-19 14:17:25.099 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-19 14:17:25.110 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-19 14:17:25.131 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)
    .Skip(__p_0)
    .Take(__p_1)'
2023-05-19 14:17:25.213 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(50), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    APIDemo.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-05-19 14:17:25.238 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-19 14:17:25.239 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-19 14:17:25.253 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-19 14:17:25.255 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-19 14:17:25.264 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2023-05-19 14:17:25.280 +07:00 [INF] Executed DbCommand (21ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2023-05-19 14:17:25.307 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-19 14:17:25.338 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-19 14:17:25.343 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-19 14:17:25.352 +07:00 [DBG] A data reader was disposed.
2023-05-19 14:17:25.362 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-19 14:17:25.366 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-19 14:17:25.523 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-05-19 14:17:25.536 +07:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-05-19 14:17:25.542 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-05-19 14:17:25.547 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[APIDemo.Models.CityWithoutPointOfInterestDTO, APIDemo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-05-19 14:17:25.597 +07:00 [INF] Executed action APIDemo.Controllers.CitiesController.GetCities (APIDemo) in 2724.5478ms
2023-05-19 14:17:25.602 +07:00 [INF] Executed endpoint 'APIDemo.Controllers.CitiesController.GetCities (APIDemo)'
2023-05-19 14:17:25.610 +07:00 [DBG] 'CityInfoContext' disposed.
2023-05-19 14:17:25.617 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/api/v/3/cities?pageNumber=1&pageSize=10 - - - 200 153 application/json;+charset=utf-8 2925.9639ms
2023-05-19 14:17:40.696 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/api/v/1/cities/1/pointsofinterest - -
2023-05-19 14:17:40.699 +07:00 [DBG] 1 candidate(s) found for the request path '/api/v/1/cities/1/pointsofinterest'
2023-05-19 14:17:40.701 +07:00 [DBG] Endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo)' with route pattern 'api/v/{ApiVersion}/cities/{cityId}/pointsofinterest' is valid for the request path '/api/v/1/cities/1/pointsofinterest'
2023-05-19 14:17:40.712 +07:00 [INF] Request did not specify a service API version, but multiple candidate actions were found. Candidate actions: APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo)
2023-05-19 14:17:40.715 +07:00 [DBG] Request matched endpoint 'null'
2023-05-19 14:17:40.716 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-19 14:17:40.718 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-05-19 14:17:40.719 +07:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Http.Endpoint'
2023-05-19 14:17:40.724 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-05-19 14:17:40.728 +07:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2023-05-19 14:17:40.730 +07:00 [WRN] An error occurred while trying to create a DataContractSerializer for the type '<>f__AnonymousType0`1[[<>f__AnonymousType1`3[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Microsoft.AspNetCore.Mvc.Versioning, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60]], Microsoft.AspNetCore.Mvc.Versioning, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60]]'.
System.Runtime.Serialization.InvalidDataContractException: Type '<>f__AnonymousType0`1[<>f__AnonymousType1`3[System.String,System.String,<>f__AnonymousType2`1[System.String]]]' cannot be serialized. Consider marking it with the DataContractAttribute attribute, and marking all of its members you want serialized with the DataMemberAttribute attribute. Alternatively, you can ensure that the type is public and has a parameterless constructor - all public members of the type will then be serialized, and no attributes will be required.
   at System.Runtime.Serialization.DataContract.DataContractCriticalHelper.ThrowInvalidDataContractException(String message, Type type)
   at System.Runtime.Serialization.DataContract.DataContractCriticalHelper.CreateDataContract(Type type)
   at System.Runtime.Serialization.DataContract.DataContractCriticalHelper.CreateDataContract(Int32 id, RuntimeTypeHandle typeHandle, Type type)
   at System.Runtime.Serialization.DataContract.DataContractCriticalHelper.GetDataContractSkipValidation(Int32 id, RuntimeTypeHandle typeHandle, Type type)
   at System.Runtime.Serialization.DataContract.GetDataContract(RuntimeTypeHandle typeHandle, Type type, SerializationMode mode)
   at System.Runtime.Serialization.XsdDataContractExporter.GetRootElementName(Type type)
   at Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter.CreateSerializer(Type type)
2023-05-19 14:17:40.737 +07:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2023-05-19 14:17:40.740 +07:00 [WRN] No output formatter was found for content types '["text/plain"]' to write the response.
2023-05-19 14:17:40.741 +07:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Http.Endpoint'
2023-05-19 14:17:40.743 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/api/v/1/cities/1/pointsofinterest - - - 406 0 - 47.0072ms
2023-05-19 14:17:45.598 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/api/v/3/cities/1/pointsofinterest - -
2023-05-19 14:17:45.599 +07:00 [DBG] 1 candidate(s) found for the request path '/api/v/3/cities/1/pointsofinterest'
2023-05-19 14:17:45.601 +07:00 [DBG] Endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo)' with route pattern 'api/v/{ApiVersion}/cities/{cityId}/pointsofinterest' is valid for the request path '/api/v/3/cities/1/pointsofinterest'
2023-05-19 14:17:45.604 +07:00 [INF] Request did not specify a service API version, but multiple candidate actions were found. Candidate actions: APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo)
2023-05-19 14:17:45.606 +07:00 [DBG] Request matched endpoint 'null'
2023-05-19 14:17:45.608 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-19 14:17:45.611 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-05-19 14:17:45.613 +07:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Http.Endpoint'
2023-05-19 14:17:45.615 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-05-19 14:17:45.618 +07:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2023-05-19 14:17:45.626 +07:00 [WRN] An error occurred while trying to create a DataContractSerializer for the type '<>f__AnonymousType0`1[[<>f__AnonymousType1`3[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Microsoft.AspNetCore.Mvc.Versioning, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60]], Microsoft.AspNetCore.Mvc.Versioning, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60]]'.
System.Runtime.Serialization.InvalidDataContractException: Type '<>f__AnonymousType0`1[<>f__AnonymousType1`3[System.String,System.String,<>f__AnonymousType2`1[System.String]]]' cannot be serialized. Consider marking it with the DataContractAttribute attribute, and marking all of its members you want serialized with the DataMemberAttribute attribute. Alternatively, you can ensure that the type is public and has a parameterless constructor - all public members of the type will then be serialized, and no attributes will be required.
   at System.Runtime.Serialization.DataContract.DataContractCriticalHelper.ThrowInvalidDataContractException(String message, Type type)
   at System.Runtime.Serialization.DataContract.DataContractCriticalHelper.CreateDataContract(Type type)
   at System.Runtime.Serialization.DataContract.DataContractCriticalHelper.CreateDataContract(Int32 id, RuntimeTypeHandle typeHandle, Type type)
   at System.Runtime.Serialization.DataContract.DataContractCriticalHelper.GetDataContractSkipValidation(Int32 id, RuntimeTypeHandle typeHandle, Type type)
   at System.Runtime.Serialization.DataContract.GetDataContract(RuntimeTypeHandle typeHandle, Type type, SerializationMode mode)
   at System.Runtime.Serialization.XsdDataContractExporter.GetRootElementName(Type type)
   at Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter.CreateSerializer(Type type)
2023-05-19 14:17:45.634 +07:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2023-05-19 14:17:45.636 +07:00 [WRN] No output formatter was found for content types '["text/plain"]' to write the response.
2023-05-19 14:17:45.638 +07:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Http.Endpoint'
2023-05-19 14:17:45.639 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/api/v/3/cities/1/pointsofinterest - - - 406 0 - 41.2991ms
2023-05-19 14:17:46.731 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/api/v/3/cities/1/pointsofinterest - -
2023-05-19 14:17:46.733 +07:00 [DBG] 1 candidate(s) found for the request path '/api/v/3/cities/1/pointsofinterest'
2023-05-19 14:17:46.735 +07:00 [DBG] Endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo)' with route pattern 'api/v/{ApiVersion}/cities/{cityId}/pointsofinterest' is valid for the request path '/api/v/3/cities/1/pointsofinterest'
2023-05-19 14:17:46.738 +07:00 [INF] Request did not specify a service API version, but multiple candidate actions were found. Candidate actions: APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo)
2023-05-19 14:17:46.742 +07:00 [DBG] Request matched endpoint 'null'
2023-05-19 14:17:46.745 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-19 14:17:46.746 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-05-19 14:17:46.748 +07:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Http.Endpoint'
2023-05-19 14:17:46.750 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-05-19 14:17:46.759 +07:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2023-05-19 14:17:46.764 +07:00 [WRN] An error occurred while trying to create a DataContractSerializer for the type '<>f__AnonymousType0`1[[<>f__AnonymousType1`3[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Microsoft.AspNetCore.Mvc.Versioning, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60]], Microsoft.AspNetCore.Mvc.Versioning, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60]]'.
System.Runtime.Serialization.InvalidDataContractException: Type '<>f__AnonymousType0`1[<>f__AnonymousType1`3[System.String,System.String,<>f__AnonymousType2`1[System.String]]]' cannot be serialized. Consider marking it with the DataContractAttribute attribute, and marking all of its members you want serialized with the DataMemberAttribute attribute. Alternatively, you can ensure that the type is public and has a parameterless constructor - all public members of the type will then be serialized, and no attributes will be required.
   at System.Runtime.Serialization.DataContract.DataContractCriticalHelper.ThrowInvalidDataContractException(String message, Type type)
   at System.Runtime.Serialization.DataContract.DataContractCriticalHelper.CreateDataContract(Type type)
   at System.Runtime.Serialization.DataContract.DataContractCriticalHelper.CreateDataContract(Int32 id, RuntimeTypeHandle typeHandle, Type type)
   at System.Runtime.Serialization.DataContract.DataContractCriticalHelper.GetDataContractSkipValidation(Int32 id, RuntimeTypeHandle typeHandle, Type type)
   at System.Runtime.Serialization.DataContract.GetDataContract(RuntimeTypeHandle typeHandle, Type type, SerializationMode mode)
   at System.Runtime.Serialization.XsdDataContractExporter.GetRootElementName(Type type)
   at Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter.CreateSerializer(Type type)
2023-05-19 14:17:46.777 +07:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2023-05-19 14:17:46.782 +07:00 [WRN] No output formatter was found for content types '["text/plain"]' to write the response.
2023-05-19 14:17:46.787 +07:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Http.Endpoint'
2023-05-19 14:17:46.791 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/api/v/3/cities/1/pointsofinterest - - - 406 0 - 60.3156ms
2023-05-19 14:17:47.383 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/api/v/3/cities/1/pointsofinterest - -
2023-05-19 14:17:47.384 +07:00 [DBG] 1 candidate(s) found for the request path '/api/v/3/cities/1/pointsofinterest'
2023-05-19 14:17:47.386 +07:00 [DBG] Endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo)' with route pattern 'api/v/{ApiVersion}/cities/{cityId}/pointsofinterest' is valid for the request path '/api/v/3/cities/1/pointsofinterest'
2023-05-19 14:17:47.388 +07:00 [INF] Request did not specify a service API version, but multiple candidate actions were found. Candidate actions: APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo)
2023-05-19 14:17:47.390 +07:00 [DBG] Request matched endpoint 'null'
2023-05-19 14:17:47.391 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-19 14:17:47.393 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-05-19 14:17:47.394 +07:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Http.Endpoint'
2023-05-19 14:17:47.395 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-05-19 14:17:47.398 +07:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2023-05-19 14:17:47.400 +07:00 [WRN] An error occurred while trying to create a DataContractSerializer for the type '<>f__AnonymousType0`1[[<>f__AnonymousType1`3[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Microsoft.AspNetCore.Mvc.Versioning, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60]], Microsoft.AspNetCore.Mvc.Versioning, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60]]'.
System.Runtime.Serialization.InvalidDataContractException: Type '<>f__AnonymousType0`1[<>f__AnonymousType1`3[System.String,System.String,<>f__AnonymousType2`1[System.String]]]' cannot be serialized. Consider marking it with the DataContractAttribute attribute, and marking all of its members you want serialized with the DataMemberAttribute attribute. Alternatively, you can ensure that the type is public and has a parameterless constructor - all public members of the type will then be serialized, and no attributes will be required.
   at System.Runtime.Serialization.DataContract.DataContractCriticalHelper.ThrowInvalidDataContractException(String message, Type type)
   at System.Runtime.Serialization.DataContract.DataContractCriticalHelper.CreateDataContract(Type type)
   at System.Runtime.Serialization.DataContract.DataContractCriticalHelper.CreateDataContract(Int32 id, RuntimeTypeHandle typeHandle, Type type)
   at System.Runtime.Serialization.DataContract.DataContractCriticalHelper.GetDataContractSkipValidation(Int32 id, RuntimeTypeHandle typeHandle, Type type)
   at System.Runtime.Serialization.DataContract.GetDataContract(RuntimeTypeHandle typeHandle, Type type, SerializationMode mode)
   at System.Runtime.Serialization.XsdDataContractExporter.GetRootElementName(Type type)
   at Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter.CreateSerializer(Type type)
2023-05-19 14:17:47.407 +07:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2023-05-19 14:17:47.408 +07:00 [WRN] No output formatter was found for content types '["text/plain"]' to write the response.
2023-05-19 14:17:47.410 +07:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Http.Endpoint'
2023-05-19 14:17:47.411 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/api/v/3/cities/1/pointsofinterest - - - 406 0 - 28.6702ms
2023-05-19 14:17:47.633 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/api/v/3/cities/1/pointsofinterest - -
2023-05-19 14:17:47.635 +07:00 [DBG] 1 candidate(s) found for the request path '/api/v/3/cities/1/pointsofinterest'
2023-05-19 14:17:47.638 +07:00 [DBG] Endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo)' with route pattern 'api/v/{ApiVersion}/cities/{cityId}/pointsofinterest' is valid for the request path '/api/v/3/cities/1/pointsofinterest'
2023-05-19 14:17:47.643 +07:00 [INF] Request did not specify a service API version, but multiple candidate actions were found. Candidate actions: APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo)
2023-05-19 14:17:47.645 +07:00 [DBG] Request matched endpoint 'null'
2023-05-19 14:17:47.647 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-19 14:17:47.649 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-05-19 14:17:47.651 +07:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Http.Endpoint'
2023-05-19 14:17:47.653 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-05-19 14:17:47.656 +07:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2023-05-19 14:17:47.658 +07:00 [WRN] An error occurred while trying to create a DataContractSerializer for the type '<>f__AnonymousType0`1[[<>f__AnonymousType1`3[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Microsoft.AspNetCore.Mvc.Versioning, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60]], Microsoft.AspNetCore.Mvc.Versioning, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60]]'.
System.Runtime.Serialization.InvalidDataContractException: Type '<>f__AnonymousType0`1[<>f__AnonymousType1`3[System.String,System.String,<>f__AnonymousType2`1[System.String]]]' cannot be serialized. Consider marking it with the DataContractAttribute attribute, and marking all of its members you want serialized with the DataMemberAttribute attribute. Alternatively, you can ensure that the type is public and has a parameterless constructor - all public members of the type will then be serialized, and no attributes will be required.
   at System.Runtime.Serialization.DataContract.DataContractCriticalHelper.ThrowInvalidDataContractException(String message, Type type)
   at System.Runtime.Serialization.DataContract.DataContractCriticalHelper.CreateDataContract(Type type)
   at System.Runtime.Serialization.DataContract.DataContractCriticalHelper.CreateDataContract(Int32 id, RuntimeTypeHandle typeHandle, Type type)
   at System.Runtime.Serialization.DataContract.DataContractCriticalHelper.GetDataContractSkipValidation(Int32 id, RuntimeTypeHandle typeHandle, Type type)
   at System.Runtime.Serialization.DataContract.GetDataContract(RuntimeTypeHandle typeHandle, Type type, SerializationMode mode)
   at System.Runtime.Serialization.XsdDataContractExporter.GetRootElementName(Type type)
   at Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter.CreateSerializer(Type type)
2023-05-19 14:17:47.665 +07:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2023-05-19 14:17:47.666 +07:00 [WRN] No output formatter was found for content types '["text/plain"]' to write the response.
2023-05-19 14:17:47.668 +07:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Http.Endpoint'
2023-05-19 14:17:47.669 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/api/v/3/cities/1/pointsofinterest - - - 406 0 - 36.3358ms
2023-05-19 14:17:47.947 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/api/v/3/cities/1/pointsofinterest - -
2023-05-19 14:17:47.949 +07:00 [DBG] 1 candidate(s) found for the request path '/api/v/3/cities/1/pointsofinterest'
2023-05-19 14:17:47.951 +07:00 [DBG] Endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo)' with route pattern 'api/v/{ApiVersion}/cities/{cityId}/pointsofinterest' is valid for the request path '/api/v/3/cities/1/pointsofinterest'
2023-05-19 14:17:47.955 +07:00 [INF] Request did not specify a service API version, but multiple candidate actions were found. Candidate actions: APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo)
2023-05-19 14:17:47.959 +07:00 [DBG] Request matched endpoint 'null'
2023-05-19 14:17:47.962 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-19 14:17:47.965 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-05-19 14:17:47.968 +07:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Http.Endpoint'
2023-05-19 14:17:47.972 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-05-19 14:17:47.980 +07:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2023-05-19 14:17:47.985 +07:00 [WRN] An error occurred while trying to create a DataContractSerializer for the type '<>f__AnonymousType0`1[[<>f__AnonymousType1`3[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Microsoft.AspNetCore.Mvc.Versioning, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60]], Microsoft.AspNetCore.Mvc.Versioning, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60]]'.
System.Runtime.Serialization.InvalidDataContractException: Type '<>f__AnonymousType0`1[<>f__AnonymousType1`3[System.String,System.String,<>f__AnonymousType2`1[System.String]]]' cannot be serialized. Consider marking it with the DataContractAttribute attribute, and marking all of its members you want serialized with the DataMemberAttribute attribute. Alternatively, you can ensure that the type is public and has a parameterless constructor - all public members of the type will then be serialized, and no attributes will be required.
   at System.Runtime.Serialization.DataContract.DataContractCriticalHelper.ThrowInvalidDataContractException(String message, Type type)
   at System.Runtime.Serialization.DataContract.DataContractCriticalHelper.CreateDataContract(Type type)
   at System.Runtime.Serialization.DataContract.DataContractCriticalHelper.CreateDataContract(Int32 id, RuntimeTypeHandle typeHandle, Type type)
   at System.Runtime.Serialization.DataContract.DataContractCriticalHelper.GetDataContractSkipValidation(Int32 id, RuntimeTypeHandle typeHandle, Type type)
   at System.Runtime.Serialization.DataContract.GetDataContract(RuntimeTypeHandle typeHandle, Type type, SerializationMode mode)
   at System.Runtime.Serialization.XsdDataContractExporter.GetRootElementName(Type type)
   at Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter.CreateSerializer(Type type)
2023-05-19 14:17:47.997 +07:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2023-05-19 14:17:48.001 +07:00 [WRN] No output formatter was found for content types '["text/plain"]' to write the response.
2023-05-19 14:17:48.006 +07:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Http.Endpoint'
2023-05-19 14:17:48.010 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/api/v/3/cities/1/pointsofinterest - - - 406 0 - 62.5323ms
2023-05-19 14:17:48.153 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/api/v/3/cities/1/pointsofinterest - -
2023-05-19 14:17:48.155 +07:00 [DBG] 1 candidate(s) found for the request path '/api/v/3/cities/1/pointsofinterest'
2023-05-19 14:17:48.157 +07:00 [DBG] Endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo)' with route pattern 'api/v/{ApiVersion}/cities/{cityId}/pointsofinterest' is valid for the request path '/api/v/3/cities/1/pointsofinterest'
2023-05-19 14:17:48.162 +07:00 [INF] Request did not specify a service API version, but multiple candidate actions were found. Candidate actions: APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo)
2023-05-19 14:17:48.166 +07:00 [DBG] Request matched endpoint 'null'
2023-05-19 14:17:48.169 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-19 14:17:48.172 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-05-19 14:17:48.176 +07:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Http.Endpoint'
2023-05-19 14:17:48.180 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-05-19 14:17:48.191 +07:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2023-05-19 14:17:48.197 +07:00 [WRN] An error occurred while trying to create a DataContractSerializer for the type '<>f__AnonymousType0`1[[<>f__AnonymousType1`3[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Microsoft.AspNetCore.Mvc.Versioning, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60]], Microsoft.AspNetCore.Mvc.Versioning, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60]]'.
System.Runtime.Serialization.InvalidDataContractException: Type '<>f__AnonymousType0`1[<>f__AnonymousType1`3[System.String,System.String,<>f__AnonymousType2`1[System.String]]]' cannot be serialized. Consider marking it with the DataContractAttribute attribute, and marking all of its members you want serialized with the DataMemberAttribute attribute. Alternatively, you can ensure that the type is public and has a parameterless constructor - all public members of the type will then be serialized, and no attributes will be required.
   at System.Runtime.Serialization.DataContract.DataContractCriticalHelper.ThrowInvalidDataContractException(String message, Type type)
   at System.Runtime.Serialization.DataContract.DataContractCriticalHelper.CreateDataContract(Type type)
   at System.Runtime.Serialization.DataContract.DataContractCriticalHelper.CreateDataContract(Int32 id, RuntimeTypeHandle typeHandle, Type type)
   at System.Runtime.Serialization.DataContract.DataContractCriticalHelper.GetDataContractSkipValidation(Int32 id, RuntimeTypeHandle typeHandle, Type type)
   at System.Runtime.Serialization.DataContract.GetDataContract(RuntimeTypeHandle typeHandle, Type type, SerializationMode mode)
   at System.Runtime.Serialization.XsdDataContractExporter.GetRootElementName(Type type)
   at Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter.CreateSerializer(Type type)
2023-05-19 14:17:48.210 +07:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2023-05-19 14:17:48.215 +07:00 [WRN] No output formatter was found for content types '["text/plain"]' to write the response.
2023-05-19 14:17:48.219 +07:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Http.Endpoint'
2023-05-19 14:17:48.224 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/api/v/3/cities/1/pointsofinterest - - - 406 0 - 70.3258ms
2023-05-19 14:17:49.124 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/api/v/3/cities/1/pointsofinterest - -
2023-05-19 14:17:49.127 +07:00 [DBG] 1 candidate(s) found for the request path '/api/v/3/cities/1/pointsofinterest'
2023-05-19 14:17:49.134 +07:00 [DBG] Endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo)' with route pattern 'api/v/{ApiVersion}/cities/{cityId}/pointsofinterest' is valid for the request path '/api/v/3/cities/1/pointsofinterest'
2023-05-19 14:17:49.137 +07:00 [INF] Request did not specify a service API version, but multiple candidate actions were found. Candidate actions: APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo)
2023-05-19 14:17:49.138 +07:00 [DBG] Request matched endpoint 'null'
2023-05-19 14:17:49.142 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-19 14:17:49.145 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-05-19 14:17:49.149 +07:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Http.Endpoint'
2023-05-19 14:17:49.153 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-05-19 14:17:49.162 +07:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2023-05-19 14:17:49.168 +07:00 [WRN] An error occurred while trying to create a DataContractSerializer for the type '<>f__AnonymousType0`1[[<>f__AnonymousType1`3[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Microsoft.AspNetCore.Mvc.Versioning, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60]], Microsoft.AspNetCore.Mvc.Versioning, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60]]'.
System.Runtime.Serialization.InvalidDataContractException: Type '<>f__AnonymousType0`1[<>f__AnonymousType1`3[System.String,System.String,<>f__AnonymousType2`1[System.String]]]' cannot be serialized. Consider marking it with the DataContractAttribute attribute, and marking all of its members you want serialized with the DataMemberAttribute attribute. Alternatively, you can ensure that the type is public and has a parameterless constructor - all public members of the type will then be serialized, and no attributes will be required.
   at System.Runtime.Serialization.DataContract.DataContractCriticalHelper.ThrowInvalidDataContractException(String message, Type type)
   at System.Runtime.Serialization.DataContract.DataContractCriticalHelper.CreateDataContract(Type type)
   at System.Runtime.Serialization.DataContract.DataContractCriticalHelper.CreateDataContract(Int32 id, RuntimeTypeHandle typeHandle, Type type)
   at System.Runtime.Serialization.DataContract.DataContractCriticalHelper.GetDataContractSkipValidation(Int32 id, RuntimeTypeHandle typeHandle, Type type)
   at System.Runtime.Serialization.DataContract.GetDataContract(RuntimeTypeHandle typeHandle, Type type, SerializationMode mode)
   at System.Runtime.Serialization.XsdDataContractExporter.GetRootElementName(Type type)
   at Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter.CreateSerializer(Type type)
2023-05-19 14:17:49.180 +07:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2023-05-19 14:17:49.185 +07:00 [WRN] No output formatter was found for content types '["text/plain"]' to write the response.
2023-05-19 14:17:49.191 +07:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Http.Endpoint'
2023-05-19 14:17:49.195 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/api/v/3/cities/1/pointsofinterest - - - 406 0 - 70.6279ms
2023-05-19 14:17:52.208 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/api/v/2/cities/1/pointsofinterest - -
2023-05-19 14:17:52.209 +07:00 [DBG] 1 candidate(s) found for the request path '/api/v/2/cities/1/pointsofinterest'
2023-05-19 14:17:52.211 +07:00 [DBG] Endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo)' with route pattern 'api/v/{ApiVersion}/cities/{cityId}/pointsofinterest' is valid for the request path '/api/v/2/cities/1/pointsofinterest'
2023-05-19 14:17:52.214 +07:00 [INF] Request did not specify a service API version, but multiple candidate actions were found. Candidate actions: APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo)
2023-05-19 14:17:52.216 +07:00 [DBG] Request matched endpoint 'null'
2023-05-19 14:17:52.219 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-19 14:17:52.220 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-05-19 14:17:52.223 +07:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Http.Endpoint'
2023-05-19 14:17:52.224 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-05-19 14:17:52.233 +07:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2023-05-19 14:17:52.237 +07:00 [WRN] An error occurred while trying to create a DataContractSerializer for the type '<>f__AnonymousType0`1[[<>f__AnonymousType1`3[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Microsoft.AspNetCore.Mvc.Versioning, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60]], Microsoft.AspNetCore.Mvc.Versioning, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60]]'.
System.Runtime.Serialization.InvalidDataContractException: Type '<>f__AnonymousType0`1[<>f__AnonymousType1`3[System.String,System.String,<>f__AnonymousType2`1[System.String]]]' cannot be serialized. Consider marking it with the DataContractAttribute attribute, and marking all of its members you want serialized with the DataMemberAttribute attribute. Alternatively, you can ensure that the type is public and has a parameterless constructor - all public members of the type will then be serialized, and no attributes will be required.
   at System.Runtime.Serialization.DataContract.DataContractCriticalHelper.ThrowInvalidDataContractException(String message, Type type)
   at System.Runtime.Serialization.DataContract.DataContractCriticalHelper.CreateDataContract(Type type)
   at System.Runtime.Serialization.DataContract.DataContractCriticalHelper.CreateDataContract(Int32 id, RuntimeTypeHandle typeHandle, Type type)
   at System.Runtime.Serialization.DataContract.DataContractCriticalHelper.GetDataContractSkipValidation(Int32 id, RuntimeTypeHandle typeHandle, Type type)
   at System.Runtime.Serialization.DataContract.GetDataContract(RuntimeTypeHandle typeHandle, Type type, SerializationMode mode)
   at System.Runtime.Serialization.XsdDataContractExporter.GetRootElementName(Type type)
   at Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter.CreateSerializer(Type type)
2023-05-19 14:17:52.247 +07:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2023-05-19 14:17:52.252 +07:00 [WRN] No output formatter was found for content types '["text/plain"]' to write the response.
2023-05-19 14:17:52.255 +07:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Http.Endpoint'
2023-05-19 14:17:52.258 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/api/v/2/cities/1/pointsofinterest - - - 406 0 - 49.8538ms
2023-05-19 14:17:53.417 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/api/v/2/cities/1/pointsofinterest - -
2023-05-19 14:17:53.419 +07:00 [DBG] 1 candidate(s) found for the request path '/api/v/2/cities/1/pointsofinterest'
2023-05-19 14:17:53.421 +07:00 [DBG] Endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo)' with route pattern 'api/v/{ApiVersion}/cities/{cityId}/pointsofinterest' is valid for the request path '/api/v/2/cities/1/pointsofinterest'
2023-05-19 14:17:53.423 +07:00 [INF] Request did not specify a service API version, but multiple candidate actions were found. Candidate actions: APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo)
2023-05-19 14:17:53.425 +07:00 [DBG] Request matched endpoint 'null'
2023-05-19 14:17:53.427 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-19 14:17:53.429 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-05-19 14:17:53.430 +07:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Http.Endpoint'
2023-05-19 14:17:53.432 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-05-19 14:17:53.437 +07:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2023-05-19 14:17:53.441 +07:00 [WRN] An error occurred while trying to create a DataContractSerializer for the type '<>f__AnonymousType0`1[[<>f__AnonymousType1`3[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Microsoft.AspNetCore.Mvc.Versioning, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60]], Microsoft.AspNetCore.Mvc.Versioning, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60]]'.
System.Runtime.Serialization.InvalidDataContractException: Type '<>f__AnonymousType0`1[<>f__AnonymousType1`3[System.String,System.String,<>f__AnonymousType2`1[System.String]]]' cannot be serialized. Consider marking it with the DataContractAttribute attribute, and marking all of its members you want serialized with the DataMemberAttribute attribute. Alternatively, you can ensure that the type is public and has a parameterless constructor - all public members of the type will then be serialized, and no attributes will be required.
   at System.Runtime.Serialization.DataContract.DataContractCriticalHelper.ThrowInvalidDataContractException(String message, Type type)
   at System.Runtime.Serialization.DataContract.DataContractCriticalHelper.CreateDataContract(Type type)
   at System.Runtime.Serialization.DataContract.DataContractCriticalHelper.CreateDataContract(Int32 id, RuntimeTypeHandle typeHandle, Type type)
   at System.Runtime.Serialization.DataContract.DataContractCriticalHelper.GetDataContractSkipValidation(Int32 id, RuntimeTypeHandle typeHandle, Type type)
   at System.Runtime.Serialization.DataContract.GetDataContract(RuntimeTypeHandle typeHandle, Type type, SerializationMode mode)
   at System.Runtime.Serialization.XsdDataContractExporter.GetRootElementName(Type type)
   at Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter.CreateSerializer(Type type)
2023-05-19 14:17:53.448 +07:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2023-05-19 14:17:53.451 +07:00 [WRN] No output formatter was found for content types '["text/plain"]' to write the response.
2023-05-19 14:17:53.453 +07:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Http.Endpoint'
2023-05-19 14:17:53.454 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/api/v/2/cities/1/pointsofinterest - - - 406 0 - 37.1977ms
2023-05-19 14:17:58.948 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/api/v/2/cities/1/pointsofinterest - -
2023-05-19 14:17:58.949 +07:00 [DBG] 1 candidate(s) found for the request path '/api/v/2/cities/1/pointsofinterest'
2023-05-19 14:17:58.958 +07:00 [DBG] Endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo)' with route pattern 'api/v/{ApiVersion}/cities/{cityId}/pointsofinterest' is valid for the request path '/api/v/2/cities/1/pointsofinterest'
2023-05-19 14:17:58.961 +07:00 [INF] Request did not specify a service API version, but multiple candidate actions were found. Candidate actions: APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo)
2023-05-19 14:17:58.963 +07:00 [DBG] Request matched endpoint 'null'
2023-05-19 14:17:58.965 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-19 14:17:58.966 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-05-19 14:17:58.969 +07:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Http.Endpoint'
2023-05-19 14:17:58.971 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-05-19 14:17:58.980 +07:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-05-19 14:17:58.985 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-05-19 14:17:58.989 +07:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`1[[<>f__AnonymousType1`3[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Microsoft.AspNetCore.Mvc.Versioning, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60]], Microsoft.AspNetCore.Mvc.Versioning, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60]]'.
2023-05-19 14:17:58.998 +07:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Http.Endpoint'
2023-05-19 14:17:59.001 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/api/v/2/cities/1/pointsofinterest - - - 400 196 application/json;+charset=utf-8 53.2621ms
2023-05-19 14:17:59.622 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/api/v/2/cities/1/pointsofinterest - -
2023-05-19 14:17:59.623 +07:00 [DBG] 1 candidate(s) found for the request path '/api/v/2/cities/1/pointsofinterest'
2023-05-19 14:17:59.625 +07:00 [DBG] Endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo)' with route pattern 'api/v/{ApiVersion}/cities/{cityId}/pointsofinterest' is valid for the request path '/api/v/2/cities/1/pointsofinterest'
2023-05-19 14:17:59.628 +07:00 [INF] Request did not specify a service API version, but multiple candidate actions were found. Candidate actions: APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo)
2023-05-19 14:17:59.630 +07:00 [DBG] Request matched endpoint 'null'
2023-05-19 14:17:59.631 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-19 14:17:59.633 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-05-19 14:17:59.636 +07:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Http.Endpoint'
2023-05-19 14:17:59.637 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-05-19 14:17:59.643 +07:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-05-19 14:17:59.646 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-05-19 14:17:59.650 +07:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`1[[<>f__AnonymousType1`3[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Microsoft.AspNetCore.Mvc.Versioning, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60]], Microsoft.AspNetCore.Mvc.Versioning, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60]]'.
2023-05-19 14:17:59.654 +07:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Http.Endpoint'
2023-05-19 14:17:59.656 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/api/v/2/cities/1/pointsofinterest - - - 400 196 application/json;+charset=utf-8 34.3449ms
2023-05-19 14:18:03.163 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/api/v/2/cities/1/pointsofinterest - -
2023-05-19 14:18:03.165 +07:00 [DBG] 1 candidate(s) found for the request path '/api/v/2/cities/1/pointsofinterest'
2023-05-19 14:18:03.168 +07:00 [DBG] Endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo)' with route pattern 'api/v/{ApiVersion}/cities/{cityId}/pointsofinterest' is valid for the request path '/api/v/2/cities/1/pointsofinterest'
2023-05-19 14:18:03.173 +07:00 [INF] Request did not specify a service API version, but multiple candidate actions were found. Candidate actions: APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo)
2023-05-19 14:18:03.177 +07:00 [DBG] Request matched endpoint 'null'
2023-05-19 14:18:03.180 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-19 14:18:03.183 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-05-19 14:18:03.187 +07:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Http.Endpoint'
2023-05-19 14:18:03.190 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-05-19 14:18:03.199 +07:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-05-19 14:18:03.203 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-05-19 14:18:03.207 +07:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`1[[<>f__AnonymousType1`3[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Microsoft.AspNetCore.Mvc.Versioning, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60]], Microsoft.AspNetCore.Mvc.Versioning, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60]]'.
2023-05-19 14:18:03.214 +07:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Http.Endpoint'
2023-05-19 14:18:03.217 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/api/v/2/cities/1/pointsofinterest - - - 400 196 application/json;+charset=utf-8 54.1199ms
2023-05-19 14:18:15.469 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/api/v/1/cities/1/pointsofinterest - -
2023-05-19 14:18:15.470 +07:00 [DBG] 1 candidate(s) found for the request path '/api/v/1/cities/1/pointsofinterest'
2023-05-19 14:18:15.472 +07:00 [DBG] Endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo)' with route pattern 'api/v/{ApiVersion}/cities/{cityId}/pointsofinterest' is valid for the request path '/api/v/1/cities/1/pointsofinterest'
2023-05-19 14:18:15.475 +07:00 [INF] Request did not specify a service API version, but multiple candidate actions were found. Candidate actions: APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo)
2023-05-19 14:18:15.478 +07:00 [DBG] Request matched endpoint 'null'
2023-05-19 14:18:15.481 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-19 14:18:15.483 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-05-19 14:18:15.486 +07:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Http.Endpoint'
2023-05-19 14:18:15.488 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-05-19 14:18:15.493 +07:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-05-19 14:18:15.496 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-05-19 14:18:15.499 +07:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`1[[<>f__AnonymousType1`3[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Microsoft.AspNetCore.Mvc.Versioning, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60]], Microsoft.AspNetCore.Mvc.Versioning, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60]]'.
2023-05-19 14:18:15.502 +07:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Http.Endpoint'
2023-05-19 14:18:15.504 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/api/v/1/cities/1/pointsofinterest - - - 400 196 application/json;+charset=utf-8 35.7509ms
2023-05-19 14:18:20.527 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/api/v/3/cities/1/pointsofinterest - -
2023-05-19 14:18:20.528 +07:00 [DBG] 1 candidate(s) found for the request path '/api/v/3/cities/1/pointsofinterest'
2023-05-19 14:18:20.530 +07:00 [DBG] Endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo)' with route pattern 'api/v/{ApiVersion}/cities/{cityId}/pointsofinterest' is valid for the request path '/api/v/3/cities/1/pointsofinterest'
2023-05-19 14:18:20.535 +07:00 [INF] Request did not specify a service API version, but multiple candidate actions were found. Candidate actions: APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo)
2023-05-19 14:18:20.538 +07:00 [DBG] Request matched endpoint 'null'
2023-05-19 14:18:20.541 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-19 14:18:20.543 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-05-19 14:18:20.546 +07:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Http.Endpoint'
2023-05-19 14:18:20.550 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-05-19 14:18:20.559 +07:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-05-19 14:18:20.563 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-05-19 14:18:20.569 +07:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`1[[<>f__AnonymousType1`3[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Microsoft.AspNetCore.Mvc.Versioning, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60]], Microsoft.AspNetCore.Mvc.Versioning, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60]]'.
2023-05-19 14:18:20.576 +07:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Http.Endpoint'
2023-05-19 14:18:20.578 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/api/v/3/cities/1/pointsofinterest - - - 400 196 application/json;+charset=utf-8 51.5428ms
2023-05-19 14:18:31.064 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/api/v/1/cities/1/pointsofinterest - -
2023-05-19 14:18:31.065 +07:00 [DBG] 1 candidate(s) found for the request path '/api/v/1/cities/1/pointsofinterest'
2023-05-19 14:18:31.067 +07:00 [DBG] Endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo)' with route pattern 'api/v/{ApiVersion}/cities/{cityId}/pointsofinterest' is valid for the request path '/api/v/1/cities/1/pointsofinterest'
2023-05-19 14:18:31.071 +07:00 [INF] Request did not specify a service API version, but multiple candidate actions were found. Candidate actions: APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo)
2023-05-19 14:18:31.074 +07:00 [DBG] Request matched endpoint 'null'
2023-05-19 14:18:31.077 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-19 14:18:31.079 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-05-19 14:18:31.083 +07:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Http.Endpoint'
2023-05-19 14:18:31.087 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-05-19 14:18:31.096 +07:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-05-19 14:18:31.101 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-05-19 14:18:31.106 +07:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`1[[<>f__AnonymousType1`3[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Microsoft.AspNetCore.Mvc.Versioning, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60]], Microsoft.AspNetCore.Mvc.Versioning, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60]]'.
2023-05-19 14:18:31.112 +07:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Http.Endpoint'
2023-05-19 14:18:31.114 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/api/v/1/cities/1/pointsofinterest - - - 400 196 application/json;+charset=utf-8 50.6791ms
2023-05-19 14:18:37.281 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/api/v/2/cities/1/pointsofinterest - -
2023-05-19 14:18:37.283 +07:00 [DBG] 1 candidate(s) found for the request path '/api/v/2/cities/1/pointsofinterest'
2023-05-19 14:18:37.285 +07:00 [DBG] Endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo)' with route pattern 'api/v/{ApiVersion}/cities/{cityId}/pointsofinterest' is valid for the request path '/api/v/2/cities/1/pointsofinterest'
2023-05-19 14:18:37.288 +07:00 [INF] Request did not specify a service API version, but multiple candidate actions were found. Candidate actions: APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo)
2023-05-19 14:18:37.290 +07:00 [DBG] Request matched endpoint 'null'
2023-05-19 14:18:37.293 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-19 14:18:37.295 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-05-19 14:18:37.299 +07:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Http.Endpoint'
2023-05-19 14:18:37.303 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-05-19 14:18:37.312 +07:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-05-19 14:18:37.318 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-05-19 14:18:37.323 +07:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`1[[<>f__AnonymousType1`3[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Microsoft.AspNetCore.Mvc.Versioning, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60]], Microsoft.AspNetCore.Mvc.Versioning, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60]]'.
2023-05-19 14:18:37.329 +07:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Http.Endpoint'
2023-05-19 14:18:37.336 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/api/v/2/cities/1/pointsofinterest - - - 400 196 application/json;+charset=utf-8 54.6458ms
2023-05-19 14:22:36.622 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-05-19 14:22:36.771 +07:00 [DBG] Hosting starting
2023-05-19 14:22:36.793 +07:00 [INF] User profile is available. Using 'C:\Users\Nguyen Huy Linh\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-05-19 14:22:36.800 +07:00 [DBG] Reading data from file 'C:\Users\Nguyen Huy Linh\AppData\Local\ASP.NET\DataProtection-Keys\key-7505044c-b74a-4d7d-8928-0e7c1b1e8a86.xml'.
2023-05-19 14:22:36.814 +07:00 [DBG] Found key {7505044c-b74a-4d7d-8928-0e7c1b1e8a86}.
2023-05-19 14:22:36.831 +07:00 [DBG] Considering key {7505044c-b74a-4d7d-8928-0e7c1b1e8a86} with expiration date 2023-07-20 00:27:35Z as default key.
2023-05-19 14:22:36.837 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-19 14:22:36.845 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-05-19 14:22:36.848 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-19 14:22:36.856 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-05-19 14:22:36.864 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-05-19 14:22:36.871 +07:00 [DBG] Using key {7505044c-b74a-4d7d-8928-0e7c1b1e8a86} as the default key.
2023-05-19 14:22:36.875 +07:00 [DBG] Key ring with default key {7505044c-b74a-4d7d-8928-0e7c1b1e8a86} was loaded during application startup.
2023-05-19 14:22:37.016 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 75D11A6361D7470A96C9C9E8EC2F301CE14CF8DD)
2023-05-19 14:22:37.060 +07:00 [INF] Now listening on: https://localhost:7269
2023-05-19 14:22:37.061 +07:00 [INF] Now listening on: http://localhost:5078
2023-05-19 14:22:37.063 +07:00 [DBG] Loaded hosting startup assembly APIDemo
2023-05-19 14:22:37.064 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-05-19 14:22:37.066 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-05-19 14:22:37.068 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-19 14:22:37.069 +07:00 [INF] Hosting environment: Development
2023-05-19 14:22:37.071 +07:00 [INF] Content root path: C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\
2023-05-19 14:22:37.073 +07:00 [DBG] Hosting started
2023-05-19 14:22:37.188 +07:00 [DBG] Connection id "0HMQO7798OQEA" accepted.
2023-05-19 14:22:37.194 +07:00 [DBG] Connection id "0HMQO7798OQEB" received FIN.
2023-05-19 14:22:37.196 +07:00 [DBG] Connection id "0HMQO7798OQEA" started.
2023-05-19 14:22:37.197 +07:00 [DBG] Connection id "0HMQO7798OQEB" accepted.
2023-05-19 14:22:37.197 +07:00 [DBG] Connection id "0HMQO7798OQEA" received FIN.
2023-05-19 14:22:37.199 +07:00 [DBG] Connection id "0HMQO7798OQEB" started.
2023-05-19 14:22:37.214 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-19 14:22:37.214 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-19 14:22:37.252 +07:00 [DBG] Connection id "0HMQO7798OQEA" stopped.
2023-05-19 14:22:37.252 +07:00 [DBG] Connection id "0HMQO7798OQEB" stopped.
2023-05-19 14:22:37.256 +07:00 [DBG] Connection id "0HMQO7798OQEA" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-19 14:22:37.257 +07:00 [DBG] Connection id "0HMQO7798OQEB" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-19 14:22:37.432 +07:00 [DBG] Connection id "0HMQO7798OQEC" accepted.
2023-05-19 14:22:37.436 +07:00 [DBG] Connection id "0HMQO7798OQEC" started.
2023-05-19 14:22:37.499 +07:00 [DBG] Connection 0HMQO7798OQEC established using the following protocol: "Tls12"
2023-05-19 14:22:37.550 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/index.html - -
2023-05-19 14:22:37.586 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-05-19 14:22:37.615 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-05-19 14:22:37.617 +07:00 [DBG] Request did not match any endpoints
2023-05-19 14:22:37.718 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-05-19 14:22:37.886 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_vs/browserLink - -
2023-05-19 14:22:37.886 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - -
2023-05-19 14:22:37.892 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-05-19 14:22:37.902 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 14.5246ms
2023-05-19 14:22:37.902 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/index.html - - - 200 - text/html;charset=utf-8 356.6081ms
2023-05-19 14:22:37.913 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 26.7330ms
2023-05-19 14:22:38.006 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - -
2023-05-19 14:22:38.007 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-05-19 14:22:38.009 +07:00 [DBG] Request did not match any endpoints
2023-05-19 14:22:38.188 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 181.8001ms
2023-05-19 14:22:50.543 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/api/v}/cities?pageNumber=1&pageSize=10 - -
2023-05-19 14:22:50.557 +07:00 [DBG] 1 candidate(s) found for the request path '/api/v}/cities'
2023-05-19 14:22:50.562 +07:00 [DBG] Endpoint 'APIDemo.Controllers.CitiesController.GetCities (APIDemo)' with route pattern 'api/v:{version:apiVersion}/cities' was rejected by complex segment 'v:{version:}' for the request path '/api/v}/cities'
2023-05-19 14:22:50.572 +07:00 [DBG] Endpoint 'APIDemo.Controllers.CitiesController.GetCities (APIDemo)' with route pattern 'api/v:{version:apiVersion}/cities' was rejected by constraint 'version':'Microsoft.AspNetCore.Mvc.Routing.ApiVersionRouteConstraint' with value 'null' for the request path '/api/v%7D/cities'
2023-05-19 14:22:50.586 +07:00 [DBG] Endpoint 'APIDemo.Controllers.CitiesController.GetCities (APIDemo)' with route pattern 'api/v:{version:apiVersion}/cities' is not valid for the request path '/api/v}/cities'
2023-05-19 14:22:50.609 +07:00 [DBG] Request did not match any endpoints
2023-05-19 14:22:50.615 +07:00 [DBG] The request path  does not match the path filter
2023-05-19 14:22:50.708 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-05-19 14:22:50.714 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/api/v}/cities?pageNumber=1&pageSize=10 - - - 404 0 - 171.1708ms
2023-05-19 14:23:05.462 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/api/v}/cities?pageNumber=1&pageSize=10 - -
2023-05-19 14:23:05.465 +07:00 [DBG] 1 candidate(s) found for the request path '/api/v}/cities'
2023-05-19 14:23:05.467 +07:00 [DBG] Endpoint 'APIDemo.Controllers.CitiesController.GetCities (APIDemo)' with route pattern 'api/v:{version:apiVersion}/cities' was rejected by complex segment 'v:{version:}' for the request path '/api/v}/cities'
2023-05-19 14:23:05.471 +07:00 [DBG] Endpoint 'APIDemo.Controllers.CitiesController.GetCities (APIDemo)' with route pattern 'api/v:{version:apiVersion}/cities' was rejected by constraint 'version':'Microsoft.AspNetCore.Mvc.Routing.ApiVersionRouteConstraint' with value 'null' for the request path '/api/v%7D/cities'
2023-05-19 14:23:05.477 +07:00 [DBG] Endpoint 'APIDemo.Controllers.CitiesController.GetCities (APIDemo)' with route pattern 'api/v:{version:apiVersion}/cities' is not valid for the request path '/api/v}/cities'
2023-05-19 14:23:05.481 +07:00 [DBG] Request did not match any endpoints
2023-05-19 14:23:05.483 +07:00 [DBG] The request path  does not match the path filter
2023-05-19 14:23:05.485 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-05-19 14:23:05.492 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/api/v}/cities?pageNumber=1&pageSize=10 - - - 404 0 - 30.1728ms
2023-05-19 14:23:41.450 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-05-19 14:23:41.615 +07:00 [DBG] Hosting starting
2023-05-19 14:23:41.639 +07:00 [INF] User profile is available. Using 'C:\Users\Nguyen Huy Linh\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-05-19 14:23:41.645 +07:00 [DBG] Reading data from file 'C:\Users\Nguyen Huy Linh\AppData\Local\ASP.NET\DataProtection-Keys\key-7505044c-b74a-4d7d-8928-0e7c1b1e8a86.xml'.
2023-05-19 14:23:41.672 +07:00 [DBG] Found key {7505044c-b74a-4d7d-8928-0e7c1b1e8a86}.
2023-05-19 14:23:41.688 +07:00 [DBG] Considering key {7505044c-b74a-4d7d-8928-0e7c1b1e8a86} with expiration date 2023-07-20 00:27:35Z as default key.
2023-05-19 14:23:41.691 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-19 14:23:41.696 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-05-19 14:23:41.699 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-19 14:23:41.708 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-05-19 14:23:41.712 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-05-19 14:23:41.717 +07:00 [DBG] Using key {7505044c-b74a-4d7d-8928-0e7c1b1e8a86} as the default key.
2023-05-19 14:23:41.719 +07:00 [DBG] Key ring with default key {7505044c-b74a-4d7d-8928-0e7c1b1e8a86} was loaded during application startup.
2023-05-19 14:23:41.856 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 75D11A6361D7470A96C9C9E8EC2F301CE14CF8DD)
2023-05-19 14:23:41.887 +07:00 [INF] Now listening on: https://localhost:7269
2023-05-19 14:23:41.888 +07:00 [INF] Now listening on: http://localhost:5078
2023-05-19 14:23:41.890 +07:00 [DBG] Loaded hosting startup assembly APIDemo
2023-05-19 14:23:41.891 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-05-19 14:23:41.892 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-05-19 14:23:41.893 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-19 14:23:41.894 +07:00 [INF] Hosting environment: Development
2023-05-19 14:23:41.895 +07:00 [INF] Content root path: C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\
2023-05-19 14:23:41.897 +07:00 [DBG] Hosting started
2023-05-19 14:23:42.168 +07:00 [DBG] Connection id "0HMQO77SKG2V4" received FIN.
2023-05-19 14:23:42.179 +07:00 [DBG] Connection id "0HMQO77SKG2V4" accepted.
2023-05-19 14:23:42.183 +07:00 [DBG] Connection id "0HMQO77SKG2V4" started.
2023-05-19 14:23:42.199 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-19 14:23:42.241 +07:00 [DBG] Connection id "0HMQO77SKG2V4" stopped.
2023-05-19 14:23:42.247 +07:00 [DBG] Connection id "0HMQO77SKG2V4" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-19 14:23:42.448 +07:00 [DBG] Connection id "0HMQO77SKG2V5" accepted.
2023-05-19 14:23:42.450 +07:00 [DBG] Connection id "0HMQO77SKG2V5" started.
2023-05-19 14:23:42.511 +07:00 [DBG] Connection 0HMQO77SKG2V5 established using the following protocol: "Tls12"
2023-05-19 14:23:42.560 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/index.html - -
2023-05-19 14:23:42.593 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-05-19 14:23:42.622 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-05-19 14:23:42.626 +07:00 [DBG] Request did not match any endpoints
2023-05-19 14:23:42.733 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-05-19 14:23:42.886 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - -
2023-05-19 14:23:42.886 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_vs/browserLink - -
2023-05-19 14:23:42.894 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-05-19 14:23:42.913 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/index.html - - - 200 - text/html;charset=utf-8 356.9357ms
2023-05-19 14:23:42.913 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 25.0811ms
2023-05-19 14:23:42.925 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 38.5002ms
2023-05-19 14:23:43.015 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - -
2023-05-19 14:23:43.016 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-05-19 14:23:43.017 +07:00 [DBG] Request did not match any endpoints
2023-05-19 14:23:43.218 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 203.2428ms
2023-05-19 14:24:00.264 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/api/v1/cities?pageNumber=1&pageSize=10 - -
2023-05-19 14:24:00.274 +07:00 [DBG] 1 candidate(s) found for the request path '/api/v1/cities'
2023-05-19 14:24:00.282 +07:00 [DBG] Endpoint 'APIDemo.Controllers.CitiesController.GetCities (APIDemo)' with route pattern 'api/v{version:apiVersion}/cities' is valid for the request path '/api/v1/cities'
2023-05-19 14:24:00.292 +07:00 [DBG] Request matched endpoint 'APIDemo.Controllers.CitiesController.GetCities (APIDemo)'
2023-05-19 14:24:00.296 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-19 14:24:00.376 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-05-19 14:24:00.381 +07:00 [INF] Executing endpoint 'APIDemo.Controllers.CitiesController.GetCities (APIDemo)'
2023-05-19 14:24:00.417 +07:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[APIDemo.Models.CityDTO]]] GetCities(System.String, System.String, Int32, Int32) on controller APIDemo.Controllers.CitiesController (APIDemo).
2023-05-19 14:24:00.424 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-19 14:24:00.429 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-19 14:24:00.435 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-05-19 14:24:00.443 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-19 14:24:00.447 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-05-19 14:24:00.454 +07:00 [DBG] Executing controller factory for controller APIDemo.Controllers.CitiesController (APIDemo)
2023-05-19 14:24:00.621 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-05-19 14:24:00.852 +07:00 [DBG] Executed controller factory for controller APIDemo.Controllers.CitiesController (APIDemo)
2023-05-19 14:24:00.864 +07:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-05-19 14:24:00.868 +07:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2023-05-19 14:24:00.871 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2023-05-19 14:24:00.873 +07:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-05-19 14:24:00.875 +07:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-05-19 14:24:00.877 +07:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-05-19 14:24:00.880 +07:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-05-19 14:24:00.883 +07:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-05-19 14:24:00.885 +07:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2023-05-19 14:24:00.887 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2023-05-19 14:24:00.890 +07:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-05-19 14:24:00.892 +07:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-05-19 14:24:00.895 +07:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-05-19 14:24:00.897 +07:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-05-19 14:24:00.899 +07:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-05-19 14:24:00.901 +07:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-05-19 14:24:00.904 +07:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-05-19 14:24:00.906 +07:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-05-19 14:24:00.910 +07:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-05-19 14:24:00.912 +07:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-05-19 14:24:00.914 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-05-19 14:24:00.915 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2023-05-19 14:24:00.918 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-05-19 14:24:00.920 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-05-19 14:24:00.922 +07:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-05-19 14:24:00.923 +07:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-05-19 14:24:01.900 +07:00 [INF] Entity Framework Core 6.0.16 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.16' with options: None
2023-05-19 14:24:01.951 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Count()'
2023-05-19 14:24:02.286 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<int>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT COUNT(*)
        FROM Cities AS c), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
    APIDemo.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)
    .Single()'
2023-05-19 14:24:02.333 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-19 14:24:02.584 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (246ms).
2023-05-19 14:24:02.594 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-19 14:24:02.616 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-19 14:24:02.634 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2023-05-19 14:24:02.671 +07:00 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2023-05-19 14:24:02.688 +07:00 [DBG] A data reader was disposed.
2023-05-19 14:24:02.695 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-19 14:24:02.707 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-19 14:24:02.728 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)
    .Skip(__p_0)
    .Take(__p_1)'
2023-05-19 14:24:02.822 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(50), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    APIDemo.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-05-19 14:24:02.852 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-19 14:24:02.854 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-05-19 14:24:02.869 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-19 14:24:02.874 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-19 14:24:02.884 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2023-05-19 14:24:02.896 +07:00 [INF] Executed DbCommand (18ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2023-05-19 14:24:02.922 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-19 14:24:02.951 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-19 14:24:02.955 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-19 14:24:02.963 +07:00 [DBG] A data reader was disposed.
2023-05-19 14:24:02.972 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-19 14:24:02.976 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-19 14:24:03.131 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-05-19 14:24:03.140 +07:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-05-19 14:24:03.143 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-05-19 14:24:03.147 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[APIDemo.Models.CityWithoutPointOfInterestDTO, APIDemo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-05-19 14:24:03.217 +07:00 [INF] Executed action APIDemo.Controllers.CitiesController.GetCities (APIDemo) in 2758.2371ms
2023-05-19 14:24:03.223 +07:00 [INF] Executed endpoint 'APIDemo.Controllers.CitiesController.GetCities (APIDemo)'
2023-05-19 14:24:03.232 +07:00 [DBG] 'CityInfoContext' disposed.
2023-05-19 14:24:03.239 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/api/v1/cities?pageNumber=1&pageSize=10 - - - 200 153 application/json;+charset=utf-8 2975.4554ms
2023-05-19 14:24:19.294 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-05-19 14:24:19.461 +07:00 [DBG] Hosting starting
2023-05-19 14:24:19.482 +07:00 [INF] User profile is available. Using 'C:\Users\Nguyen Huy Linh\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-05-19 14:24:19.486 +07:00 [DBG] Reading data from file 'C:\Users\Nguyen Huy Linh\AppData\Local\ASP.NET\DataProtection-Keys\key-7505044c-b74a-4d7d-8928-0e7c1b1e8a86.xml'.
2023-05-19 14:24:19.497 +07:00 [DBG] Found key {7505044c-b74a-4d7d-8928-0e7c1b1e8a86}.
2023-05-19 14:24:19.511 +07:00 [DBG] Considering key {7505044c-b74a-4d7d-8928-0e7c1b1e8a86} with expiration date 2023-07-20 00:27:35Z as default key.
2023-05-19 14:24:19.514 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-19 14:24:19.519 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-05-19 14:24:19.521 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-19 14:24:19.527 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-05-19 14:24:19.530 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-05-19 14:24:19.535 +07:00 [DBG] Using key {7505044c-b74a-4d7d-8928-0e7c1b1e8a86} as the default key.
2023-05-19 14:24:19.536 +07:00 [DBG] Key ring with default key {7505044c-b74a-4d7d-8928-0e7c1b1e8a86} was loaded during application startup.
2023-05-19 14:24:19.676 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 75D11A6361D7470A96C9C9E8EC2F301CE14CF8DD)
2023-05-19 14:24:19.719 +07:00 [INF] Now listening on: https://localhost:7269
2023-05-19 14:24:19.720 +07:00 [INF] Now listening on: http://localhost:5078
2023-05-19 14:24:19.722 +07:00 [DBG] Loaded hosting startup assembly APIDemo
2023-05-19 14:24:19.723 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-05-19 14:24:19.725 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-05-19 14:24:19.727 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-19 14:24:19.729 +07:00 [INF] Hosting environment: Development
2023-05-19 14:24:19.731 +07:00 [INF] Content root path: C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\
2023-05-19 14:24:19.732 +07:00 [DBG] Hosting started
2023-05-19 14:24:19.882 +07:00 [DBG] Connection id "0HMQO787S5FOH" received FIN.
2023-05-19 14:24:19.893 +07:00 [DBG] Connection id "0HMQO787S5FOH" accepted.
2023-05-19 14:24:19.896 +07:00 [DBG] Connection id "0HMQO787S5FOH" started.
2023-05-19 14:24:19.912 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-19 14:24:19.950 +07:00 [DBG] Connection id "0HMQO787S5FOH" stopped.
2023-05-19 14:24:19.956 +07:00 [DBG] Connection id "0HMQO787S5FOH" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-19 14:24:20.119 +07:00 [DBG] Connection id "0HMQO787S5FOI" accepted.
2023-05-19 14:24:20.121 +07:00 [DBG] Connection id "0HMQO787S5FOI" started.
2023-05-19 14:24:20.181 +07:00 [DBG] Connection 0HMQO787S5FOI established using the following protocol: "Tls12"
2023-05-19 14:24:20.230 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/index.html - -
2023-05-19 14:24:20.265 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-05-19 14:24:20.293 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-05-19 14:24:20.294 +07:00 [DBG] Request did not match any endpoints
2023-05-19 14:24:20.396 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-05-19 14:24:20.557 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_vs/browserLink - -
2023-05-19 14:24:20.557 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - -
2023-05-19 14:24:20.563 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-05-19 14:24:20.588 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 17.2925ms
2023-05-19 14:24:20.588 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/index.html - - - 200 - text/html;charset=utf-8 356.2299ms
2023-05-19 14:24:20.599 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 41.5984ms
2023-05-19 14:24:20.687 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - -
2023-05-19 14:24:20.688 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-05-19 14:24:20.690 +07:00 [DBG] Request did not match any endpoints
2023-05-19 14:24:20.875 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 188.7844ms
2023-05-19 14:24:31.007 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/api/v1/cities?pageNumber=1&pageSize=10 - -
2023-05-19 14:24:31.018 +07:00 [DBG] 1 candidate(s) found for the request path '/api/v1/cities'
2023-05-19 14:24:31.026 +07:00 [DBG] Endpoint 'APIDemo.Controllers.CitiesController.GetCities (APIDemo)' with route pattern 'api/v{version:apiVersion}/cities' is valid for the request path '/api/v1/cities'
2023-05-19 14:24:31.037 +07:00 [DBG] Request matched endpoint 'APIDemo.Controllers.CitiesController.GetCities (APIDemo)'
2023-05-19 14:24:31.039 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-19 14:24:31.110 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-05-19 14:24:31.117 +07:00 [INF] Executing endpoint 'APIDemo.Controllers.CitiesController.GetCities (APIDemo)'
2023-05-19 14:24:31.154 +07:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[APIDemo.Models.CityDTO]]] GetCities(System.String, System.String, Int32, Int32) on controller APIDemo.Controllers.CitiesController (APIDemo).
2023-05-19 14:24:31.162 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-19 14:24:31.167 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-19 14:24:31.172 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-05-19 14:24:31.180 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-19 14:24:31.185 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-05-19 14:24:31.191 +07:00 [DBG] Executing controller factory for controller APIDemo.Controllers.CitiesController (APIDemo)
2023-05-19 14:24:31.358 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-05-19 14:24:31.576 +07:00 [DBG] Executed controller factory for controller APIDemo.Controllers.CitiesController (APIDemo)
2023-05-19 14:24:31.590 +07:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-05-19 14:24:31.597 +07:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2023-05-19 14:24:31.602 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2023-05-19 14:24:31.607 +07:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-05-19 14:24:31.612 +07:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-05-19 14:24:31.616 +07:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-05-19 14:24:31.619 +07:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-05-19 14:24:31.623 +07:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-05-19 14:24:31.626 +07:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2023-05-19 14:24:31.631 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2023-05-19 14:24:31.635 +07:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-05-19 14:24:31.639 +07:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-05-19 14:24:31.644 +07:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-05-19 14:24:31.649 +07:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-05-19 14:24:31.653 +07:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-05-19 14:24:31.658 +07:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-05-19 14:24:31.664 +07:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-05-19 14:24:31.668 +07:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-05-19 14:24:31.673 +07:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-05-19 14:24:31.679 +07:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-05-19 14:24:31.683 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-05-19 14:24:31.687 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2023-05-19 14:24:31.694 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-05-19 14:24:31.699 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-05-19 14:24:31.703 +07:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-05-19 14:24:31.709 +07:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-05-19 14:24:32.675 +07:00 [INF] Entity Framework Core 6.0.16 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.16' with options: None
2023-05-19 14:24:32.725 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Count()'
2023-05-19 14:24:33.056 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<int>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT COUNT(*)
        FROM Cities AS c), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
    APIDemo.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)
    .Single()'
2023-05-19 14:24:33.103 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-19 14:24:33.183 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (75ms).
2023-05-19 14:24:33.193 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-19 14:24:33.218 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-19 14:24:33.235 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2023-05-19 14:24:33.266 +07:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2023-05-19 14:24:33.281 +07:00 [DBG] A data reader was disposed.
2023-05-19 14:24:33.288 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-19 14:24:33.297 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-19 14:24:33.317 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)
    .Skip(__p_0)
    .Take(__p_1)'
2023-05-19 14:24:33.400 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(50), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    APIDemo.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-05-19 14:24:33.427 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-19 14:24:33.429 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-05-19 14:24:33.445 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-19 14:24:33.449 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-19 14:24:33.459 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2023-05-19 14:24:33.473 +07:00 [INF] Executed DbCommand (20ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2023-05-19 14:24:33.502 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-19 14:24:33.535 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-19 14:24:33.540 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-19 14:24:33.551 +07:00 [DBG] A data reader was disposed.
2023-05-19 14:24:33.560 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-19 14:24:33.566 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-19 14:24:33.726 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-05-19 14:24:33.734 +07:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-05-19 14:24:33.739 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-05-19 14:24:33.745 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[APIDemo.Models.CityWithoutPointOfInterestDTO, APIDemo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-05-19 14:24:33.794 +07:00 [INF] Executed action APIDemo.Controllers.CitiesController.GetCities (APIDemo) in 2598.4213ms
2023-05-19 14:24:33.797 +07:00 [INF] Executed endpoint 'APIDemo.Controllers.CitiesController.GetCities (APIDemo)'
2023-05-19 14:24:33.805 +07:00 [DBG] 'CityInfoContext' disposed.
2023-05-19 14:24:33.810 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/api/v1/cities?pageNumber=1&pageSize=10 - - - 200 153 application/json;+charset=utf-8 2803.1231ms
2023-05-19 14:24:40.386 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/api/v2/cities?pageNumber=1&pageSize=10 - -
2023-05-19 14:24:40.388 +07:00 [DBG] 1 candidate(s) found for the request path '/api/v2/cities'
2023-05-19 14:24:40.391 +07:00 [DBG] Endpoint 'APIDemo.Controllers.CitiesController.GetCities (APIDemo)' with route pattern 'api/v{version:apiVersion}/cities' is valid for the request path '/api/v2/cities'
2023-05-19 14:24:40.400 +07:00 [INF] Multiple candidate actions were found, but none matched the requested service API version '2'. Candidate actions: APIDemo.Controllers.CitiesController.GetCities (APIDemo)
2023-05-19 14:24:40.403 +07:00 [DBG] Request matched endpoint 'null'
2023-05-19 14:24:40.404 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-19 14:24:40.406 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-05-19 14:24:40.407 +07:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Http.Endpoint'
2023-05-19 14:24:40.411 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-05-19 14:24:40.415 +07:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-05-19 14:24:40.417 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-05-19 14:24:40.419 +07:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`1[[<>f__AnonymousType1`3[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Microsoft.AspNetCore.Mvc.Versioning, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60]], Microsoft.AspNetCore.Mvc.Versioning, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60]]'.
2023-05-19 14:24:40.425 +07:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Http.Endpoint'
2023-05-19 14:24:40.426 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/api/v2/cities?pageNumber=1&pageSize=10 - - - 400 196 application/json;+charset=utf-8 40.6921ms
2023-05-19 14:24:53.807 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/api/v1/cities/1/pointsofinterest - -
2023-05-19 14:24:53.808 +07:00 [DBG] 1 candidate(s) found for the request path '/api/v1/cities/1/pointsofinterest'
2023-05-19 14:24:53.810 +07:00 [DBG] Endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo)' with route pattern 'api/v{version:apiVersion}/cities/{cityId}/pointsofinterest' is valid for the request path '/api/v1/cities/1/pointsofinterest'
2023-05-19 14:24:53.815 +07:00 [INF] Multiple candidate actions were found, but none matched the requested service API version '1'. Candidate actions: APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo)
2023-05-19 14:24:53.818 +07:00 [DBG] Request matched endpoint 'null'
2023-05-19 14:24:53.820 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-19 14:24:53.825 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-05-19 14:24:53.828 +07:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Http.Endpoint'
2023-05-19 14:24:53.832 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-05-19 14:24:53.841 +07:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2023-05-19 14:24:53.847 +07:00 [WRN] An error occurred while trying to create a DataContractSerializer for the type '<>f__AnonymousType0`1[[<>f__AnonymousType1`3[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Microsoft.AspNetCore.Mvc.Versioning, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60]], Microsoft.AspNetCore.Mvc.Versioning, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60]]'.
System.Runtime.Serialization.InvalidDataContractException: Type '<>f__AnonymousType0`1[<>f__AnonymousType1`3[System.String,System.String,<>f__AnonymousType2`1[System.String]]]' cannot be serialized. Consider marking it with the DataContractAttribute attribute, and marking all of its members you want serialized with the DataMemberAttribute attribute. Alternatively, you can ensure that the type is public and has a parameterless constructor - all public members of the type will then be serialized, and no attributes will be required.
   at System.Runtime.Serialization.DataContract.DataContractCriticalHelper.ThrowInvalidDataContractException(String message, Type type)
   at System.Runtime.Serialization.DataContract.DataContractCriticalHelper.CreateDataContract(Type type)
   at System.Runtime.Serialization.DataContract.DataContractCriticalHelper.CreateDataContract(Int32 id, RuntimeTypeHandle typeHandle, Type type)
   at System.Runtime.Serialization.DataContract.DataContractCriticalHelper.GetDataContractSkipValidation(Int32 id, RuntimeTypeHandle typeHandle, Type type)
   at System.Runtime.Serialization.DataContract.GetDataContract(RuntimeTypeHandle typeHandle, Type type, SerializationMode mode)
   at System.Runtime.Serialization.XsdDataContractExporter.GetRootElementName(Type type)
   at Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter.CreateSerializer(Type type)
2023-05-19 14:24:53.861 +07:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2023-05-19 14:24:53.865 +07:00 [WRN] No output formatter was found for content types '["text/plain"]' to write the response.
2023-05-19 14:24:53.868 +07:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Http.Endpoint'
2023-05-19 14:24:53.872 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/api/v1/cities/1/pointsofinterest - - - 406 0 - 65.1788ms
2023-05-19 14:24:58.970 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/api/v2/cities/1/pointsofinterest - -
2023-05-19 14:24:58.972 +07:00 [DBG] 1 candidate(s) found for the request path '/api/v2/cities/1/pointsofinterest'
2023-05-19 14:24:58.974 +07:00 [DBG] Endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo)' with route pattern 'api/v{version:apiVersion}/cities/{cityId}/pointsofinterest' is valid for the request path '/api/v2/cities/1/pointsofinterest'
2023-05-19 14:24:58.978 +07:00 [DBG] Request matched endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo)'
2023-05-19 14:24:58.980 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-19 14:24:58.981 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-05-19 14:24:58.983 +07:00 [INF] Executing endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo)'
2023-05-19 14:24:58.988 +07:00 [INF] Route matched with {action = "GetPointOfInterests", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[APIDemo.Models.PointOfInterestDTO]]] GetPointOfInterests(Int32, System.String, System.String) on controller APIDemo.Controllers.PointOfInterestController (APIDemo).
2023-05-19 14:24:58.992 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-19 14:24:58.994 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-19 14:24:58.996 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-05-19 14:24:58.999 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-19 14:24:59.002 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-05-19 14:24:59.005 +07:00 [DBG] Executing controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-19 14:24:59.007 +07:00 [DBG] Executed controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-19 14:24:59.009 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-05-19 14:24:59.010 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-05-19 14:24:59.012 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-19 14:24:59.014 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-19 14:24:59.016 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-05-19 14:24:59.019 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-05-19 14:24:59.022 +07:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-05-19 14:24:59.027 +07:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2023-05-19 14:24:59.032 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2023-05-19 14:24:59.037 +07:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-05-19 14:24:59.042 +07:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-05-19 14:24:59.047 +07:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-05-19 14:24:59.051 +07:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-05-19 14:24:59.054 +07:00 [DBG] Attempting to bind parameter 'querySomething' of type 'System.String' ...
2023-05-19 14:24:59.057 +07:00 [DBG] Attempting to bind parameter 'querySomething' of type 'System.String' using the name '' in request data ...
2023-05-19 14:24:59.062 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'querySomething' of type 'System.String'.
2023-05-19 14:24:59.068 +07:00 [DBG] Done attempting to bind parameter 'querySomething' of type 'System.String'.
2023-05-19 14:24:59.071 +07:00 [DBG] Done attempting to bind parameter 'querySomething' of type 'System.String'.
2023-05-19 14:24:59.076 +07:00 [DBG] Attempting to validate the bound parameter 'querySomething' of type 'System.String' ...
2023-05-19 14:24:59.082 +07:00 [DBG] Done attempting to validate the bound parameter 'querySomething' of type 'System.String'.
2023-05-19 14:24:59.103 +07:00 [INF] Entity Framework Core 6.0.16 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.16' with options: None
2023-05-19 14:24:59.114 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Name == __name_0 && c.Id == __id_1)'
2023-05-19 14:24:59.158 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE (c.Name == @__name_0) && (c.Id == @__id_1))), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        APIDemo.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-19 14:24:59.191 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-19 14:24:59.194 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-05-19 14:24:59.199 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-19 14:24:59.204 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-19 14:24:59.208 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 0
2023-05-19 14:24:59.215 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 0
2023-05-19 14:24:59.222 +07:00 [DBG] A data reader was disposed.
2023-05-19 14:24:59.224 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-19 14:24:59.227 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-19 14:24:59.232 +07:00 [INF] Executing ForbidResult with authentication schemes ([]).
2023-05-19 14:24:59.239 +07:00 [INF] AuthenticationScheme: Bearer was forbidden.
2023-05-19 14:24:59.243 +07:00 [INF] Executed action APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo) in 237.8047ms
2023-05-19 14:24:59.247 +07:00 [INF] Executed endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo)'
2023-05-19 14:24:59.251 +07:00 [DBG] 'CityInfoContext' disposed.
2023-05-19 14:24:59.254 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/api/v2/cities/1/pointsofinterest - - - 403 0 - 283.7057ms
2023-05-19 14:25:06.742 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/api/v2/cities/1/pointsofinterest - -
2023-05-19 14:25:06.744 +07:00 [DBG] 1 candidate(s) found for the request path '/api/v2/cities/1/pointsofinterest'
2023-05-19 14:25:06.746 +07:00 [DBG] Endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo)' with route pattern 'api/v{version:apiVersion}/cities/{cityId}/pointsofinterest' is valid for the request path '/api/v2/cities/1/pointsofinterest'
2023-05-19 14:25:06.751 +07:00 [DBG] Request matched endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo)'
2023-05-19 14:25:06.755 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-19 14:25:06.756 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-05-19 14:25:06.760 +07:00 [INF] Executing endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo)'
2023-05-19 14:25:06.764 +07:00 [INF] Route matched with {action = "GetPointOfInterests", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[APIDemo.Models.PointOfInterestDTO]]] GetPointOfInterests(Int32, System.String, System.String) on controller APIDemo.Controllers.PointOfInterestController (APIDemo).
2023-05-19 14:25:06.771 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-19 14:25:06.775 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-19 14:25:06.781 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-05-19 14:25:06.789 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-19 14:25:06.795 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-05-19 14:25:06.802 +07:00 [DBG] Executing controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-19 14:25:06.808 +07:00 [DBG] Executed controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-19 14:25:06.813 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-05-19 14:25:06.818 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-05-19 14:25:06.823 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-19 14:25:06.828 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-19 14:25:06.833 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-05-19 14:25:06.837 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-05-19 14:25:06.842 +07:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-05-19 14:25:06.847 +07:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2023-05-19 14:25:06.853 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2023-05-19 14:25:06.857 +07:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-05-19 14:25:06.862 +07:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-05-19 14:25:06.867 +07:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-05-19 14:25:06.871 +07:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-05-19 14:25:06.875 +07:00 [DBG] Attempting to bind parameter 'querySomething' of type 'System.String' ...
2023-05-19 14:25:06.880 +07:00 [DBG] Attempting to bind parameter 'querySomething' of type 'System.String' using the name '' in request data ...
2023-05-19 14:25:06.885 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'querySomething' of type 'System.String'.
2023-05-19 14:25:06.891 +07:00 [DBG] Done attempting to bind parameter 'querySomething' of type 'System.String'.
2023-05-19 14:25:06.896 +07:00 [DBG] Done attempting to bind parameter 'querySomething' of type 'System.String'.
2023-05-19 14:25:06.900 +07:00 [DBG] Attempting to validate the bound parameter 'querySomething' of type 'System.String' ...
2023-05-19 14:25:06.904 +07:00 [DBG] Done attempting to validate the bound parameter 'querySomething' of type 'System.String'.
2023-05-19 14:25:06.984 +07:00 [INF] Entity Framework Core 6.0.16 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.16' with options: None
2023-05-19 14:25:06.995 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-19 14:25:06.999 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-05-19 14:25:07.004 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-19 14:25:07.008 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-19 14:25:07.013 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 0
2023-05-19 14:25:07.019 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 0
2023-05-19 14:25:07.028 +07:00 [DBG] A data reader was disposed.
2023-05-19 14:25:07.032 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-19 14:25:07.039 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-19 14:25:07.045 +07:00 [INF] Executing ForbidResult with authentication schemes ([]).
2023-05-19 14:25:07.052 +07:00 [INF] AuthenticationScheme: Bearer was forbidden.
2023-05-19 14:25:07.057 +07:00 [INF] Executed action APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo) in 255.7282ms
2023-05-19 14:25:07.064 +07:00 [INF] Executed endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo)'
2023-05-19 14:25:07.070 +07:00 [DBG] 'CityInfoContext' disposed.
2023-05-19 14:25:07.074 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/api/v2/cities/1/pointsofinterest - - - 403 0 - 331.8735ms
2023-05-19 14:25:40.604 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-05-19 14:25:40.791 +07:00 [DBG] Hosting starting
2023-05-19 14:25:40.816 +07:00 [INF] User profile is available. Using 'C:\Users\Nguyen Huy Linh\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-05-19 14:25:40.820 +07:00 [DBG] Reading data from file 'C:\Users\Nguyen Huy Linh\AppData\Local\ASP.NET\DataProtection-Keys\key-7505044c-b74a-4d7d-8928-0e7c1b1e8a86.xml'.
2023-05-19 14:25:40.833 +07:00 [DBG] Found key {7505044c-b74a-4d7d-8928-0e7c1b1e8a86}.
2023-05-19 14:25:40.846 +07:00 [DBG] Considering key {7505044c-b74a-4d7d-8928-0e7c1b1e8a86} with expiration date 2023-07-20 00:27:35Z as default key.
2023-05-19 14:25:40.849 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-19 14:25:40.853 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-05-19 14:25:40.856 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-19 14:25:40.861 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-05-19 14:25:40.864 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-05-19 14:25:40.869 +07:00 [DBG] Using key {7505044c-b74a-4d7d-8928-0e7c1b1e8a86} as the default key.
2023-05-19 14:25:40.872 +07:00 [DBG] Key ring with default key {7505044c-b74a-4d7d-8928-0e7c1b1e8a86} was loaded during application startup.
2023-05-19 14:25:41.009 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 75D11A6361D7470A96C9C9E8EC2F301CE14CF8DD)
2023-05-19 14:25:41.055 +07:00 [INF] Now listening on: https://localhost:7269
2023-05-19 14:25:41.056 +07:00 [INF] Now listening on: http://localhost:5078
2023-05-19 14:25:41.058 +07:00 [DBG] Loaded hosting startup assembly APIDemo
2023-05-19 14:25:41.060 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-05-19 14:25:41.061 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-05-19 14:25:41.062 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-19 14:25:41.063 +07:00 [INF] Hosting environment: Development
2023-05-19 14:25:41.064 +07:00 [INF] Content root path: C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\
2023-05-19 14:25:41.066 +07:00 [DBG] Hosting started
2023-05-19 14:25:41.095 +07:00 [DBG] Connection id "0HMQO7902LHBD" received FIN.
2023-05-19 14:25:41.106 +07:00 [DBG] Connection id "0HMQO7902LHBD" accepted.
2023-05-19 14:25:41.109 +07:00 [DBG] Connection id "0HMQO7902LHBD" started.
2023-05-19 14:25:41.126 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-19 14:25:41.165 +07:00 [DBG] Connection id "0HMQO7902LHBD" stopped.
2023-05-19 14:25:41.170 +07:00 [DBG] Connection id "0HMQO7902LHBD" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-19 14:25:41.387 +07:00 [DBG] Connection id "0HMQO7902LHBE" accepted.
2023-05-19 14:25:41.390 +07:00 [DBG] Connection id "0HMQO7902LHBE" started.
2023-05-19 14:25:41.458 +07:00 [DBG] Connection 0HMQO7902LHBE established using the following protocol: "Tls12"
2023-05-19 14:25:41.514 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/index.html - -
2023-05-19 14:25:41.549 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-05-19 14:25:41.577 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-05-19 14:25:41.580 +07:00 [DBG] Request did not match any endpoints
2023-05-19 14:25:41.684 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-05-19 14:25:41.862 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_vs/browserLink - -
2023-05-19 14:25:41.862 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - -
2023-05-19 14:25:41.870 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-05-19 14:25:41.881 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/index.html - - - 200 - text/html;charset=utf-8 370.9779ms
2023-05-19 14:25:41.881 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_framework/aspnetcore-browser-refresh.js - - - 200 11984 application/javascript;+charset=utf-8 17.6879ms
2023-05-19 14:25:41.897 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 35.8641ms
2023-05-19 14:25:41.994 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - -
2023-05-19 14:25:41.995 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-05-19 14:25:41.997 +07:00 [DBG] Request did not match any endpoints
2023-05-19 14:25:42.171 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 177.9082ms
2023-05-19 14:25:58.031 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/api/v1/cities/1/pointsofinterest - -
2023-05-19 14:25:58.041 +07:00 [DBG] 1 candidate(s) found for the request path '/api/v1/cities/1/pointsofinterest'
2023-05-19 14:25:58.050 +07:00 [DBG] Endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo)' with route pattern 'api/v{version:apiVersion}/cities/{cityId}/pointsofinterest' is valid for the request path '/api/v1/cities/1/pointsofinterest'
2023-05-19 14:25:58.072 +07:00 [INF] Multiple candidate actions were found, but none matched the requested service API version '1'. Candidate actions: APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo)
2023-05-19 14:25:58.077 +07:00 [DBG] Request matched endpoint 'null'
2023-05-19 14:25:58.081 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-19 14:25:58.162 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-05-19 14:25:58.167 +07:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Http.Endpoint'
2023-05-19 14:25:58.176 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-05-19 14:25:58.189 +07:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-05-19 14:25:58.194 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-05-19 14:25:58.198 +07:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`1[[<>f__AnonymousType1`3[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Microsoft.AspNetCore.Mvc.Versioning, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60]], Microsoft.AspNetCore.Mvc.Versioning, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60]]'.
2023-05-19 14:25:58.367 +07:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Http.Endpoint'
2023-05-19 14:25:58.372 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/api/v1/cities/1/pointsofinterest - - - 400 215 application/json;+charset=utf-8 341.2035ms
2023-05-19 14:26:04.840 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7269/api/v2/cities/1/pointsofinterest - -
2023-05-19 14:26:04.842 +07:00 [DBG] 1 candidate(s) found for the request path '/api/v2/cities/1/pointsofinterest'
2023-05-19 14:26:04.844 +07:00 [DBG] Endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo)' with route pattern 'api/v{version:apiVersion}/cities/{cityId}/pointsofinterest' is valid for the request path '/api/v2/cities/1/pointsofinterest'
2023-05-19 14:26:04.847 +07:00 [DBG] Request matched endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo)'
2023-05-19 14:26:04.849 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-19 14:26:04.851 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-05-19 14:26:04.854 +07:00 [INF] Executing endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo)'
2023-05-19 14:26:04.884 +07:00 [INF] Route matched with {action = "GetPointOfInterests", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[APIDemo.Models.PointOfInterestDTO]]] GetPointOfInterests(Int32, System.String, System.String) on controller APIDemo.Controllers.PointOfInterestController (APIDemo).
2023-05-19 14:26:04.892 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-19 14:26:04.898 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-19 14:26:04.904 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-05-19 14:26:04.912 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-19 14:26:04.916 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-05-19 14:26:04.924 +07:00 [DBG] Executing controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-19 14:26:05.087 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-05-19 14:26:05.307 +07:00 [DBG] Executed controller factory for controller APIDemo.Controllers.PointOfInterestController (APIDemo)
2023-05-19 14:26:05.313 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-05-19 14:26:05.317 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-05-19 14:26:05.319 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-19 14:26:05.320 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-05-19 14:26:05.322 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-05-19 14:26:05.325 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-05-19 14:26:05.328 +07:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-05-19 14:26:05.330 +07:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2023-05-19 14:26:05.333 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2023-05-19 14:26:05.336 +07:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-05-19 14:26:05.338 +07:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-05-19 14:26:05.339 +07:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-05-19 14:26:05.342 +07:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-05-19 14:26:05.343 +07:00 [DBG] Attempting to bind parameter 'querySomething' of type 'System.String' ...
2023-05-19 14:26:05.344 +07:00 [DBG] Attempting to bind parameter 'querySomething' of type 'System.String' using the name '' in request data ...
2023-05-19 14:26:05.347 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'querySomething' of type 'System.String'.
2023-05-19 14:26:05.349 +07:00 [DBG] Done attempting to bind parameter 'querySomething' of type 'System.String'.
2023-05-19 14:26:05.350 +07:00 [DBG] Done attempting to bind parameter 'querySomething' of type 'System.String'.
2023-05-19 14:26:05.351 +07:00 [DBG] Attempting to validate the bound parameter 'querySomething' of type 'System.String' ...
2023-05-19 14:26:05.353 +07:00 [DBG] Done attempting to validate the bound parameter 'querySomething' of type 'System.String'.
2023-05-19 14:26:06.435 +07:00 [INF] Entity Framework Core 6.0.16 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.16' with options: None
2023-05-19 14:26:06.503 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(item => item.Id == __cityId_0)'
2023-05-19 14:26:06.840 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        APIDemo.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-19 14:26:06.916 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-19 14:26:06.994 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (74ms).
2023-05-19 14:26:07.015 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-19 14:26:07.040 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-19 14:26:07.062 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-19 14:26:07.103 +07:00 [INF] Executed DbCommand (46ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-05-19 14:26:07.124 +07:00 [DBG] A data reader was disposed.
2023-05-19 14:26:07.137 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-19 14:26:07.149 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-19 14:26:07.162 +07:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(item => item.CityId == __cityId_0)'
2023-05-19 14:26:07.227 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PointOfInterest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
        SELECT p.Id, p.CityId, p.Description, p.Name
        FROM PointOfInterests AS p
        WHERE p.CityId == @__cityId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
    APIDemo.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-05-19 14:26:07.238 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-19 14:26:07.240 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-05-19 14:26:07.242 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-05-19 14:26:07.244 +07:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-19 14:26:07.246 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE "p"."CityId" = @__cityId_0
2023-05-19 14:26:07.250 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE "p"."CityId" = @__cityId_0
2023-05-19 14:26:07.253 +07:00 [DBG] A data reader was disposed.
2023-05-19 14:26:07.254 +07:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nguyen Huy Linh\Desktop\C#Project\APIDemo\APIDemo\CityInfo.db'.
2023-05-19 14:26:07.258 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-05-19 14:26:07.282 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-05-19 14:26:07.287 +07:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2023-05-19 14:26:07.290 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-05-19 14:26:07.292 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[APIDemo.Models.PointOfInterestDTO, APIDemo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-05-19 14:26:07.312 +07:00 [INF] Executed action APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo) in 2382.7905ms
2023-05-19 14:26:07.315 +07:00 [INF] Executed endpoint 'APIDemo.Controllers.PointOfInterestController.GetPointOfInterests (APIDemo)'
2023-05-19 14:26:07.322 +07:00 [DBG] 'CityInfoContext' disposed.
2023-05-19 14:26:07.328 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7269/api/v2/cities/1/pointsofinterest - - - 200 2 application/json;+charset=utf-8 2488.8308ms
